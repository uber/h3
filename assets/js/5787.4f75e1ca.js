/*! For license information please see 5787.4f75e1ca.js.LICENSE.txt */
(self.webpackChunkh3_website=self.webpackChunkh3_website||[]).push([[5787],{8478:(A,e,t)=>{"use strict";t.d(e,{A:()=>i});var r=t(6540),n=t(2303);function i(A){let{children:e,fallback:t}=A;return(0,n.A)()?r.createElement(r.Fragment,null,null==e?void 0:e()):null!=t?t:null}},6570:A=>{"use strict";function e(A,e,r){r=r||2;var i,s,o,a,u,h,d,p=e&&e.length,g=p?e[0]*r:A.length,_=t(A,0,g,r,!0),m=[];if(!_||_.next===_.prev)return m;if(p&&(_=function(A,e,r,n){var i,s,o,a=[];for(i=0,s=e.length;i<s;i++)(o=t(A,e[i]*n,i<s-1?e[i+1]*n:A.length,n,!1))===o.next&&(o.steiner=!0),a.push(f(o));for(a.sort(c),i=0;i<a.length;i++)r=l(a[i],r);return r}(A,e,_,r)),A.length>80*r){i=o=A[0],s=a=A[1];for(var v=r;v<g;v+=r)(u=A[v])<i&&(i=u),(h=A[v+1])<s&&(s=h),u>o&&(o=u),h>a&&(a=h);d=0!==(d=Math.max(o-i,a-s))?32767/d:0}return n(_,m,r,i,s,d,0),m}function t(A,e,t,r,n){var i,s;if(n===C(A,e,t,r)>0)for(i=e;i<t;i+=r)s=y(i,A[i],A[i+1],s);else for(i=t-r;i>=e;i-=r)s=y(i,A[i],A[i+1],s);return s&&_(s,s.next)&&(T(s),s=s.next),s}function r(A,e){if(!A)return A;e||(e=A);var t,r=A;do{if(t=!1,r.steiner||!_(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(T(r),(r=e=r.prev)===r.next)break;t=!0}}while(t||r!==e);return e}function n(A,e,t,c,l,u,f){if(A){!f&&u&&function(A,e,t,r){var n=A;do{0===n.z&&(n.z=h(n.x,n.y,e,t,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==A);n.prevZ.nextZ=null,n.prevZ=null,function(A){var e,t,r,n,i,s,o,a,c=1;do{for(t=A,A=null,i=null,s=0;t;){for(s++,r=t,o=0,e=0;e<c&&(o++,r=r.nextZ);e++);for(a=c;o>0||a>0&&r;)0!==o&&(0===a||!r||t.z<=r.z)?(n=t,t=t.nextZ,o--):(n=r,r=r.nextZ,a--),i?i.nextZ=n:A=n,n.prevZ=i,i=n;t=r}i.nextZ=null,c*=2}while(s>1)}(n)}(A,c,l,u);for(var d,p,g=A;A.prev!==A.next;)if(d=A.prev,p=A.next,u?s(A,c,l,u):i(A))e.push(d.i/t|0),e.push(A.i/t|0),e.push(p.i/t|0),T(A),A=p.next,g=p.next;else if((A=p)===g){f?1===f?n(A=o(r(A),e,t),e,t,c,l,u,2):2===f&&a(A,e,t,c,l,u):n(r(A),e,t,c,l,u,1);break}}}function i(A){var e=A.prev,t=A,r=A.next;if(g(e,t,r)>=0)return!1;for(var n=e.x,i=t.x,s=r.x,o=e.y,a=t.y,c=r.y,l=n<i?n<s?n:s:i<s?i:s,u=o<a?o<c?o:c:a<c?a:c,h=n>i?n>s?n:s:i>s?i:s,f=o>a?o>c?o:c:a>c?a:c,p=r.next;p!==e;){if(p.x>=l&&p.x<=h&&p.y>=u&&p.y<=f&&d(n,o,i,a,s,c,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function s(A,e,t,r){var n=A.prev,i=A,s=A.next;if(g(n,i,s)>=0)return!1;for(var o=n.x,a=i.x,c=s.x,l=n.y,u=i.y,f=s.y,p=o<a?o<c?o:c:a<c?a:c,_=l<u?l<f?l:f:u<f?u:f,m=o>a?o>c?o:c:a>c?a:c,v=l>u?l>f?l:f:u>f?u:f,E=h(p,_,e,t,r),b=h(m,v,e,t,r),w=A.prevZ,y=A.nextZ;w&&w.z>=E&&y&&y.z<=b;){if(w.x>=p&&w.x<=m&&w.y>=_&&w.y<=v&&w!==n&&w!==s&&d(o,l,a,u,c,f,w.x,w.y)&&g(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,y.x>=p&&y.x<=m&&y.y>=_&&y.y<=v&&y!==n&&y!==s&&d(o,l,a,u,c,f,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;w&&w.z>=E;){if(w.x>=p&&w.x<=m&&w.y>=_&&w.y<=v&&w!==n&&w!==s&&d(o,l,a,u,c,f,w.x,w.y)&&g(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;y&&y.z<=b;){if(y.x>=p&&y.x<=m&&y.y>=_&&y.y<=v&&y!==n&&y!==s&&d(o,l,a,u,c,f,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function o(A,e,t){var n=A;do{var i=n.prev,s=n.next.next;!_(i,s)&&m(i,n,n.next,s)&&b(i,s)&&b(s,i)&&(e.push(i.i/t|0),e.push(n.i/t|0),e.push(s.i/t|0),T(n),T(n.next),n=A=s),n=n.next}while(n!==A);return r(n)}function a(A,e,t,i,s,o){var a=A;do{for(var c=a.next.next;c!==a.prev;){if(a.i!==c.i&&p(a,c)){var l=w(a,c);return a=r(a,a.next),l=r(l,l.next),n(a,e,t,i,s,o,0),void n(l,e,t,i,s,o,0)}c=c.next}a=a.next}while(a!==A)}function c(A,e){return A.x-e.x}function l(A,e){var t=function(A,e){var t,r=e,n=A.x,i=A.y,s=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var o=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=n&&o>s&&(s=o,t=r.x<r.next.x?r:r.next,o===n))return t}r=r.next}while(r!==e);if(!t)return null;var a,c=t,l=t.x,h=t.y,f=1/0;r=t;do{n>=r.x&&r.x>=l&&n!==r.x&&d(i<h?n:s,i,l,h,i<h?s:n,i,r.x,r.y)&&(a=Math.abs(i-r.y)/(n-r.x),b(r,A)&&(a<f||a===f&&(r.x>t.x||r.x===t.x&&u(t,r)))&&(t=r,f=a)),r=r.next}while(r!==c);return t}(A,e);if(!t)return e;var n=w(t,A);return r(n,n.next),r(t,t.next)}function u(A,e){return g(A.prev,A,e.prev)<0&&g(e.next,A,A.next)<0}function h(A,e,t,r,n){return(A=1431655765&((A=858993459&((A=252645135&((A=16711935&((A=(A-t)*n|0)|A<<8))|A<<4))|A<<2))|A<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*n|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(A){var e=A,t=A;do{(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next}while(e!==A);return t}function d(A,e,t,r,n,i,s,o){return(n-s)*(e-o)>=(A-s)*(i-o)&&(A-s)*(r-o)>=(t-s)*(e-o)&&(t-s)*(i-o)>=(n-s)*(r-o)}function p(A,e){return A.next.i!==e.i&&A.prev.i!==e.i&&!function(A,e){var t=A;do{if(t.i!==A.i&&t.next.i!==A.i&&t.i!==e.i&&t.next.i!==e.i&&m(t,t.next,A,e))return!0;t=t.next}while(t!==A);return!1}(A,e)&&(b(A,e)&&b(e,A)&&function(A,e){var t=A,r=!1,n=(A.x+e.x)/2,i=(A.y+e.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&n<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==A);return r}(A,e)&&(g(A.prev,A,e.prev)||g(A,e.prev,e))||_(A,e)&&g(A.prev,A,A.next)>0&&g(e.prev,e,e.next)>0)}function g(A,e,t){return(e.y-A.y)*(t.x-e.x)-(e.x-A.x)*(t.y-e.y)}function _(A,e){return A.x===e.x&&A.y===e.y}function m(A,e,t,r){var n=E(g(A,e,t)),i=E(g(A,e,r)),s=E(g(t,r,A)),o=E(g(t,r,e));return n!==i&&s!==o||(!(0!==n||!v(A,t,e))||(!(0!==i||!v(A,r,e))||(!(0!==s||!v(t,A,r))||!(0!==o||!v(t,e,r)))))}function v(A,e,t){return e.x<=Math.max(A.x,t.x)&&e.x>=Math.min(A.x,t.x)&&e.y<=Math.max(A.y,t.y)&&e.y>=Math.min(A.y,t.y)}function E(A){return A>0?1:A<0?-1:0}function b(A,e){return g(A.prev,A,A.next)<0?g(A,e,A.next)>=0&&g(A,A.prev,e)>=0:g(A,e,A.prev)<0||g(A,A.next,e)<0}function w(A,e){var t=new S(A.i,A.x,A.y),r=new S(e.i,e.x,e.y),n=A.next,i=e.prev;return A.next=e,e.prev=A,t.next=n,n.prev=t,r.next=t,t.prev=r,i.next=r,r.prev=i,r}function y(A,e,t,r){var n=new S(A,e,t);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function T(A){A.next.prev=A.prev,A.prev.next=A.next,A.prevZ&&(A.prevZ.nextZ=A.nextZ),A.nextZ&&(A.nextZ.prevZ=A.prevZ)}function S(A,e,t){this.i=A,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(A,e,t,r){for(var n=0,i=e,s=t-r;i<t;i+=r)n+=(A[s]-A[i])*(A[i+1]+A[s+1]),s=i;return n}A.exports=e,A.exports.default=e,e.deviation=function(A,e,t,r){var n=e&&e.length,i=n?e[0]*t:A.length,s=Math.abs(C(A,0,i,t));if(n)for(var o=0,a=e.length;o<a;o++){var c=e[o]*t,l=o<a-1?e[o+1]*t:A.length;s-=Math.abs(C(A,c,l,t))}var u=0;for(o=0;o<r.length;o+=3){var h=r[o]*t,f=r[o+1]*t,d=r[o+2]*t;u+=Math.abs((A[h]-A[d])*(A[f+1]-A[h+1])-(A[h]-A[f])*(A[d+1]-A[h+1]))}return 0===s&&0===u?0:Math.abs((u-s)/s)},e.flatten=function(A){for(var e=A[0][0].length,t={vertices:[],holes:[],dimensions:e},r=0,n=0;n<A.length;n++){for(var i=0;i<A[n].length;i++)for(var s=0;s<e;s++)t.vertices.push(A[n][i][s]);n>0&&(r+=A[n-1].length,t.holes.push(r))}return t}},7304:(A,e,t)=>{"use strict";t.d(e,{Hn:()=>W,JS:()=>z,O$:()=>j,PB:()=>V,QN:()=>v,Sg:()=>H,Sq:()=>eA,Wq:()=>AA,Wy:()=>tA,Y9:()=>J,_k:()=>X,gb:()=>rA,h6:()=>S,l3:()=>Q,r1:()=>q,s7:()=>K,u$:()=>Y,uE:()=>$,xZ:()=>Z,yn:()=>nA});var r=function(A){var e,t=void 0!==(A=A||{})?A:{},r={};for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);var n,i=[],s="";"undefined"!=typeof document&&document.currentScript&&(s=document.currentScript.src),s=0!==s.indexOf("blob:")?s.substr(0,s.lastIndexOf("/")+1):"",n=function(A,e,t){var r=new XMLHttpRequest;r.open("GET",A,!0),r.responseType="arraybuffer",r.onload=function(){if(200==r.status||0==r.status&&r.response)e(r.response);else{var n=Y(A);n?e(n.buffer):t()}},r.onerror=t,r.send(null)};var o=t.print||console.log.bind(console),a=t.printErr||console.warn.bind(console);for(e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);r=null,t.arguments&&(i=t.arguments);var c=0;var l=!1;function u(A){var e,r=t["_"+A];return e="Cannot call unknown function "+A+", make sure it is exported",r||oA("Assertion failed: "+e),r}function h(A,e,t,r,n){var i={string:function(A){var e=0;if(null!=A&&0!==A){var t=1+(A.length<<2);(function(A,e,t){(function(A,e,t,r){if(!(r>0))return 0;for(var n=t,i=t+r-1,s=0;s<A.length;++s){var o=A.charCodeAt(s);if(o>=55296&&o<=57343)o=65536+((1023&o)<<10)|1023&A.charCodeAt(++s);if(o<=127){if(t>=i)break;e[t++]=o}else if(o<=2047){if(t+1>=i)break;e[t++]=192|o>>6,e[t++]=128|63&o}else if(o<=65535){if(t+2>=i)break;e[t++]=224|o>>12,e[t++]=128|o>>6&63,e[t++]=128|63&o}else{if(t+3>=i)break;e[t++]=240|o>>18,e[t++]=128|o>>12&63,e[t++]=128|o>>6&63,e[t++]=128|63&o}}e[t]=0})(A,_,e,t)})(A,e=J(t),t)}return e},array:function(A){var e=J(A.length);return function(A,e){g.set(A,e)}(A,e),e}};var s=u(A),o=[],a=0;if(r)for(var c=0;c<r.length;c++){var l=i[t[c]];l?(0===a&&(a=eA()),o[c]=l(r[c])):o[c]=r[c]}var h=s.apply(null,o);return h=function(A){return"string"===e?d(A):"boolean"===e?Boolean(A):A}(h),0!==a&&AA(a),h}var f="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function d(A,e){return A?function(A,e,t){for(var r=e+t,n=e;A[n]&&!(n>=r);)++n;if(n-e>16&&A.subarray&&f)return f.decode(A.subarray(e,n));for(var i="";e<n;){var s=A[e++];if(128&s){var o=63&A[e++];if(192!=(224&s)){var a=63&A[e++];if((s=224==(240&s)?(15&s)<<12|o<<6|a:(7&s)<<18|o<<12|a<<6|63&A[e++])<65536)i+=String.fromCharCode(s);else{var c=s-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&s)<<6|o)}else i+=String.fromCharCode(s)}return i}(_,A,e):""}var p,g,_,m,v,E,b;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");function w(A,e){return A%e>0&&(A+=e-A%e),A}function y(A){p=A,t.HEAP8=g=new Int8Array(A),t.HEAP16=m=new Int16Array(A),t.HEAP32=v=new Int32Array(A),t.HEAPU8=_=new Uint8Array(A),t.HEAPU16=new Uint16Array(A),t.HEAPU32=new Uint32Array(A),t.HEAPF32=E=new Float32Array(A),t.HEAPF64=b=new Float64Array(A)}var T=t.TOTAL_MEMORY||33554432;function S(A){for(;A.length>0;){var e=A.shift();if("function"!=typeof e){var r=e.func;"number"==typeof r?void 0===e.arg?t.dynCall_v(r):t.dynCall_vi(r,e.arg):r(void 0===e.arg?null:e.arg)}else e()}}T=(p=t.buffer?t.buffer:new ArrayBuffer(T)).byteLength,y(p),v[7152]=5271520;var C=[],R=[],P=[],x=[];var M=Math.abs,k=Math.ceil,B=Math.floor,I=Math.min,L=0,D=null,O=null;t.preloadedImages={},t.preloadedAudios={};var F,N,U=null,G="data:application/octet-stream;base64,";function z(A){return String.prototype.startsWith?A.startsWith(G):0===A.indexOf(G)}U="data:application/octet-stream;base64,AAAAAAAAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAAAQAAAAQAAAADAAAABgAAAAUAAAACAAAAAAAAAAIAAAADAAAAAQAAAAQAAAAGAAAAAAAAAAUAAAADAAAABgAAAAQAAAAFAAAAAAAAAAEAAAACAAAABAAAAAUAAAAGAAAAAAAAAAIAAAADAAAAAQAAAAUAAAACAAAAAAAAAAEAAAADAAAABgAAAAQAAAAGAAAAAAAAAAUAAAACAAAAAQAAAAQAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAAAAAAEAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAYAAAAAAAAABQAAAAAAAAAAAAAABAAAAAUAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAYAAAAAAAAAAwAAAAIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAFAAAABAAAAAAAAAABAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAgAAAAQAAAADAAAACAAAAAEAAAAHAAAABgAAAAkAAAAAAAAAAwAAAAIAAAACAAAABgAAAAoAAAALAAAAAAAAAAEAAAAFAAAAAwAAAA0AAAABAAAABwAAAAQAAAAMAAAAAAAAAAQAAAB/AAAADwAAAAgAAAADAAAAAAAAAAwAAAAFAAAAAgAAABIAAAAKAAAACAAAAAAAAAAQAAAABgAAAA4AAAALAAAAEQAAAAEAAAAJAAAAAgAAAAcAAAAVAAAACQAAABMAAAADAAAADQAAAAEAAAAIAAAABQAAABYAAAAQAAAABAAAAAAAAAAPAAAACQAAABMAAAAOAAAAFAAAAAEAAAAHAAAABgAAAAoAAAALAAAAGAAAABcAAAAFAAAAAgAAABIAAAALAAAAEQAAABcAAAAZAAAAAgAAAAYAAAAKAAAADAAAABwAAAANAAAAGgAAAAQAAAAPAAAAAwAAAA0AAAAaAAAAFQAAAB0AAAADAAAADAAAAAcAAAAOAAAAfwAAABEAAAAbAAAACQAAABQAAAAGAAAADwAAABYAAAAcAAAAHwAAAAQAAAAIAAAADAAAABAAAAASAAAAIQAAAB4AAAAIAAAABQAAABYAAAARAAAACwAAAA4AAAAGAAAAIwAAABkAAAAbAAAAEgAAABgAAAAeAAAAIAAAAAUAAAAKAAAAEAAAABMAAAAiAAAAFAAAACQAAAAHAAAAFQAAAAkAAAAUAAAADgAAABMAAAAJAAAAKAAAABsAAAAkAAAAFQAAACYAAAATAAAAIgAAAA0AAAAdAAAABwAAABYAAAAQAAAAKQAAACEAAAAPAAAACAAAAB8AAAAXAAAAGAAAAAsAAAAKAAAAJwAAACUAAAAZAAAAGAAAAH8AAAAgAAAAJQAAAAoAAAAXAAAAEgAAABkAAAAXAAAAEQAAAAsAAAAtAAAAJwAAACMAAAAaAAAAKgAAAB0AAAArAAAADAAAABwAAAANAAAAGwAAACgAAAAjAAAALgAAAA4AAAAUAAAAEQAAABwAAAAfAAAAKgAAACwAAAAMAAAADwAAABoAAAAdAAAAKwAAACYAAAAvAAAADQAAABoAAAAVAAAAHgAAACAAAAAwAAAAMgAAABAAAAASAAAAIQAAAB8AAAApAAAALAAAADUAAAAPAAAAFgAAABwAAAAgAAAAHgAAABgAAAASAAAANAAAADIAAAAlAAAAIQAAAB4AAAAxAAAAMAAAABYAAAAQAAAAKQAAACIAAAATAAAAJgAAABUAAAA2AAAAJAAAADMAAAAjAAAALgAAAC0AAAA4AAAAEQAAABsAAAAZAAAAJAAAABQAAAAiAAAAEwAAADcAAAAoAAAANgAAACUAAAAnAAAANAAAADkAAAAYAAAAFwAAACAAAAAmAAAAfwAAACIAAAAzAAAAHQAAAC8AAAAVAAAAJwAAACUAAAAZAAAAFwAAADsAAAA5AAAALQAAACgAAAAbAAAAJAAAABQAAAA8AAAALgAAADcAAAApAAAAMQAAADUAAAA9AAAAFgAAACEAAAAfAAAAKgAAADoAAAArAAAAPgAAABwAAAAsAAAAGgAAACsAAAA+AAAALwAAAEAAAAAaAAAAKgAAAB0AAAAsAAAANQAAADoAAABBAAAAHAAAAB8AAAAqAAAALQAAACcAAAAjAAAAGQAAAD8AAAA7AAAAOAAAAC4AAAA8AAAAOAAAAEQAAAAbAAAAKAAAACMAAAAvAAAAJgAAACsAAAAdAAAARQAAADMAAABAAAAAMAAAADEAAAAeAAAAIQAAAEMAAABCAAAAMgAAADEAAAB/AAAAPQAAAEIAAAAhAAAAMAAAACkAAAAyAAAAMAAAACAAAAAeAAAARgAAAEMAAAA0AAAAMwAAAEUAAAA2AAAARwAAACYAAAAvAAAAIgAAADQAAAA5AAAARgAAAEoAAAAgAAAAJQAAADIAAAA1AAAAPQAAAEEAAABLAAAAHwAAACkAAAAsAAAANgAAAEcAAAA3AAAASQAAACIAAAAzAAAAJAAAADcAAAAoAAAANgAAACQAAABIAAAAPAAAAEkAAAA4AAAARAAAAD8AAABNAAAAIwAAAC4AAAAtAAAAOQAAADsAAABKAAAATgAAACUAAAAnAAAANAAAADoAAAB/AAAAPgAAAEwAAAAsAAAAQQAAACoAAAA7AAAAPwAAAE4AAABPAAAAJwAAAC0AAAA5AAAAPAAAAEgAAABEAAAAUAAAACgAAAA3AAAALgAAAD0AAAA1AAAAMQAAACkAAABRAAAASwAAAEIAAAA+AAAAKwAAADoAAAAqAAAAUgAAAEAAAABMAAAAPwAAAH8AAAA4AAAALQAAAE8AAAA7AAAATQAAAEAAAAAvAAAAPgAAACsAAABUAAAARQAAAFIAAABBAAAAOgAAADUAAAAsAAAAVgAAAEwAAABLAAAAQgAAAEMAAABRAAAAVQAAADEAAAAwAAAAPQAAAEMAAABCAAAAMgAAADAAAABXAAAAVQAAAEYAAABEAAAAOAAAADwAAAAuAAAAWgAAAE0AAABQAAAARQAAADMAAABAAAAALwAAAFkAAABHAAAAVAAAAEYAAABDAAAANAAAADIAAABTAAAAVwAAAEoAAABHAAAAWQAAAEkAAABbAAAAMwAAAEUAAAA2AAAASAAAAH8AAABJAAAANwAAAFAAAAA8AAAAWAAAAEkAAABbAAAASAAAAFgAAAA2AAAARwAAADcAAABKAAAATgAAAFMAAABcAAAANAAAADkAAABGAAAASwAAAEEAAAA9AAAANQAAAF4AAABWAAAAUQAAAEwAAABWAAAAUgAAAGAAAAA6AAAAQQAAAD4AAABNAAAAPwAAAEQAAAA4AAAAXQAAAE8AAABaAAAATgAAAEoAAAA7AAAAOQAAAF8AAABcAAAATwAAAE8AAABOAAAAPwAAADsAAABdAAAAXwAAAE0AAABQAAAARAAAAEgAAAA8AAAAYwAAAFoAAABYAAAAUQAAAFUAAABeAAAAZQAAAD0AAABCAAAASwAAAFIAAABgAAAAVAAAAGIAAAA+AAAATAAAAEAAAABTAAAAfwAAAEoAAABGAAAAZAAAAFcAAABcAAAAVAAAAEUAAABSAAAAQAAAAGEAAABZAAAAYgAAAFUAAABXAAAAZQAAAGYAAABCAAAAQwAAAFEAAABWAAAATAAAAEsAAABBAAAAaAAAAGAAAABeAAAAVwAAAFMAAABmAAAAZAAAAEMAAABGAAAAVQAAAFgAAABIAAAAWwAAAEkAAABjAAAAUAAAAGkAAABZAAAAYQAAAFsAAABnAAAARQAAAFQAAABHAAAAWgAAAE0AAABQAAAARAAAAGoAAABdAAAAYwAAAFsAAABJAAAAWQAAAEcAAABpAAAAWAAAAGcAAABcAAAAUwAAAE4AAABKAAAAbAAAAGQAAABfAAAAXQAAAE8AAABaAAAATQAAAG0AAABfAAAAagAAAF4AAABWAAAAUQAAAEsAAABrAAAAaAAAAGUAAABfAAAAXAAAAE8AAABOAAAAbQAAAGwAAABdAAAAYAAAAGgAAABiAAAAbgAAAEwAAABWAAAAUgAAAGEAAAB/AAAAYgAAAFQAAABnAAAAWQAAAG8AAABiAAAAbgAAAGEAAABvAAAAUgAAAGAAAABUAAAAYwAAAFAAAABpAAAAWAAAAGoAAABaAAAAcQAAAGQAAABmAAAAUwAAAFcAAABsAAAAcgAAAFwAAABlAAAAZgAAAGsAAABwAAAAUQAAAFUAAABeAAAAZgAAAGUAAABXAAAAVQAAAHIAAABwAAAAZAAAAGcAAABbAAAAYQAAAFkAAAB0AAAAaQAAAG8AAABoAAAAawAAAG4AAABzAAAAVgAAAF4AAABgAAAAaQAAAFgAAABnAAAAWwAAAHEAAABjAAAAdAAAAGoAAABdAAAAYwAAAFoAAAB1AAAAbQAAAHEAAABrAAAAfwAAAGUAAABeAAAAcwAAAGgAAABwAAAAbAAAAGQAAABfAAAAXAAAAHYAAAByAAAAbQAAAG0AAABsAAAAXQAAAF8AAAB1AAAAdgAAAGoAAABuAAAAYgAAAGgAAABgAAAAdwAAAG8AAABzAAAAbwAAAGEAAABuAAAAYgAAAHQAAABnAAAAdwAAAHAAAABrAAAAZgAAAGUAAAB4AAAAcwAAAHIAAABxAAAAYwAAAHQAAABpAAAAdQAAAGoAAAB5AAAAcgAAAHAAAABkAAAAZgAAAHYAAAB4AAAAbAAAAHMAAABuAAAAawAAAGgAAAB4AAAAdwAAAHAAAAB0AAAAZwAAAHcAAABvAAAAcQAAAGkAAAB5AAAAdQAAAH8AAABtAAAAdgAAAHEAAAB5AAAAagAAAHYAAAB4AAAAbAAAAHIAAAB1AAAAeQAAAG0AAAB3AAAAbwAAAHMAAABuAAAAeQAAAHQAAAB4AAAAeAAAAHMAAAByAAAAcAAAAHkAAAB3AAAAdgAAAHkAAAB0AAAAeAAAAHcAAAB1AAAAcQAAAHYAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAACAAAABQAAAAEAAAAAAAAA/////wEAAAAAAAAAAwAAAAQAAAACAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAUAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABAAAAAUAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAUAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAD//////////wEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAAAAAAAAAAABAAAAAgAAAAYAAAAEAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAAAAAAAAAAAAQAAAAEAAAAFAAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAAAAAAAAAAABAAAAAwAAAAcAAAAGAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADgAAAAIAAAAAAAAAAAAAAAEAAAAAAAAACQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAAAAAAAAAAAAAEAAAAEAAAACAAAAAoAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAAAAAAAAAAAAQAAAAsAAAAPAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAIAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAAAAAAAAAAAAQAAAAwAAAAQAAAADAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAAAAAAAAAAABAAAACgAAABMAAAAIAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAAAAAAAAAAEAAAANAAAAEQAAAA0AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAACAAAAAAAAAAAAAAABAAAADgAAABIAAAAPAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAADwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABIAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAAAAAAAAQAAAP//////////EwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAASAAAAAAAAABgAAAAAAAAAIQAAAAAAAAAeAAAAAAAAACAAAAADAAAAMQAAAAEAAAAwAAAAAwAAADIAAAADAAAACAAAAAAAAAAFAAAABQAAAAoAAAAFAAAAFgAAAAAAAAAQAAAAAAAAABIAAAAAAAAAKQAAAAEAAAAhAAAAAAAAAB4AAAAAAAAABAAAAAAAAAAAAAAABQAAAAIAAAAFAAAADwAAAAEAAAAIAAAAAAAAAAUAAAAFAAAAHwAAAAEAAAAWAAAAAAAAABAAAAAAAAAAAgAAAAAAAAAGAAAAAAAAAA4AAAAAAAAACgAAAAAAAAALAAAAAAAAABEAAAADAAAAGAAAAAEAAAAXAAAAAwAAABkAAAADAAAAAAAAAAAAAAABAAAABQAAAAkAAAAFAAAABQAAAAAAAAACAAAAAAAAAAYAAAAAAAAAEgAAAAEAAAAKAAAAAAAAAAsAAAAAAAAABAAAAAEAAAADAAAABQAAAAcAAAAFAAAACAAAAAEAAAAAAAAAAAAAAAEAAAAFAAAAEAAAAAEAAAAFAAAAAAAAAAIAAAAAAAAABwAAAAAAAAAVAAAAAAAAACYAAAAAAAAACQAAAAAAAAATAAAAAAAAACIAAAADAAAADgAAAAEAAAAUAAAAAwAAACQAAAADAAAAAwAAAAAAAAANAAAABQAAAB0AAAAFAAAAAQAAAAAAAAAHAAAAAAAAABUAAAAAAAAABgAAAAEAAAAJAAAAAAAAABMAAAAAAAAABAAAAAIAAAAMAAAABQAAABoAAAAFAAAAAAAAAAEAAAADAAAAAAAAAA0AAAAFAAAAAgAAAAEAAAABAAAAAAAAAAcAAAAAAAAAGgAAAAAAAAAqAAAAAAAAADoAAAAAAAAAHQAAAAAAAAArAAAAAAAAAD4AAAADAAAAJgAAAAEAAAAvAAAAAwAAAEAAAAADAAAADAAAAAAAAAAcAAAABQAAACwAAAAFAAAADQAAAAAAAAAaAAAAAAAAACoAAAAAAAAAFQAAAAEAAAAdAAAAAAAAACsAAAAAAAAABAAAAAMAAAAPAAAABQAAAB8AAAAFAAAAAwAAAAEAAAAMAAAAAAAAABwAAAAFAAAABwAAAAEAAAANAAAAAAAAABoAAAAAAAAAHwAAAAAAAAApAAAAAAAAADEAAAAAAAAALAAAAAAAAAA1AAAAAAAAAD0AAAADAAAAOgAAAAEAAABBAAAAAwAAAEsAAAADAAAADwAAAAAAAAAWAAAABQAAACEAAAAFAAAAHAAAAAAAAAAfAAAAAAAAACkAAAAAAAAAKgAAAAEAAAAsAAAAAAAAADUAAAAAAAAABAAAAAQAAAAIAAAABQAAABAAAAAFAAAADAAAAAEAAAAPAAAAAAAAABYAAAAFAAAAGgAAAAEAAAAcAAAAAAAAAB8AAAAAAAAAMgAAAAAAAAAwAAAAAAAAADEAAAADAAAAIAAAAAAAAAAeAAAAAwAAACEAAAADAAAAGAAAAAMAAAASAAAAAwAAABAAAAADAAAARgAAAAAAAABDAAAAAAAAAEIAAAADAAAANAAAAAMAAAAyAAAAAAAAADAAAAAAAAAAJQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAUwAAAAAAAABXAAAAAwAAAFUAAAADAAAASgAAAAMAAABGAAAAAAAAAEMAAAAAAAAAOQAAAAEAAAA0AAAAAwAAADIAAAAAAAAAGQAAAAAAAAAXAAAAAAAAABgAAAADAAAAEQAAAAAAAAALAAAAAwAAAAoAAAADAAAADgAAAAMAAAAGAAAAAwAAAAIAAAADAAAALQAAAAAAAAAnAAAAAAAAACUAAAADAAAAIwAAAAMAAAAZAAAAAAAAABcAAAAAAAAAGwAAAAMAAAARAAAAAAAAAAsAAAADAAAAPwAAAAAAAAA7AAAAAwAAADkAAAADAAAAOAAAAAMAAAAtAAAAAAAAACcAAAAAAAAALgAAAAMAAAAjAAAAAwAAABkAAAAAAAAAJAAAAAAAAAAUAAAAAAAAAA4AAAADAAAAIgAAAAAAAAATAAAAAwAAAAkAAAADAAAAJgAAAAMAAAAVAAAAAwAAAAcAAAADAAAANwAAAAAAAAAoAAAAAAAAABsAAAADAAAANgAAAAMAAAAkAAAAAAAAABQAAAAAAAAAMwAAAAMAAAAiAAAAAAAAABMAAAADAAAASAAAAAAAAAA8AAAAAwAAAC4AAAADAAAASQAAAAMAAAA3AAAAAAAAACgAAAAAAAAARwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAQAAAAAAAAAAvAAAAAAAAACYAAAADAAAAPgAAAAAAAAArAAAAAwAAAB0AAAADAAAAOgAAAAMAAAAqAAAAAwAAABoAAAADAAAAVAAAAAAAAABFAAAAAAAAADMAAAADAAAAUgAAAAMAAABAAAAAAAAAAC8AAAAAAAAATAAAAAMAAAA+AAAAAAAAACsAAAADAAAAYQAAAAAAAABZAAAAAwAAAEcAAAADAAAAYgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAYAAAAAMAAABSAAAAAwAAAEAAAAAAAAAASwAAAAAAAABBAAAAAAAAADoAAAADAAAAPQAAAAAAAAA1AAAAAwAAACwAAAADAAAAMQAAAAMAAAApAAAAAwAAAB8AAAADAAAAXgAAAAAAAABWAAAAAAAAAEwAAAADAAAAUQAAAAMAAABLAAAAAAAAAEEAAAAAAAAAQgAAAAMAAAA9AAAAAAAAADUAAAADAAAAawAAAAAAAABoAAAAAwAAAGAAAAADAAAAZQAAAAMAAABeAAAAAAAAAFYAAAAAAAAAVQAAAAMAAABRAAAAAwAAAEsAAAAAAAAAOQAAAAAAAAA7AAAAAAAAAD8AAAADAAAASgAAAAAAAABOAAAAAwAAAE8AAAADAAAAUwAAAAMAAABcAAAAAwAAAF8AAAADAAAAJQAAAAAAAAAnAAAAAwAAAC0AAAADAAAANAAAAAAAAAA5AAAAAAAAADsAAAAAAAAARgAAAAMAAABKAAAAAAAAAE4AAAADAAAAGAAAAAAAAAAXAAAAAwAAABkAAAADAAAAIAAAAAMAAAAlAAAAAAAAACcAAAADAAAAMgAAAAMAAAA0AAAAAAAAADkAAAAAAAAALgAAAAAAAAA8AAAAAAAAAEgAAAADAAAAOAAAAAAAAABEAAAAAwAAAFAAAAADAAAAPwAAAAMAAABNAAAAAwAAAFoAAAADAAAAGwAAAAAAAAAoAAAAAwAAADcAAAADAAAAIwAAAAAAAAAuAAAAAAAAADwAAAAAAAAALQAAAAMAAAA4AAAAAAAAAEQAAAADAAAADgAAAAAAAAAUAAAAAwAAACQAAAADAAAAEQAAAAMAAAAbAAAAAAAAACgAAAADAAAAGQAAAAMAAAAjAAAAAAAAAC4AAAAAAAAARwAAAAAAAABZAAAAAAAAAGEAAAADAAAASQAAAAAAAABbAAAAAwAAAGcAAAADAAAASAAAAAMAAABYAAAAAwAAAGkAAAADAAAAMwAAAAAAAABFAAAAAwAAAFQAAAADAAAANgAAAAAAAABHAAAAAAAAAFkAAAAAAAAANwAAAAMAAABJAAAAAAAAAFsAAAADAAAAJgAAAAAAAAAvAAAAAwAAAEAAAAADAAAAIgAAAAMAAAAzAAAAAAAAAEUAAAADAAAAJAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAYAAAAAAAAABoAAAAAAAAAGsAAAADAAAAYgAAAAAAAABuAAAAAwAAAHMAAAADAAAAYQAAAAMAAABvAAAAAwAAAHcAAAADAAAATAAAAAAAAABWAAAAAwAAAF4AAAADAAAAUgAAAAAAAABgAAAAAAAAAGgAAAAAAAAAVAAAAAMAAABiAAAAAAAAAG4AAAADAAAAOgAAAAAAAABBAAAAAwAAAEsAAAADAAAAPgAAAAMAAABMAAAAAAAAAFYAAAADAAAAQAAAAAMAAABSAAAAAAAAAGAAAAAAAAAAVQAAAAAAAABXAAAAAAAAAFMAAAADAAAAZQAAAAAAAABmAAAAAwAAAGQAAAADAAAAawAAAAMAAABwAAAAAwAAAHIAAAADAAAAQgAAAAAAAABDAAAAAwAAAEYAAAADAAAAUQAAAAAAAABVAAAAAAAAAFcAAAAAAAAAXgAAAAMAAABlAAAAAAAAAGYAAAADAAAAMQAAAAAAAAAwAAAAAwAAADIAAAADAAAAPQAAAAMAAABCAAAAAAAAAEMAAAADAAAASwAAAAMAAABRAAAAAAAAAFUAAAAAAAAAXwAAAAAAAABcAAAAAAAAAFMAAAAAAAAATwAAAAAAAABOAAAAAAAAAEoAAAADAAAAPwAAAAEAAAA7AAAAAwAAADkAAAADAAAAbQAAAAAAAABsAAAAAAAAAGQAAAAFAAAAXQAAAAEAAABfAAAAAAAAAFwAAAAAAAAATQAAAAEAAABPAAAAAAAAAE4AAAAAAAAAdQAAAAQAAAB2AAAABQAAAHIAAAAFAAAAagAAAAEAAABtAAAAAAAAAGwAAAAAAAAAWgAAAAEAAABdAAAAAQAAAF8AAAAAAAAAWgAAAAAAAABNAAAAAAAAAD8AAAAAAAAAUAAAAAAAAABEAAAAAAAAADgAAAADAAAASAAAAAEAAAA8AAAAAwAAAC4AAAADAAAAagAAAAAAAABdAAAAAAAAAE8AAAAFAAAAYwAAAAEAAABaAAAAAAAAAE0AAAAAAAAAWAAAAAEAAABQAAAAAAAAAEQAAAAAAAAAdQAAAAMAAABtAAAABQAAAF8AAAAFAAAAcQAAAAEAAABqAAAAAAAAAF0AAAAAAAAAaQAAAAEAAABjAAAAAQAAAFoAAAAAAAAAaQAAAAAAAABYAAAAAAAAAEgAAAAAAAAAZwAAAAAAAABbAAAAAAAAAEkAAAADAAAAYQAAAAEAAABZAAAAAwAAAEcAAAADAAAAcQAAAAAAAABjAAAAAAAAAFAAAAAFAAAAdAAAAAEAAABpAAAAAAAAAFgAAAAAAAAAbwAAAAEAAABnAAAAAAAAAFsAAAAAAAAAdQAAAAIAAABqAAAABQAAAFoAAAAFAAAAeQAAAAEAAABxAAAAAAAAAGMAAAAAAAAAdwAAAAEAAAB0AAAAAQAAAGkAAAAAAAAAdwAAAAAAAABvAAAAAAAAAGEAAAAAAAAAcwAAAAAAAABuAAAAAAAAAGIAAAADAAAAawAAAAEAAABoAAAAAwAAAGAAAAADAAAAeQAAAAAAAAB0AAAAAAAAAGcAAAAFAAAAeAAAAAEAAAB3AAAAAAAAAG8AAAAAAAAAcAAAAAEAAABzAAAAAAAAAG4AAAAAAAAAdQAAAAEAAABxAAAABQAAAGkAAAAFAAAAdgAAAAEAAAB5AAAAAAAAAHQAAAAAAAAAcgAAAAEAAAB4AAAAAQAAAHcAAAAAAAAAcgAAAAAAAABwAAAAAAAAAGsAAAAAAAAAZAAAAAAAAABmAAAAAAAAAGUAAAADAAAAUwAAAAEAAABXAAAAAwAAAFUAAAADAAAAdgAAAAAAAAB4AAAAAAAAAHMAAAAFAAAAbAAAAAEAAAByAAAAAAAAAHAAAAAAAAAAXAAAAAEAAABkAAAAAAAAAGYAAAAAAAAAdQAAAAAAAAB5AAAABQAAAHcAAAAFAAAAbQAAAAEAAAB2AAAAAAAAAHgAAAAAAAAAXwAAAAEAAABsAAAAAQAAAHIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAGAAAAAgAAAAUAAAABAAAABAAAAAAAAAAAAAAABQAAAAMAAAABAAAABgAAAAQAAAACAAAAAAAAAH6iBfbytuk/Gq6akm/58z/Xrm0Liez0P5doSdOpSwRAWs602ULg8D/dT7Rcbo/1v1N1RQHFNOM/g9Snx7HW3L8HWsP8Q3jfP6VwOLosutk/9rjk1YQcxj+gnmKMsNn6P/HDeuPFY+M/YHwDjqKhB0Ci19/fCVrbP4UxKkDWOP6/pvljWa09tL9wi7wrQXjnv/Z6yLImkM2/3yTlOzY14D+m+WNZrT20PzwKVQnrQwNA9nrIsiaQzT/g40rFrRQFwPa45NWEHMa/kbslHEZq97/xw3rjxWPjv4cLC2SMBci/otff3wla27+rKF5oIAv0P1N1RQHFNOO/iDJPGyWHBUAHWsP8Q3jfvwQf/by16gXAfqIF9vK26b8XrO0Vh0r+v9eubQuJ7PS/BxLrA0ZZ479azrTZQuDwv1MK1EuItPw/yscgV9Z6FkAwHBR2WjQMQJNRzXsQ5vY/GlUHVJYKF0DONuFv2lMNQNCGZ28QJfk/0WUwoIL36D8ggDOMQuATQNqMOeAy/wZAWFYOYM+M2z/LWC4uH3oSQDE+LyTsMgRAkJzhRGWFGEDd4soovCQQQKqk0DJMEP8/rGmNdwOLBUAW2X/9xCbjP4hu3dcqJhNAzuYItRvdB0CgzW3zJW/sPxotm/Y2TxRAQAk9XmdDDEC1Kx9MKgT3P1M+NctcghZAFVqcLlb0C0Bgzd3sB2b2P77mZDPUWhZAFROHJpUGCEDAfma5CxXtPz1DWq/zYxRAmhYY5824F0DOuQKWSbAOQNCMqrvu3fs/L6DR22K2wT9nAAxPBU8RQGiN6mW43AFAZhu25b633D8c1YgmzowSQNM25BRKWARArGS08/lNxD+LFssHwmMRQLC5aNcxBgJABL9HT0WRF0CjCmJmOGEOQHsuaVzMP/s/TWJCaGGwBUCeu1PAPLzjP9nqN9DZOBNAKE4JcydbCkCGtbd1qjPzP8dgm9U8jhVAtPeKTkVwDkCeCLss5l37P401XMPLmBdAFd29VMVQDUBg0yA55h75Pz6odcYLCRdApBM4rBrkAkDyAVWgQxbRP4XDMnK20hFAymLlF7EmzD8GUgo9XBHlP3lbK7T9COc/k+OhPthhy7+YGEpnrOvCPzBFhLs15u4/epbqB6H4uz9IuuLF5svev6lzLKY31es/CaQ0envF5z8ZY0xlUADXv7zaz7HYEuI/CfbK1sn16T8uAQfWwxLWPzKn/YuFN94/5KdbC1AFu793fyCSnlfvPzK2y4doAMY/NRg5t1/X6b/shq4QJaHDP5yNIAKPOeI/vpn7BSE30r/X4YQrO6nrv78Ziv/Thto/DqJ1Y6+y5z9l51NaxFrlv8QlA65HOLS/86dxiEc96z+Hj0+LFjneP6LzBZ8LTc2/DaJ1Y6+y579l51NaxFrlP8QlA65HOLQ/8qdxiEc967+Jj0+LFjnev6LzBZ8LTc0/1qdbC1AFuz93fyCSnlfvvzK2y4doAMa/NRg5t1/X6T/vhq4QJaHDv5yNIAKPOeK/wJn7BSE30j/W4YQrO6nrP78Ziv/Thtq/CaQ0envF578XY0xlUADXP7zaz7HYEuK/CvbK1sn16b8rAQfWwxLWvzKn/YuFN96/zWLlF7EmzL8GUgo9XBHlv3lbK7T9COe/kOOhPthhyz+cGEpnrOvCvzBFhLs15u6/c5bqB6H4u79IuuLF5sveP6lzLKY31eu/AQAAAP////8HAAAA/////zEAAAD/////VwEAAP////9hCQAA/////6dBAAD/////kcsBAP/////3kAwA/////8H2VwAAAAAAAAAAAAAAAAACAAAA/////w4AAAD/////YgAAAP////+uAgAA/////8ISAAD/////ToMAAP////8ilwMA/////+4hGQD/////gu2vAAAAAAAAAAAAAAAAAAAAAAACAAAA//////////8BAAAAAwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////AgAAAP//////////AQAAAAAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD/////////////////////AQAAAP///////////////wIAAAD///////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP///////////////////////////////wIAAAD///////////////8BAAAA/////////////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAABAAAA//////////8CAAAA//////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAAAQAAAP//////////AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAACAAAAAAAAAAIAAAABAAAAAQAAAAIAAAACAAAAAAAAAAUAAAAFAAAAAAAAAAIAAAACAAAAAwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAEAAAACAAAAAgAAAAIAAAAAAAAABQAAAAYAAAAAAAAAAgAAAAIAAAADAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAAAAAACAAAAAQAAAAMAAAACAAAAAgAAAAAAAAAFAAAABwAAAAAAAAACAAAAAgAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAIAAAABAAAABAAAAAIAAAACAAAAAAAAAAUAAAAIAAAAAAAAAAIAAAACAAAAAwAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAIAAAAAAAAAAgAAAAEAAAAAAAAAAgAAAAIAAAAAAAAABQAAAAkAAAAAAAAAAgAAAAIAAAADAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAIAAAAAAAAAAwAAAA4AAAACAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAgAAAAMAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAgAAAAAAAAADAAAACgAAAAIAAAAAAAAAAgAAAAMAAAABAAAAAAAAAAIAAAACAAAAAwAAAAcAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAACAAAAAAAAAAMAAAALAAAAAgAAAAAAAAACAAAAAwAAAAIAAAAAAAAAAgAAAAIAAAADAAAACAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAIAAAAAAAAAAwAAAAwAAAACAAAAAAAAAAIAAAADAAAAAwAAAAAAAAACAAAAAgAAAAMAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAACAAAAAgAAAAAAAAADAAAADQAAAAIAAAAAAAAAAgAAAAMAAAAEAAAAAAAAAAIAAAACAAAAAwAAAAoAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAACAAAAAAAAAAMAAAAGAAAAAgAAAAAAAAACAAAAAwAAAA8AAAAAAAAAAgAAAAIAAAADAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAIAAAAAAAAAAwAAAAcAAAACAAAAAAAAAAIAAAADAAAAEAAAAAAAAAACAAAAAgAAAAMAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAgAAAAAAAAADAAAACAAAAAIAAAAAAAAAAgAAAAMAAAARAAAAAAAAAAIAAAACAAAAAwAAAA0AAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAACAAAAAAAAAAMAAAAJAAAAAgAAAAAAAAACAAAAAwAAABIAAAAAAAAAAgAAAAIAAAADAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAgAAAAIAAAAAAAAAAwAAAAUAAAACAAAAAAAAAAIAAAADAAAAEwAAAAAAAAACAAAAAgAAAAMAAAAPAAAAAAAAAAAAAAAAAAAAAAAAABAAAAACAAAAAAAAAAIAAAABAAAAEwAAAAIAAAACAAAAAAAAAAUAAAAKAAAAAAAAAAIAAAACAAAAAwAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAIAAAAAAAAAAgAAAAEAAAAPAAAAAgAAAAIAAAAAAAAABQAAAAsAAAAAAAAAAgAAAAIAAAADAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAgAAAAAAAAACAAAAAQAAABAAAAACAAAAAgAAAAAAAAAFAAAADAAAAAAAAAACAAAAAgAAAAMAAAASAAAAAAAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAIAAAABAAAAEQAAAAIAAAACAAAAAAAAAAUAAAANAAAAAAAAAAIAAAACAAAAAwAAABMAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAIAAAAAAAAAAgAAAAEAAAASAAAAAgAAAAIAAAAAAAAABQAAAA4AAAAAAAAAAgAAAAIAAAADAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAAAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAEAAAAAAAAAAAEAAAAAAQAAAAAAAAAAAQAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAA6B6FaUp9QQTPXMuL4myJBraiDfBwx9UBYJseitzTIQOL5if9jqZtAnXX+Z+ycb0C3pucbhRBCQG8wJBYqpRRAlWbDCzCY5z/eFWBUEve6P/+qo4Q50Y4/D9YM3iCcYT8fcA2QJSA0P4ADxu0qAAc/BNcGolVJ2j5d9FACqwquPh9z7MthtI9CSUSYJke/YUJQ/64OyjU0Qpi0+HCmFQdCm3GfIVdh2kHsJ11kAyauQYC3UDFJOoFBSJsFV1OwU0FK5fcxX4AmQWhy/zZIt/lACqaCPsBjzUDbdUNIScugQMYQlVJ4MXNANiuq8GTvRUDxTXnulxEZQFZ8QX5kpuw/qmG/JwYFlEAluh3Q6DB+QKn4vyNq0GZAKOXekas+UUB8xabXXhI6QG63C2pLtSNAdDBtyNfLDUDyOcu67ID2P0rCMvRXAeE/Ki2TSVyzyT9Dk+8Sz2uzP5J+w5ARWp0/NQAoOiMuhj9YnP+RyMJwPxgW7TvQVFk/KgsLYF0kQz9g5dAC6IwzQcgHPVvDex1B1XjppodHBkHJq3OMM9fwQNvcmJ7wddlAInGPpQs/w0BRobq5EBmtQJZ2ai7n+ZVAtv2G5E+bgECG+gIfKBlpQK5f8jdI91JAL39sL/WpPEB8rGxhDqklQK6yUf43XhBAxL9y/tK8+D86XyZpgrHiPwAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAP////8AAAAAAAAAAAAAAAABAAAAAAAAAAAAAAD/////AAAAAAAAAAABAAAAAQAAAAAAAAAAAAAA/////wAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8FAAAABQAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAABQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQAAAAAAAQABAAABAQAAAAAAAQAAAAEAAAABAAEAAAAAAAAAAAAAAAAAAAAAquJYWJZl+D9jaeZNtj/zPwwdI9KqaeO/qGefXwdHdz+q4lhYlmX4P+OrlPMN3PI/DB0j0qpp47+7SQLV4VIEQKriWFiWZfg/r2kma3tz8T82eQmLqNIGwMRIWXMqSvo/fcCszPux9j+jara6ozTwP6hnn18HR3c/MSoKLequ8r+SabgA2nj0P7jBLbDOHO8/1Ym/ICfH4T+6lxjvlFXHv73m373LRPU/0vXyDVxo7T+ToKRHJXMAQF/33578aPE/pAyy64tD9T8+U/hCvyruPwxv8Y7YYwLAuXYr8NAiCEB4+LDK0Sn0P1Qeuy4j+eo/OMx50n7K7L+TrGB/nyf8v5ehC2fbYPM/aXMKexiT6z8mFRIMjg/zP7yUVwGGBNw/E6opHERf8z/z0wR2g9DqPw4pBpcOhvu/NbA29uWAA8DMaTExyXzyP02biiQ+Ruk/S8jz2/FKBEB1pzZnpbb9P7pQU4wLfPI//7ZcQXeG6D9CqEQvAYoIwDB2VB6sSgRAVyv8H5We8T+EHWF8XNPmPzB2wT8Nrrg/SEi+cX+w4L8of+GtdSDxP1sjk5AdouU/6ZjOVru13r8K0obqI6bxvwVbdNXyhfA/w5GG024n5z+rwmtMzP8BwLw9pSX49QXABe/2uQxP8D+b6wCzCvXkP7uGT87fK+Q/pz/JWw4coj+qoBf2J0nwP/yE3PUo0+I/vFJeHcaC+D96luSIqvntP/bf8sHUYu8/gZNN41mL4z9bhOqVOF4FwO6lmAh1hQhAbCVxbdhk7z+1C8NdDcfiPwG36x/0OQBAx0WJ76c2+D9nlSHXANfuP2HlfZ3gqOE/EwnVlVPg9r96+oHzEH//v5bXzdT1Auw/DM3GwLsA4D9p/8uoKcr+v+U9x5DQVAPAehjSdghb7D9sc1IetODgP8MVwwB1pu6/azPk6OGe978W8t/TUc3rP+0QMvYfP+A/RsG/QpSE8D+l3uwScxzgPwQaifgujuw/k1Vti1I43z8MAwLnSh0GQH5nYnwwZgJAiGUzWC5s6j8WyyI/BbLgPw4iUapGeQJAB3W+imnp/j9BLWR4ssrpP2t+gG5Pstk/cpBsfm6DCMCOpU9dOZsFQEv8nFypHeo/ehJ6i+6S2D9jqlGEmarLv7STC5TRiOa/bC+x8WZD6D9H3yUkWpDZP8gZvmCMuQLAreY19/eRBsCoPOc8UzzpP6KI/QV+y9g/t/MoboyWzT+Hv5q3Zu3Mvy2xROCT4uY/9gQitMMg1T9abAqhWMDkv1oLTavoUfG/PMUJP9CD5j+fHRX3t6fSPz7W2gk6bvs/WRnuHwqN9D8YFturGCTmP1EZczv0b9I/5t4exabB5D/1ESLh5fTEP9X2z6SYweQ/6lv3I2zT0D9zkRGNUNMAQKoSvc4EIfs/Xggt8wQI5T+mJHHg/w/SP4lhT/9t8vQ/DrZ/DbwH7D+XlhbYZrjkP34LIpFt6c4/lwfp8fLX9L+j96CTTf76v3WdNhEv9uM/d8c3o4lV0D/vFdCHVcsFwAHeDq0F1QhApbYqcZiN5D9KoilqByXLPwX0/diA0vq/0fo0GxnxAMBbaTkvlCzjP/RrFrWXrMs/UYTrky7jA0DB9f4FiZYAQEGAk/3QzeE/r/TeqE8t0D/OqjlsnPbvvz8RKU8JOfW/smSEbK/O4T8MzuyPm3DDP/rFtctq9gZAfb1EVEaSA0Dts5dVInnhP18SFMc79MM/7y34cw6LAMDFrRJsZO0DwC2KLvLSYuA/hx5wcUHewz+49SnK/4ruPyeS0PX9a+E/ZxaaLvvZ3z8WPu5T2QS8Pygo4RIvMqa/BJ0Kqsd0279cKW4ay8jdP3b05bmZ364/10/qtdxk2r+Bcz6CDMvpv54qOw+Amdw/qLV71pW7sT/YKc80nIPUP8OfIaBJ77G/LyTuD1un2z+diYu8efWzP1wU7ACkfwjAZroyPL1yBkAmv3lKJJbbPysKSE4W+p0/dIgqY79TA8ATLTOQ3tsGwJ2zweD/Xdg/XO/jXeFUaL8VW2qLFKfov1cA9Aa6XfK/tIa7YGgI2T+f3hu/sxqPv2nXdPpf3Pc/jkw8Jbda8j+tT/z8tGPVP1yBHpJd35k/KYvYOy1s8j/yz+kCQjPrP9+agH7x59g/PZfJ9aBhpr/rDKzvYBb+PwtkiaGCt/c/vb1mVr+f1T/JIHwHc8Govw7aeF6+9vG/Xv7kD6fp979isYioQYHVP7AIQZuSFrG/3z1AdUTnAUDN3XY9O7f9P0AdQ9ljYNQ/dJANJPTOrb8kLECUiiPlP4yF7UgmStA/9xGmXxCG1T9qZzix4W2zv2SGJRJVrPe/Fh9a2M/B/b8IexzFCoPSP9y1QFD2bLe/Q86cWLJe/b+mOOfYm78BwOTjkPAGE9E/8aPCUKu/ub9pPZyLCiUGwBA7Mev/BQlALOmrlRi+0j+AMJ/dKULBv7iLtL6a6QRAEMDV/yajAUDa62dE3crJP1P70RgBUbq/38hVnR6esT/s1tG10Z/Ov/zLwalHPss/dTS9NKTXx78nMcRzCIEHQAabxDsAmQRA0tyLK3gSyT+Aui7nOhDGv5Gs58z3WgHATN3forJuBMCAui7nOhDGP9Lciyt4Esm/WAJyHQ4c7z8UP5HFIs3iP3U0vTSk18c//MvBqUc+y7+cvv8HLg/Kvy1I/mHsI+K/U/vRGAFRuj/a62dE3crJv8p+WV8KlQjAuQ/nOP43B0CAMJ/dKULBPyzpq5UYvtK/ZoU+VoLh4L9etLlRUfvtv/GjwlCrv7k/5OOQ8AYT0b9DfT9FhufXPwUX8hJp+4u/3LVAUPZstz8IexzFCoPSv9+L609E5fQ/q9Fz7X2J7T9qZzix4W2zP/cRpl8QhtW/vtNilqGX+j8MOy7QJoL0P3SQDST0zq0/QB1D2WNg1L8IIjSvGNkDwGB8Jou2GAfAsAhBm5IWsT9isYioQYHVvyS9D3zb6uy/gnwRa7uM9L/JIHwHc8GoP729Zla/n9W/CsAHJZwmAEDEW6OYT1r6Pz2XyfWgYaY/35qAfvHn2L83Tdy4lS30vxf2/gZ0jPq/XIEekl3fmb+tT/z8tGPVvybPr2zJ1/+/K7mJ0ypVAsCf3hu/sxqPPwCGu2BoCNm/5oITrpZn+r+UDUyDP+n/v1zv413hVGg/nbPB4P9d2L9MlmkxNvgCQMtZlKE85v8/KwpIThb6nb8mv3lKJJbbv8+SZsTvOOc/pQCIIOYw0j+diYu8efWzvy8k7g9bp9u/kxYDa+pKtD9XlYvA8HnVv6i1e9aVu7G/nio7D4CZ3L/WR6rNh5EGwCkgQweBkghAdvTluZnfrr9cKW4ay8jdvxbjhr1f1QVAR5C0MzivAkAWPu5T2QS8v2cWmi772d+/cKj4lzLJCEBx2QJfYrMFQIcecHFB3sO/LYou8tJi4L+jr7lhO38BwIcI0Nb7xgTAXxIUxzv0w7/ts5dVInnhv0T+l8DZLfE/MP3FoFvS5D8MzuyPm3DDv7JkhGyvzuG/tzhzRIRc0b9Ovv3/0z7mv6/03qhPLdC/m4CT/dDN4b9dwjU5VCQBQBBJX1ntCv0/9GsWtZesy79baTkvlCzjv1mjYgEz++S/oW6KnOQW8b9KoilqByXLv6W2KnGYjeS/SmaKz3Vx9z+BZB5yxGHwP3fHN6OJVdC/dZ02ES/2478PuaBjLrXaP4/JU81pPaO/fgsikW3pzr+XlhbYZrjkv4tSn7YDbP0/f2LnFKlF9z+mJHHg/w/Sv14ILfMECOW/mfg4qYhR/b+OP+RQDCACwOpb9yNs09C/1fbPpJjB5L9pN2WOVZ3wv3hHy9nxIve/URlzO/Rv0r8YFturGCTmv1d1/KKR8QPA8gsy9qzSB8CfHRX3t6fSvzzFCT/Qg+a/EYStnrzV9r/2QJqI7Lb9v/YEIrTDINW/LbFE4JPi5r/7kQEs5fEDQHunnf4GeQBAooj9BX7L2L+oPOc8Uzzpv+ydYY2SSAfAL4HK6CRTB0BH3yUkWpDZv2wvsfFmQ+i/Ik0Yzruh6T8fM3LoGoDUP3oSeovukti/S/ycXKkd6r9rEv+7UWcHQCRIQe/GfwNAa36Abk+y2b9BLWR4ssrpv9KT87qa0bM/FTyktw823L8WyyI/BbLgv4hlM1gubOq/DizMp9Ki6r8b5ckdjVrzv5NVbYtSON+/BBqJ+C6O7L/dUBFqgyXYv00Wh18r7+q/7RAy9h8/4L8W8t/TUc3rv4RM5DKx3wDAfvWIj94aBcBsc1IetODgv3oY0nYIW+y/oGcTFF54AUDkJqS/FKX6PwzNxsC7AOC/ltfN1PUC7L+5Wrz/zHnzP6688w2rNOc/YeV9neCo4b9nlSHXANfuvw9RsxKjY/s/1V8GteXE8j+1C8NdDcfiv2wlcW3YZO+/IOywaA7Q8b9bFP+4Tg36v4GTTeNZi+O/9t/ywdRi77+tRc3yFR7eP2bkcHXJkLO//ITc9SjT4r+qoBf2J0nwv2YHKoswwfm/iQcLspCjAcCb6wCzCvXkvwXv9rkMT/C/YkuwYAMXBMApCNUai9kIwMORhtNuJ+e/BVt01fKF8L+ZqWEfvIjsP6h693QZYNk/WyOTkB2i5b8of+GtdSDxvwpaaulDSwVADMQAX+lOAECEHWF8XNPmv1cr/B+VnvG/XyFG6opcCMD/mtR32/UEQP+2XEF3hui/ulBTjAt88r/imfCfRP+yP9zbvtc8XeO/TZuKJD5G6b/MaTExyXzyvxiTQeElXOO/rbJRQVGN9L/z0wR2g9DqvxOqKRxEX/O/FDGCEei99j9x8zV4VYTmP2lzCnsYk+u/l6ELZ9tg878pRXacaDT/v3k6GZRqoQXAVB67LiP56r94+LDK0Sn0vwO6pZ9b7wFAvK0nKVcc9j8+U/hCvyruv6QMsuuLQ/W/FPhKFYv46j8MyxaDTOW/v9L18g1caO2/vebfvctE9b/7GD8ZrF3xv3gx1AR9bQDAuMEtsM4c77+SabgA2nj0v5xKFIwxsATArKNSBaKsB0Cjara6ozTwv33ArMz7sfa/dF2U0FcWCcDxL357DJX/P69pJmt7c/G/quJYWJZl+L/YntVJlnrSP4sRLzXM+fe/46uU8w3c8r+q4lhYlmX4v85lu5+QRwRAsI0H/WU8479jaeZNtj/zv6riWFiWZfi/sI0H/WU847/OZbufkEcEQHAoPUBrnss/9exKzDtFtT88wM8kax+gP9OqeKeAYog/MW0ItiZvcj+ph+smvt5bP2lCaV5dEUU/StaUmQDaLz+kK9y22BMYP0O3whZuMwI/IIbgZGWE6z7UkjYaEM3UPuezxwa9cr8+LybxRMnFpz6E1N8DbPiRPsYjySMvK3s+//////8fAAj//////zMQCP////9/MiAI/////28yMAj/////YzJACP///z9iMlAI////N2IyYAj///8zYjJwCP//vzNiMoAI//+rM2IykAj/f6szYjKgCP8PqzNiMrAI/wOrM2IywAi/A6szYjLQCJ8DqzNiMuAImQOrM2Iy8Aj//////z8PCP//////Kx8I/////38pLwj/////Pyk/CP////85KU8I////PzgpXwj///8POClvCP///w44KX8I//8fDjgpjwj//w8OOCmfCP9/DQ44Ka8I/w8NDjgpvwj/DQ0OOCnPCP8MDQ44Kd8IxwwNDjgp7wjEDA0OOCn/CAcAAAAHAAAAAQAAAAIAAAAEAAAAAwAAAAAAAAAAAAAABwAAAAMAAAABAAAAAgAAAAUAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAGAAAAAgAAAAMAAAAFAAAABAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAwAAAAEAAAAFAAAABAAAAAAAAAAAAAAABwAAAAUAAAADAAAABAAAAAEAAAAAAAAAAgAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAABgtRFT7Ifk/GC1EVPsh+b8YLURU+yEJQBgtRFT7IQnAYWxnb3MuYwBoM05laWdoYm9yUm90YXRpb25zAGNvb3JkaWprLmMAX3VwQXA3Q2hlY2tlZABfdXBBcDdyQ2hlY2tlZABkaXJlY3RlZEVkZ2UuYwBkaXJlY3RlZEVkZ2VUb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpclt0bXBGaWprLmZhY2VdW2ZpamsuZmFjZV0gPT0gS0kAZmFjZWlqay5jAF9mYWNlSWprUGVudFRvQ2VsbEJvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9DZWxsQm91bmRhcnkAaDNJbmRleC5jAGNvbXBhY3RDZWxscwBsYXRMbmdUb0NlbGwAY2VsbFRvQ2hpbGRQb3MAdmFsaWRhdGVDaGlsZFBvcwBsYXRMbmcuYwBjZWxsQXJlYVJhZHMyAHBvbHlnb24tPm5leHQgPT0gTlVMTABsaW5rZWRHZW8uYwBhZGROZXdMaW5rZWRQb2x5Z29uAG5leHQgIT0gTlVMTABsb29wICE9IE5VTEwAYWRkTmV3TGlua2VkTG9vcABwb2x5Z29uLT5maXJzdCA9PSBOVUxMAGFkZExpbmtlZExvb3AAY29vcmQgIT0gTlVMTABhZGRMaW5rZWRDb29yZABsb29wLT5maXJzdCA9PSBOVUxMAGlubmVyTG9vcHMgIT0gTlVMTABub3JtYWxpemVNdWx0aVBvbHlnb24AYmJveGVzICE9IE5VTEwAY2FuZGlkYXRlcyAhPSBOVUxMAGZpbmRQb2x5Z29uRm9ySG9sZQBjYW5kaWRhdGVCQm94ZXMgIT0gTlVMTAByZXZEaXIgIT0gSU5WQUxJRF9ESUdJVABsb2NhbGlqLmMAY2VsbFRvTG9jYWxJamsAYmFzZUNlbGwgIT0gb3JpZ2luQmFzZUNlbGwAIShvcmlnaW5PblBlbnQgJiYgaW5kZXhPblBlbnQpAGJhc2VDZWxsID09IG9yaWdpbkJhc2VDZWxsAGJhc2VDZWxsICE9IElOVkFMSURfQkFTRV9DRUxMAGxvY2FsSWprVG9DZWxsACFfaXNCYXNlQ2VsbFBlbnRhZ29uKGJhc2VDZWxsKQBiYXNlQ2VsbFJvdGF0aW9ucyA+PSAwAGdyaWRQYXRoQ2VsbHMAcG9seWZpbGwuYwBpdGVyU3RlcFBvbHlnb25Db21wYWN0ADAAdmVydGV4LmMAY2VsbFRvVmVydGV4AGdyYXBoLT5idWNrZXRzICE9IE5VTEwAdmVydGV4R3JhcGguYwBpbml0VmVydGV4R3JhcGgAbm9kZSAhPSBOVUxMAGFkZFZlcnRleE5vZGU=";function V(A){return A}function Q(A){return A.replace(/\b__Z[\w\d_]+/g,(function(A){return A===A?A:A+" ["+A+"]"}))}function j(){var A=new Error;if(!A.stack){try{throw new Error(0)}catch(e){A=e}if(!A.stack)return"(no stack trace available)"}return A.stack.toString()}function W(){return g.length}function H(A){try{var e=new ArrayBuffer(A);if(e.byteLength!=A)return;return new Int8Array(e).set(g),q(e),y(e),1}catch(t){}}var X="function"==typeof atob?atob:function(A){var e,t,r,n,i,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="",c=0;A=A.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{e=o.indexOf(A.charAt(c++))<<2|(n=o.indexOf(A.charAt(c++)))>>4,t=(15&n)<<4|(i=o.indexOf(A.charAt(c++)))>>2,r=(3&i)<<6|(s=o.indexOf(A.charAt(c++))),a+=String.fromCharCode(e),64!==i&&(a+=String.fromCharCode(t)),64!==s&&(a+=String.fromCharCode(r))}while(c<A.length);return a};function Y(A){if(z(A))return function(A){try{for(var e=X(A),t=new Uint8Array(e.length),r=0;r<e.length;++r)t[r]=e.charCodeAt(r);return t}catch(n){throw new Error("Converting base64 string to bytes failed.")}}(A.slice(G.length))}var K,Z,$=function(A,e,t){var r=new A.Int8Array(t),n=new A.Int32Array(t),i=(new A.Uint8Array(t),new A.Float32Array(t),new A.Float64Array(t)),s=0|e.o,o=0|e.p,a=A.Math.floor,c=A.Math.abs,l=A.Math.sqrt,u=A.Math.pow,h=A.Math.cos,f=A.Math.sin,d=A.Math.tan,p=A.Math.acos,g=A.Math.asin,_=A.Math.atan,m=A.Math.atan2,v=A.Math.ceil,E=A.Math.imul,b=A.Math.min,w=A.Math.max,y=A.Math.clz32,T=e.b,S=e.c,C=e.d,R=e.e,P=e.f,x=e.g,M=e.h,k=e.i,B=28640;function I(A,e,t,r){return 0|L(A|=0,e|=0,t|=0,r|=0,0)}function L(A,e,t,r,i){var s,o=0,a=0,c=0,l=0;if(s=B,B=B+16|0,a=s,!(0|D(A|=0,e|=0,t|=0,r|=0,i|=0)))return B=s,0|(r=0);do{if((0|t)>=0){if((0|t)>13780509){if(0|(o=0|he(15,a)))break;a=0|n[(c=a)>>2],c=0|n[c+4>>2]}else l=0|tt(0|t,0|(o=((0|t)<0)<<31>>31),3,0),c=0|S(),o=0|$e(0|t,0|o,1,0),o=0|$e(0|(o=0|tt(0|l,0|c,0|o,0|S())),0|S(),1,0),c=0|S(),n[a>>2]=o,n[a+4>>2]=c,a=o;if(ft(0|r,0,a<<3|0),0|i){ft(0|i,0,a<<2|0),o=0|O(A,e,t,r,i,a,c,0);break}(o=0|Ze(a,4))?(l=0|O(A,e,t,r,o,a,c,0),Ke(o),o=l):o=13}else o=2}while(0);return B=s,0|(l=o)}function D(A,e,t,r,i){A|=0,e|=0,t|=0,r|=0,i|=0;var s,o,a=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0;if(o=B,B=B+16|0,g=o+8|0,n[(p=s=o)>>2]=A,n[p+4>>2]=e,(0|t)<0)return B=o,0|(g=2);if(n[(a=r)>>2]=A,n[a+4>>2]=e,(a=0!=(0|i))&&(n[i>>2]=0),0|QA(A,e))return B=o,0|(g=9);n[g>>2]=0;A:do{if((0|t)>=1)if(a)for(f=1,h=0,d=0,p=1,a=A;;){if(!(h|d)){if(0|(a=0|F(a,e,4,g,s)))break A;if(0|QA(a=0|n[(e=s)>>2],e=0|n[e+4>>2])){a=9;break A}}if(0|(a=0|F(a,e,0|n[26800+(d<<2)>>2],g,s)))break A;if(a=0|n[(e=s)>>2],e=0|n[e+4>>2],n[(A=r+(f<<3)|0)>>2]=a,n[A+4>>2]=e,n[i+(f<<2)>>2]=p,c=(0|(A=h+1|0))==(0|p),u=6==(0|(l=d+1|0)),0|QA(a,e)){a=9;break A}if((0|(p=p+(u&c&1)|0))>(0|t)){a=0;break}f=f+1|0,h=c?0:A,d=c?u?0:l:d}else for(f=1,h=0,d=0,p=1,a=A;;){if(!(h|d)){if(0|(a=0|F(a,e,4,g,s)))break A;if(0|QA(a=0|n[(e=s)>>2],e=0|n[e+4>>2])){a=9;break A}}if(0|(a=0|F(a,e,0|n[26800+(d<<2)>>2],g,s)))break A;if(a=0|n[(e=s)>>2],e=0|n[e+4>>2],n[(A=r+(f<<3)|0)>>2]=a,n[A+4>>2]=e,c=(0|(A=h+1|0))==(0|p),u=6==(0|(l=d+1|0)),0|QA(a,e)){a=9;break A}if((0|(p=p+(u&c&1)|0))>(0|t)){a=0;break}f=f+1|0,h=c?0:A,d=c?u?0:l:d}else a=0}while(0);return B=o,0|(g=a)}function O(A,e,t,r,i,s,o,a){t|=0,r|=0,i|=0,a|=0;var c,l,u,h=0,f=0,d=0,p=0,g=0,_=0,m=0;if(u=B,B=B+16|0,c=u+8|0,l=u,h=0|nt(0|(A|=0),0|(e|=0),0|(s|=0),0|(o|=0)),d=0|S(),!(0==(0|(m=0|n[(_=p=r+(h<<3)|0)>>2]))&0==(0|(_=0|n[_+4>>2]))|(f=(0|m)==(0|A)&(0|_)==(0|e))))do{h=0|rt(0|(h=0|$e(0|h,0|d,1,0)),0|S(),0|s,0|o),d=0|S(),f=(0|(_=0|n[(m=p=r+(h<<3)|0)>>2]))==(0|A)&(0|(m=0|n[m+4>>2]))==(0|e)}while(!(0==(0|_)&0==(0|m)|f));if(h=i+(h<<2)|0,f&&(0|n[h>>2])<=(0|a))return B=u,0|(m=0);if(n[(m=p)>>2]=A,n[m+4>>2]=e,n[h>>2]=a,(0|a)>=(0|t))return B=u,0|(m=0);switch(f=a+1|0,n[c>>2]=0,0|(h=0|F(A,e,2,c,l))){case 9:g=9;break;case 0:(h=0|O(0|n[(h=l)>>2],0|n[h+4>>2],t,r,i,s,o,f))||(g=9)}A:do{if(9==(0|g)){switch(n[c>>2]=0,0|(h=0|F(A,e,3,c,l))){case 9:break;case 0:if(0|(h=0|O(0|n[(h=l)>>2],0|n[h+4>>2],t,r,i,s,o,f)))break A;break;default:break A}switch(n[c>>2]=0,0|(h=0|F(A,e,1,c,l))){case 9:break;case 0:if(0|(h=0|O(0|n[(h=l)>>2],0|n[h+4>>2],t,r,i,s,o,f)))break A;break;default:break A}switch(n[c>>2]=0,0|(h=0|F(A,e,5,c,l))){case 9:break;case 0:if(0|(h=0|O(0|n[(h=l)>>2],0|n[h+4>>2],t,r,i,s,o,f)))break A;break;default:break A}switch(n[c>>2]=0,0|(h=0|F(A,e,4,c,l))){case 9:break;case 0:if(0|(h=0|O(0|n[(h=l)>>2],0|n[h+4>>2],t,r,i,s,o,f)))break A;break;default:break A}switch(n[c>>2]=0,0|(h=0|F(A,e,6,c,l))){case 9:break;case 0:if(0|(h=0|O(0|n[(h=l)>>2],0|n[h+4>>2],t,r,i,s,o,f)))break A;break;default:break A}return B=u,0|(m=0)}}while(0);return B=u,0|(m=h)}function F(A,e,t,r,i){A|=0,e|=0,i|=0;var s,o,a=0,c=0,l=0,u=0,h=0,f=0,d=0;if((t|=0)>>>0>6)return 0|(i=1);if(h=(0|n[(r|=0)>>2])%6|0,n[r>>2]=h,(0|h)>0){a=0;do{t=0|vA(t),a=a+1|0}while((0|a)<(0|n[r>>2]))}if(h=0|st(0|A,0|e,45),S(),(o=127&h)>>>0>121)return 0|(i=5);s=0|HA(A,e),a=0|st(0|A,0|e,52),S(),a&=15;A:do{if(a){for(;;){if(l=0|st(0|A,0|e,0|(c=3*(15-a|0)|0)),S(),7==(0|(l&=7))){e=5;break}if(d=0==(0|$A(a)),a=a+-1|0,f=0|ot(7,0,0|c),e&=~(0|S()),A=0|ot(0|n[(d?432:16)+(28*l|0)+(t<<2)>>2],0,0|c)|A&~f,e|=c=0|S(),!(t=0|n[(d?640:224)+(28*l|0)+(t<<2)>>2])){t=0;break A}if(!a){u=8;break A}}return 0|e}u=8}while(0);8==(0|u)&&(A|=0|ot(0|(d=0|n[848+(28*o|0)+(t<<2)>>2]),0,45),e=0|S()|-1040385&e,t=0|n[4272+(28*o|0)+(t<<2)>>2],127==(127&d|0)&&(d=0|ot(0|n[848+(28*o|0)+20>>2],0,45),e=0|S()|-1040385&e,t=0|n[4272+(28*o|0)+20>>2],A=0|YA(d|A,e),e=0|S(),n[r>>2]=1+(0|n[r>>2]))),l=0|st(0|A,0|e,45),S(),l&=127;A:do{if(0|G(l)){e:do{if(1==(0|HA(A,e))){if((0|o)!=(0|l)){if(0|j(l,0|n[7696+(28*o|0)>>2])){A=0|ZA(A,e),c=1,e=0|S();break}C(27795,26864,436,26872)}switch(0|s){case 3:A=0|YA(A,e),e=0|S(),n[r>>2]=1+(0|n[r>>2]),c=0;break e;case 5:A=0|ZA(A,e),e=0|S(),n[r>>2]=5+(0|n[r>>2]),c=0;break e;case 0:return 0|(d=9);default:return 0|(d=1)}}else c=0}while(0);if((0|t)>0){a=0;do{A=0|XA(A,e),e=0|S(),a=a+1|0}while((0|a)!=(0|t))}if((0|o)!=(0|l)){if(!(0|z(l))){if(0!=(0|c)|5!=(0|HA(A,e)))break;n[r>>2]=1+(0|n[r>>2]);break}switch(127&h){case 8:case 118:break A}3!=(0|HA(A,e))&&(n[r>>2]=1+(0|n[r>>2]))}}else if((0|t)>0){a=0;do{A=0|YA(A,e),e=0|S(),a=a+1|0}while((0|a)!=(0|t))}}while(0);return n[r>>2]=((0|n[r>>2])+t|0)%6|0,n[(d=i)>>2]=A,n[d+4>>2]=e,0|(d=0)}function N(A,e,t,r){t|=0,r|=0;var i,s,o,a=0,c=0;for(o=B,B=B+16|0,i=o,s=o+8|0,a=(a=0==(0|QA(A|=0,e|=0)))?1:2;;){if(n[s>>2]=0,0==(0|F(A,e,a,s,i))&((0|n[(c=i)>>2])==(0|t)?(0|n[c+4>>2])==(0|r):0)){A=4;break}if((a=a+1|0)>>>0>=7){a=7,A=4;break}}return 4==(0|A)?(B=o,0|a):0}function U(A,e,t,r,s,o,a){e|=0,t|=0,r|=0,s|=0,o|=0,a|=0;var c,l,u,h,f,d,p,g,_,m,v=0,E=0,b=0,w=0,y=0,T=0,C=0,R=0,P=0,x=0,M=0,k=0,I=0,L=0,D=0,O=0,F=0,N=0,U=0;if(m=B,B=B+64|0,p=m+48|0,g=m+32|0,_=m+24|0,c=m+8|0,l=m,(0|(E=0|n[(A|=0)>>2]))<=0)return B=m,0|(D=0);for(u=A+4|0,h=p+8|0,f=g+8|0,d=c+8|0,v=0,I=0;;){k=(b=0|n[u>>2])+(I<<4)|0,n[p>>2]=n[k>>2],n[p+4>>2]=n[k+4>>2],n[p+8>>2]=n[k+8>>2],n[p+12>>2]=n[k+12>>2],(0|I)==(E+-1|0)?(n[g>>2]=n[b>>2],n[g+4>>2]=n[b+4>>2],n[g+8>>2]=n[b+8>>2],n[g+12>>2]=n[b+12>>2]):(k=b+(I+1<<4)|0,n[g>>2]=n[k>>2],n[g+4>>2]=n[k+4>>2],n[g+8>>2]=n[k+8>>2],n[g+12>>2]=n[k+12>>2]),E=0|eA(p,g,r,_);A:do{if(E)b=0,v=E;else if(b=0|n[(E=_)>>2],(0|(E=0|n[E+4>>2]))>0|0==(0|E)&b>>>0>0){M=0,k=0;e:for(;;){if(F=1/(+(b>>>0)+4294967296*+(0|E)),U=+i[p>>3],N=+((E=0|qe(0|b,0|E,0|M,0|k))>>>0)+4294967296*+(0|S()),O=+(M>>>0)+4294967296*+(0|k),i[c>>3]=F*(U*N)+F*(+i[g>>3]*O),i[d>>3]=F*(+i[h>>3]*N)+F*(+i[f>>3]*O),0|(E=0|qA(c,r,l))){v=E;break}T=0|nt(0|(P=0|n[(x=l)>>2]),0|(x=0|n[x+4>>2]),0|e,0|t),w=0|S(),b=0|n[(y=E=a+(T<<3)|0)>>2],y=0|n[y+4>>2];t:do{if(0==(0|b)&0==(0|y))L=E,D=16;else for(C=0,R=0;;){if((0|C)>(0|t)|(0|C)==(0|t)&R>>>0>e>>>0){v=1;break e}if((0|b)==(0|P)&(0|y)==(0|x))break t;if(T=0|rt(0|(E=0|$e(0|T,0|w,1,0)),0|S(),0|e,0|t),w=0|S(),R=0|$e(0|R,0|C,1,0),C=0|S(),0==(0|(b=0|n[(y=E=a+(T<<3)|0)>>2]))&0==(0|(y=0|n[y+4>>2]))){L=E,D=16;break}}}while(0);if(16!=(0|D)||(D=0,0==(0|P)&0==(0|x))||(n[(R=L)>>2]=P,n[R+4>>2]=x,R=o+(n[s>>2]<<3)|0,n[R>>2]=P,n[R+4>>2]=x,R=0|$e(0|n[(R=s)>>2],0|n[R+4>>2],1,0),P=0|S(),n[(x=s)>>2]=R,n[x+4>>2]=P),M=0|$e(0|M,0|k,1,0),k=0|S(),b=0|n[(E=_)>>2],!((0|(E=0|n[E+4>>2]))>(0|k)|(0|E)==(0|k)&b>>>0>M>>>0)){b=1;break A}}b=0}else b=1}while(0);if(I=I+1|0,!b){D=21;break}if((0|I)>=(0|(E=0|n[A>>2]))){v=0,D=21;break}}return 21==(0|D)?(B=m,0|v):0}function G(A){return(A|=0)>>>0>121?0|(A=0):0|(A=0|n[7696+(28*A|0)+16>>2])}function z(A){return 4==(0|(A|=0))|117==(0|A)|0}function V(A){return 0|n[11120+(216*(0|n[(A|=0)>>2])|0)+(72*(0|n[A+4>>2])|0)+(24*(0|n[A+8>>2])|0)+(n[A+12>>2]<<3)>>2]}function Q(A){return 0|n[11120+(216*(0|n[(A|=0)>>2])|0)+(72*(0|n[A+4>>2])|0)+(24*(0|n[A+8>>2])|0)+(n[A+12>>2]<<3)+4>>2]}function j(A,e){return e|=0,(0|n[7696+(28*(A|=0)|0)+20>>2])==(0|e)?0|(e=1):0|(e=(0|n[7696+(28*A|0)+24>>2])==(0|e))}function W(A,e){return 0|n[848+(28*(A|=0)|0)+((e|=0)<<2)>>2]}function H(A,e){return e|=0,(0|n[848+(28*(A|=0)|0)>>2])==(0|e)?0|(e=0):(0|n[848+(28*A|0)+4>>2])==(0|e)?0|(e=1):(0|n[848+(28*A|0)+8>>2])==(0|e)?0|(e=2):(0|n[848+(28*A|0)+12>>2])==(0|e)?0|(e=3):(0|n[848+(28*A|0)+16>>2])==(0|e)?0|(e=4):(0|n[848+(28*A|0)+20>>2])==(0|e)?0|(e=5):0|((0|n[848+(28*A|0)+24>>2])==(0|e)?6:7)}function X(A){var e,t,r;return e=(r=+i[(A|=0)+16>>3])-(t=+i[A+24>>3]),+(r<t?e+6.283185307179586:e)}function Y(A){return+i[(A|=0)+16>>3]<+i[A+24>>3]|0}function K(A){return+(+i[(A|=0)>>3]-+i[A+8>>3])}function Z(A,e){A|=0;var t,r,n=0;return(n=+i[(e|=0)>>3])>=+i[A+8>>3]&&n<=+i[A>>3]?(t=+i[A+16>>3],n=+i[A+24>>3],e=(r=+i[e+8>>3])>=n,A=r<=t&1,t<n?e&&(A=1):e||(A=0),0|(e=0!=(0|A))):0|(e=0)}function $(A,e){e|=0;var t,r,n,s,o,a=0,c=0,l=0,u=0;return+i[(A|=0)>>3]<+i[e+8>>3]||+i[A+8>>3]>+i[e>>3]?0|(a=0):(n=(c=+i[A+16>>3])<(u=+i[(t=A+24|0)>>3]),l=(o=+i[(a=e+16|0)>>3])<(s=+i[(r=e+24|0)>>3]),e=u-o<s-c,A=n?l|e?1:2:0,e=l?n?1:e?2:1:0,(c=+ce(c,A))<+ce(+i[r>>3],e)||(u=+ce(+i[t>>3],A))>+ce(+i[a>>3],e)?0|(l=0):0|(l=1))}function q(A,e){e|=0;var t,r,n,s,o,a=0,c=0,l=0,u=0;return+i[(A|=0)>>3]<+i[e>>3]||+i[A+8>>3]>+i[e+8>>3]?0|(a=0):(n=(s=+i[(a=A+16|0)>>3])<(c=+i[A+24>>3]),l=(u=+i[(t=e+16|0)>>3])<(o=+i[(r=e+24|0)>>3]),e=c-u<o-s,A=n?l|e?1:2:0,e=l?n?1:e?2:1:0,(c=+ce(c,A))<=+ce(+i[r>>3],e)?0|(l=(u=+ce(+i[a>>3],A))>=+ce(+i[t>>3],e)):0|(l=0))}function J(A,e){A|=0,e|=0;var t,r,s,o,a,c=0;s=B,B=B+176|0,n[(r=s)>>2]=4,c=+i[e>>3],i[r+8>>3]=c,o=+i[e+16>>3],i[r+16>>3]=o,i[r+24>>3]=c,c=+i[e+24>>3],i[r+32>>3]=c,a=+i[e+8>>3],i[r+40>>3]=a,i[r+48>>3]=c,i[r+56>>3]=a,i[r+64>>3]=o,t=(e=r+72|0)+96|0;do{n[e>>2]=0,e=e+4|0}while((0|e)<(0|t));ht(0|A,0|r,168),B=s}function AA(A,e,t){A|=0,e|=0,t|=0;var r,o,l,u,h,f,d,p=0,g=0,_=0,m=0,E=0,w=0,y=0;f=B,B=B+288|0,h=f+264|0,m=f+96|0,g=(p=_=f)+96|0;do{n[p>>2]=0,p=p+4|0}while((0|p)<(0|g));return 0|(e=0|re(e,_))?(B=f,0|(w=e)):(ee(_=0|n[(g=_)>>2],g=0|n[g+4>>2],h),te(_,g,m),u=+le(h,m+8|0),i[h>>3]=+i[A>>3],i[(g=h+8|0)>>3]=+i[A+16>>3],i[m>>3]=+i[A+8>>3],i[(_=m+8|0)>>3]=+i[A+24>>3],o=+le(h,m),y=+i[g>>3]-+i[_>>3],l=+c(+y),d=+i[h>>3]-+i[m>>3],r=+c(+d),0==y|0==d||(y=+ct(+l,+r),y=+v(+o*o/+lt(+y/+lt(+l,+r),3)/(u*(2.59807621135*u)*.8)),i[s>>3]=y,E=~~y>>>0,w=+c(y)>=1?y>0?~~+b(+a(y/4294967296),4294967295)>>>0:~~+v((y-+(~~y>>>0))/4294967296)>>>0:0,2146435072==(2146435072&n[s+4>>2]|0))?e=1:(m=0==(0|E)&0==(0|w),n[(e=t)>>2]=m?1:E,n[e+4>>2]=m?0:w,e=0),B=f,0|(w=e))}function eA(A,e,t,r){A|=0,e|=0,t|=0,r|=0;var o,l,u,h,f=0,d=0,p=0;h=B,B=B+288|0,l=h+264|0,u=h+96|0,o=(f=d=h)+96|0;do{n[f>>2]=0,f=f+4|0}while((0|f)<(0|o));return 0|(t=0|re(t,d))?(B=h,0|(r=t)):(ee(f=0|n[(t=d)>>2],t=0|n[t+4>>2],l),te(f,t,u),p=+le(l,u+8|0),p=+v(+ +le(A,e)/(2*p)),i[s>>3]=p,t=~~p>>>0,f=+c(p)>=1?p>0?~~+b(+a(p/4294967296),4294967295)>>>0:~~+v((p-+(~~p>>>0))/4294967296)>>>0:0,2146435072==(2146435072&n[s+4>>2]|0)?(B=h,0|(r=1)):(d=0==(0|t)&0==(0|f),n[r>>2]=d?1:t,n[r+4>>2]=d?0:f,B=h,0|(r=0)))}function tA(A,e,t,r){e|=0,t|=0,r|=0,n[(A|=0)>>2]=e,n[A+4>>2]=t,n[A+8>>2]=r}function rA(A,e){A|=0;var t,r,s,o,a=0,l=0,u=0,h=0,f=0,d=0,p=0;n[(o=(e|=0)+8|0)>>2]=0,r=+i[A>>3],h=+c(+r),s=+i[A+8>>3],h+=.5*(f=1.1547005383792515*+c(+s)),h-=+(0|(a=~~h)),f-=+(0|(A=~~f));do{if(h<.5){if(h<.3333333333333333){if(n[e>>2]=a,f<.5*(h+1)){n[e+4>>2]=A;break}A=A+1|0,n[e+4>>2]=A;break}if(A=(1&!(f<(p=1-h)))+A|0,n[e+4>>2]=A,p<=f&f<2*h){a=a+1|0,n[e>>2]=a;break}n[e>>2]=a;break}if(!(h<.6666666666666666)){if(a=a+1|0,n[e>>2]=a,f<.5*h){n[e+4>>2]=A;break}A=A+1|0,n[e+4>>2]=A;break}if(f<1-h){if(n[e+4>>2]=A,2*h-1<f){n[e>>2]=a;break}}else A=A+1|0,n[e+4>>2]=A;a=a+1|0,n[e>>2]=a}while(0);do{if(r<0){if(1&A){a=~~(+(0|a)-(2*(+((d=0|qe(0|a,((0|a)<0)<<31>>31|0,0|(d=(A+1|0)/2|0),((0|d)<0)<<31>>31|0))>>>0)+4294967296*+(0|S()))+1)),n[e>>2]=a;break}a=~~(+(0|a)-2*(+((d=0|qe(0|a,((0|a)<0)<<31>>31|0,0|(d=(0|A)/2|0),((0|d)<0)<<31>>31|0))>>>0)+4294967296*+(0|S()))),n[e>>2]=a;break}}while(0);d=e+4|0,s<0&&(a=a-((1|A<<1)/2|0)|0,n[e>>2]=a,A=0-A|0,n[d>>2]=A),l=A-a|0,(0|a)<0?(u=0-a|0,n[d>>2]=l,n[o>>2]=u,n[e>>2]=0,A=l,a=0):u=0,(0|A)<0&&(a=a-A|0,n[e>>2]=a,u=u-A|0,n[o>>2]=u,n[d>>2]=0,A=0),t=a-u|0,l=A-u|0,(0|u)<0&&(n[e>>2]=t,n[d>>2]=l,n[o>>2]=0,A=l,a=t,u=0),(0|(l=(0|u)<(0|(l=(0|A)<(0|a)?A:a))?u:l))<=0||(n[e>>2]=a-l,n[d>>2]=A-l,n[o>>2]=u-l)}function nA(A){var e,t=0,r=0,i=0,s=0,o=0;t=0|n[(A|=0)>>2],r=0|n[(e=A+4|0)>>2],(0|t)<0&&(r=r-t|0,n[e>>2]=r,n[(o=A+8|0)>>2]=(0|n[o>>2])-t,n[A>>2]=0,t=0),(0|r)<0?(t=t-r|0,n[A>>2]=t,s=(0|n[(o=A+8|0)>>2])-r|0,n[o>>2]=s,n[e>>2]=0,r=0):(o=s=A+8|0,s=0|n[s>>2]),(0|s)<0&&(t=t-s|0,n[A>>2]=t,r=r-s|0,n[e>>2]=r,n[o>>2]=0,s=0),(0|(i=(0|s)<(0|(i=(0|r)<(0|t)?r:t))?s:i))<=0||(n[A>>2]=t-i,n[e>>2]=r-i,n[o>>2]=s-i)}function iA(A,e){e|=0;var t,r;r=0|n[(A|=0)+8>>2],t=+((0|n[A+4>>2])-r|0),i[e>>3]=+((0|n[A>>2])-r|0)-.5*t,i[e+8>>3]=.8660254037844386*t}function sA(A,e,t){A|=0,e|=0,n[(t|=0)>>2]=(0|n[e>>2])+(0|n[A>>2]),n[t+4>>2]=(0|n[e+4>>2])+(0|n[A+4>>2]),n[t+8>>2]=(0|n[e+8>>2])+(0|n[A+8>>2])}function oA(A,e,t){A|=0,e|=0,n[(t|=0)>>2]=(0|n[A>>2])-(0|n[e>>2]),n[t+4>>2]=(0|n[A+4>>2])-(0|n[e+4>>2]),n[t+8>>2]=(0|n[A+8>>2])-(0|n[e+8>>2])}function aA(A,e){e|=0;var t,r=0;r=0|E(0|n[(A|=0)>>2],e),n[A>>2]=r,t=0|E(0|n[(r=A+4|0)>>2],e),n[r>>2]=t,e=0|E(0|n[(A=A+8|0)>>2],e),n[A>>2]=e}function cA(A){var e,t,r=0,i=0,s=0,o=0,a=0;a=(0|(t=0|n[(A|=0)>>2]))<0,A=(A=(i=(0|(o=((e=(0|(s=(0|n[A+4>>2])-(a?t:0)|0))<0)?0-s|0:0)+((0|n[A+8>>2])-(a?t:0))|0))<0)?0:o)-((s=(0|(i=(0|A)<(0|(i=(0|(r=(e?0:s)-(i?o:0)|0))<(0|(o=(a?0:t)-(e?s:0)-(i?o:0)|0))?r:o))?A:i))>0)?i:0)|0,r=r-(s?i:0)|0;A:do{switch(o-(s?i:0)|0){case 0:switch(0|r){case 0:return 0|(a=0==(0|A)?0:1==(0|A)?1:7);case 1:return 0|(a=0==(0|A)?2:1==(0|A)?3:7);default:break A}case 1:switch(0|r){case 0:return 0|(a=0==(0|A)?4:1==(0|A)?5:7);case 1:if(A)break A;return 0|(A=6);default:break A}}}while(0);return 0|(a=7)}function lA(A){var e,t,r=0,i=0,s=0,o=0,a=0,c=0,l=0;if(c=0|n[(t=(A|=0)+8|0)>>2],(e=(0|n[A>>2])-c|0)>>>0>715827881|(c=(0|n[(l=A+4|0)>>2])-c|0)>>>0>715827881){if(o=2147483647-e|0,a=-2147483648-e|0,(s=(0|e)>0)?(0|o)<(0|e):(0|a)>(0|e))return 0|(l=1);if(i=e<<1,s?(2147483647-i|0)<(0|e):(-2147483648-i|0)>(0|e))return 0|(l=1);if((0|c)>0?(2147483647-c|0)<(0|c):(-2147483648-c|0)>(0|c))return 0|(l=1);if(r=3*e|0,i=c<<1,(s?(0|o)<(0|i):(0|a)>(0|i))||((0|e)>-1?(-2147483648|r|0)>=(0|c):(-2147483648^r|0)<(0|c)))return 0|(l=1)}else i=c<<1,r=3*e|0;return s=0|Xe(.14285714285714285*+(r-c|0)),n[A>>2]=s,o=0|Xe(.14285714285714285*+(i+e|0)),n[l>>2]=o,n[t>>2]=0,r=(i=(0|o)<(0|s))?s:o,(0|(i=i?o:s))<0&&((-2147483648==(0|i)||((0|r)>0?(2147483647-r|0)<(0|i):(-2147483648-r|0)>(0|i)))&&C(27795,26892,354,26903),((0|r)>-1?(-2147483648|r|0)>=(0|i):(-2147483648^r|0)<(0|i))&&C(27795,26892,354,26903)),r=o-s|0,(0|s)<0?(i=0-s|0,n[l>>2]=r,n[t>>2]=i,n[A>>2]=0,s=0):(r=o,i=0),(0|r)<0&&(s=s-r|0,n[A>>2]=s,i=i-r|0,n[t>>2]=i,n[l>>2]=0,r=0),a=s-i|0,o=r-i|0,(0|i)<0?(n[A>>2]=a,n[l>>2]=o,n[t>>2]=0,r=o,o=a,i=0):o=s,(0|(s=(0|i)<(0|(s=(0|r)<(0|o)?r:o))?i:s))<=0||(n[A>>2]=o-s,n[l>>2]=r-s,n[t>>2]=i-s),0|(l=0)}function uA(A){var e,t=0,r=0,i=0,s=0,o=0,a=0,c=0;if(s=0|n[(e=(A|=0)+8|0)>>2],(o=(0|n[A>>2])-s|0)>>>0>715827881|(s=(0|n[(a=A+4|0)>>2])-s|0)>>>0>715827881){if((r=(0|o)>0)?(2147483647-o|0)<(0|o):(-2147483648-o|0)>(0|o))return 0|(a=1);if(t=o<<1,(i=(0|s)>0)?(2147483647-s|0)<(0|s):(-2147483648-s|0)>(0|s))return 0|(a=1);if(c=s<<1,i?(2147483647-c|0)<(0|s):(-2147483648-c|0)>(0|s))return 0|(c=1);if(r?(2147483647-t|0)<(0|s):(-2147483648-t|0)>(0|s))return 0|(c=1);if(r=3*s|0,(0|s)>-1?(-2147483648|r|0)>=(0|o):(-2147483648^r|0)<(0|o))return 0|(c=1)}else r=3*s|0,t=o<<1;return i=0|Xe(.14285714285714285*+(t+s|0)),n[A>>2]=i,s=0|Xe(.14285714285714285*+(r-o|0)),n[a>>2]=s,n[e>>2]=0,t=(r=(0|s)<(0|i))?i:s,(0|(r=r?s:i))<0&&((-2147483648==(0|r)||((0|t)>0?(2147483647-t|0)<(0|r):(-2147483648-t|0)>(0|r)))&&C(27795,26892,402,26917),((0|t)>-1?(-2147483648|t|0)>=(0|r):(-2147483648^t|0)<(0|r))&&C(27795,26892,402,26917)),t=s-i|0,(0|i)<0?(r=0-i|0,n[a>>2]=t,n[e>>2]=r,n[A>>2]=0,i=0):(t=s,r=0),(0|t)<0&&(i=i-t|0,n[A>>2]=i,r=r-t|0,n[e>>2]=r,n[a>>2]=0,t=0),o=i-r|0,s=t-r|0,(0|r)<0?(n[A>>2]=o,n[a>>2]=s,n[e>>2]=0,t=s,s=o,r=0):s=i,(0|(i=(0|r)<(0|(i=(0|t)<(0|s)?t:s))?r:i))<=0||(n[A>>2]=s-i,n[a>>2]=t-i,n[e>>2]=r-i),0|(c=0)}function hA(A){var e,t,r=0,i=0,s=0,o=0,a=0;i=0|n[(e=(A|=0)+8|0)>>2],s=0|Xe(.14285714285714285*+((3*(r=(0|n[A>>2])-i|0)|0)-(i=(0|n[(t=A+4|0)>>2])-i|0)|0)),n[A>>2]=s,r=0|Xe(.14285714285714285*+((i<<1)+r|0)),n[t>>2]=r,n[e>>2]=0,i=r-s|0,(0|s)<0?(a=0-s|0,n[t>>2]=i,n[e>>2]=a,n[A>>2]=0,r=i,s=0,i=a):i=0,(0|r)<0&&(s=s-r|0,n[A>>2]=s,i=i-r|0,n[e>>2]=i,n[t>>2]=0,r=0),a=s-i|0,o=r-i|0,(0|i)<0?(n[A>>2]=a,n[t>>2]=o,n[e>>2]=0,r=o,o=a,i=0):o=s,(0|(s=(0|i)<(0|(s=(0|r)<(0|o)?r:o))?i:s))<=0||(n[A>>2]=o-s,n[t>>2]=r-s,n[e>>2]=i-s)}function fA(A){var e,t,r=0,i=0,s=0,o=0,a=0;i=0|n[(e=(A|=0)+8|0)>>2],s=0|Xe(.14285714285714285*+(((r=(0|n[A>>2])-i|0)<<1)+(i=(0|n[(t=A+4|0)>>2])-i|0)|0)),n[A>>2]=s,r=0|Xe(.14285714285714285*+((3*i|0)-r|0)),n[t>>2]=r,n[e>>2]=0,i=r-s|0,(0|s)<0?(a=0-s|0,n[t>>2]=i,n[e>>2]=a,n[A>>2]=0,r=i,s=0,i=a):i=0,(0|r)<0&&(s=s-r|0,n[A>>2]=s,i=i-r|0,n[e>>2]=i,n[t>>2]=0,r=0),a=s-i|0,o=r-i|0,(0|i)<0?(n[A>>2]=a,n[t>>2]=o,n[e>>2]=0,r=o,o=a,i=0):o=s,(0|(s=(0|i)<(0|(s=(0|r)<(0|o)?r:o))?i:s))<=0||(n[A>>2]=o-s,n[t>>2]=r-s,n[e>>2]=i-s)}function dA(A){var e,t,r,i=0,s=0,o=0,a=0;i=0|n[(A|=0)>>2],s=0|n[(t=A+4|0)>>2],o=0|n[(r=A+8|0)>>2],a=s+(3*i|0)|0,n[A>>2]=a,s=o+(3*s|0)|0,n[t>>2]=s,i=(3*o|0)+i|0,n[r>>2]=i,o=s-a|0,(0|a)<0?(i=i-a|0,n[t>>2]=o,n[r>>2]=i,n[A>>2]=0,s=o,o=0):o=a,(0|s)<0&&(o=o-s|0,n[A>>2]=o,i=i-s|0,n[r>>2]=i,n[t>>2]=0,s=0),e=o-i|0,a=s-i|0,(0|i)<0?(n[A>>2]=e,n[t>>2]=a,n[r>>2]=0,o=e,i=0):a=s,(0|(s=(0|i)<(0|(s=(0|a)<(0|o)?a:o))?i:s))<=0||(n[A>>2]=o-s,n[t>>2]=a-s,n[r>>2]=i-s)}function pA(A){var e,t,r,i=0,s=0,o=0,a=0;a=0|n[(A|=0)>>2],o=(3*(i=0|n[(t=A+4|0)>>2])|0)+a|0,a=(s=0|n[(r=A+8|0)>>2])+(3*a|0)|0,n[A>>2]=a,n[t>>2]=o,i=(3*s|0)+i|0,n[r>>2]=i,s=o-a|0,(0|a)<0?(i=i-a|0,n[t>>2]=s,n[r>>2]=i,n[A>>2]=0,a=0):s=o,(0|s)<0&&(a=a-s|0,n[A>>2]=a,i=i-s|0,n[r>>2]=i,n[t>>2]=0,s=0),e=a-i|0,o=s-i|0,(0|i)<0?(n[A>>2]=e,n[t>>2]=o,n[r>>2]=0,a=e,i=0):o=s,(0|(s=(0|i)<(0|(s=(0|o)<(0|a)?o:a))?i:s))<=0||(n[A>>2]=a-s,n[t>>2]=o-s,n[r>>2]=i-s)}function gA(A,e){A|=0;var t,r,i,s=0,o=0,a=0;((e|=0)+-1|0)>>>0>=6||(a=(0|n[15440+(12*e|0)>>2])+(0|n[A>>2])|0,n[A>>2]=a,i=A+4|0,o=(0|n[15440+(12*e|0)+4>>2])+(0|n[i>>2])|0,n[i>>2]=o,r=A+8|0,e=(0|n[15440+(12*e|0)+8>>2])+(0|n[r>>2])|0,n[r>>2]=e,s=o-a|0,(0|a)<0?(e=e-a|0,n[i>>2]=s,n[r>>2]=e,n[A>>2]=0,o=0):(s=o,o=a),(0|s)<0&&(o=o-s|0,n[A>>2]=o,e=e-s|0,n[r>>2]=e,n[i>>2]=0,s=0),t=o-e|0,a=s-e|0,(0|e)<0?(n[A>>2]=t,n[i>>2]=a,n[r>>2]=0,o=t,e=0):a=s,(0|(s=(0|e)<(0|(s=(0|a)<(0|o)?a:o))?e:s))<=0||(n[A>>2]=o-s,n[i>>2]=a-s,n[r>>2]=e-s))}function _A(A){var e,t,r,i=0,s=0,o=0,a=0;a=0|n[(A|=0)>>2],o=(i=0|n[(t=A+4|0)>>2])+a|0,a=(s=0|n[(r=A+8|0)>>2])+a|0,n[A>>2]=a,n[t>>2]=o,i=s+i|0,n[r>>2]=i,s=o-a|0,(0|a)<0?(i=i-a|0,n[t>>2]=s,n[r>>2]=i,n[A>>2]=0,o=0):(s=o,o=a),(0|s)<0&&(o=o-s|0,n[A>>2]=o,i=i-s|0,n[r>>2]=i,n[t>>2]=0,s=0),e=o-i|0,a=s-i|0,(0|i)<0?(n[A>>2]=e,n[t>>2]=a,n[r>>2]=0,o=e,i=0):a=s,(0|(s=(0|i)<(0|(s=(0|a)<(0|o)?a:o))?i:s))<=0||(n[A>>2]=o-s,n[t>>2]=a-s,n[r>>2]=i-s)}function mA(A){var e,t,r,i=0,s=0,o=0,a=0;i=0|n[(A|=0)>>2],o=0|n[(t=A+4|0)>>2],s=0|n[(r=A+8|0)>>2],a=o+i|0,n[A>>2]=a,o=s+o|0,n[t>>2]=o,i=s+i|0,n[r>>2]=i,s=o-a|0,(0|a)<0?(i=i-a|0,n[t>>2]=s,n[r>>2]=i,n[A>>2]=0,o=0):(s=o,o=a),(0|s)<0&&(o=o-s|0,n[A>>2]=o,i=i-s|0,n[r>>2]=i,n[t>>2]=0,s=0),e=o-i|0,a=s-i|0,(0|i)<0?(n[A>>2]=e,n[t>>2]=a,n[r>>2]=0,o=e,i=0):a=s,(0|(s=(0|i)<(0|(s=(0|a)<(0|o)?a:o))?i:s))<=0||(n[A>>2]=o-s,n[t>>2]=a-s,n[r>>2]=i-s)}function vA(A){switch(0|(A|=0)){case 1:A=5;break;case 5:A=4;break;case 4:A=6;break;case 6:A=2;break;case 2:A=3;break;case 3:A=1}return 0|A}function EA(A){switch(0|(A|=0)){case 1:A=3;break;case 3:A=2;break;case 2:A=6;break;case 6:A=4;break;case 4:A=5;break;case 5:A=1}return 0|A}function bA(A){var e,t,r,i=0,s=0,o=0,a=0;i=0|n[(A|=0)>>2],s=0|n[(t=A+4|0)>>2],o=0|n[(r=A+8|0)>>2],a=s+(i<<1)|0,n[A>>2]=a,s=o+(s<<1)|0,n[t>>2]=s,i=(o<<1)+i|0,n[r>>2]=i,o=s-a|0,(0|a)<0?(i=i-a|0,n[t>>2]=o,n[r>>2]=i,n[A>>2]=0,s=o,o=0):o=a,(0|s)<0&&(o=o-s|0,n[A>>2]=o,i=i-s|0,n[r>>2]=i,n[t>>2]=0,s=0),e=o-i|0,a=s-i|0,(0|i)<0?(n[A>>2]=e,n[t>>2]=a,n[r>>2]=0,o=e,i=0):a=s,(0|(s=(0|i)<(0|(s=(0|a)<(0|o)?a:o))?i:s))<=0||(n[A>>2]=o-s,n[t>>2]=a-s,n[r>>2]=i-s)}function wA(A){var e,t,r,i=0,s=0,o=0,a=0;a=0|n[(A|=0)>>2],o=((i=0|n[(t=A+4|0)>>2])<<1)+a|0,a=(s=0|n[(r=A+8|0)>>2])+(a<<1)|0,n[A>>2]=a,n[t>>2]=o,i=(s<<1)+i|0,n[r>>2]=i,s=o-a|0,(0|a)<0?(i=i-a|0,n[t>>2]=s,n[r>>2]=i,n[A>>2]=0,a=0):s=o,(0|s)<0&&(a=a-s|0,n[A>>2]=a,i=i-s|0,n[r>>2]=i,n[t>>2]=0,s=0),e=a-i|0,o=s-i|0,(0|i)<0?(n[A>>2]=e,n[t>>2]=o,n[r>>2]=0,a=e,i=0):o=s,(0|(s=(0|i)<(0|(s=(0|o)<(0|a)?o:a))?i:s))<=0||(n[A>>2]=a-s,n[t>>2]=o-s,n[r>>2]=i-s)}function yA(A,e){e|=0;var t,r,i,s=0,o=0,a=0;return i=(0|(r=(0|n[(A|=0)>>2])-(0|n[e>>2])|0))<0,t=(0|(o=(0|n[A+4>>2])-(0|n[e+4>>2])-(i?r:0)|0))<0,e=(e=(A=(0|(a=(i?0-r|0:0)+(0|n[A+8>>2])-(0|n[e+8>>2])+(t?0-o|0:0)|0))<0)?0:a)-((o=(0|(A=(0|e)<(0|(A=(0|(s=(t?0:o)-(A?a:0)|0))<(0|(a=(i?0:r)-(t?o:0)-(A?a:0)|0))?s:a))?e:A))>0)?A:0)|0,s=s-(o?A:0)|0,0|((0|(A=(0|(A=a-(o?A:0)|0))>-1?A:0-A|0))>(0|(e=(0|(s=(0|s)>-1?s:0-s|0))>(0|(e=(0|e)>-1?e:0-e|0))?s:e))?A:e)}function TA(A,e){e|=0;var t;t=0|n[(A|=0)+8>>2],n[e>>2]=(0|n[A>>2])-t,n[e+4>>2]=(0|n[A+4>>2])-t}function SA(A,e){e|=0;var t,r,i,s=0,o=0,a=0;if(o=0|n[(A|=0)>>2],n[e>>2]=o,a=0|n[A+4>>2],n[(r=e+4|0)>>2]=a,n[(i=e+8|0)>>2]=0,A=(s=(0|a)<(0|o))?o:a,(0|(s=s?a:o))<0){if(-2147483648==(0|s)||((0|A)>0?(2147483647-A|0)<(0|s):(-2147483648-A|0)>(0|s)))return 0|(e=1);if((0|A)>-1?(-2147483648|A|0)>=(0|s):(-2147483648^A|0)<(0|s))return 0|(e=1)}return A=a-o|0,(0|o)<0?(s=0-o|0,n[r>>2]=A,n[i>>2]=s,n[e>>2]=0,o=0):(A=a,s=0),(0|A)<0&&(o=o-A|0,n[e>>2]=o,s=s-A|0,n[i>>2]=s,n[r>>2]=0,A=0),t=o-s|0,a=A-s|0,(0|s)<0?(n[e>>2]=t,n[r>>2]=a,n[i>>2]=0,A=a,a=t,s=0):a=o,(0|(o=(0|s)<(0|(o=(0|A)<(0|a)?A:a))?s:o))<=0||(n[e>>2]=a-o,n[r>>2]=A-o,n[i>>2]=s-o),0|(e=0)}function CA(A){var e,t,r,i;t=(i=0|n[(e=(A|=0)+8|0)>>2])-(0|n[A>>2])|0,n[A>>2]=t,A=(0|n[(r=A+4|0)>>2])-i|0,n[r>>2]=A,n[e>>2]=0-(A+t)}function RA(A){var e,t,r=0,i=0,s=0,o=0,a=0;r=0-(i=0|n[(A|=0)>>2])|0,n[A>>2]=r,n[(e=A+8|0)>>2]=0,o=(s=0|n[(t=A+4|0)>>2])+i|0,(0|i)>0?(n[t>>2]=o,n[e>>2]=i,n[A>>2]=0,r=0,s=o):i=0,(0|s)<0?(a=r-s|0,n[A>>2]=a,i=i-s|0,n[e>>2]=i,n[t>>2]=0,o=a-i|0,r=0-i|0,(0|i)<0?(n[A>>2]=o,n[t>>2]=r,n[e>>2]=0,s=r,i=0):(s=0,o=a)):o=r,(0|(r=(0|i)<(0|(r=(0|s)<(0|o)?s:o))?i:r))<=0||(n[A>>2]=o-r,n[t>>2]=s-r,n[e>>2]=i-r)}function PA(A,e,t){t|=0;var r,i,s=0,o=0;return i=B,B=B+16|0,r=i,o=-2130706433&(e|=0)|134217728,!0&268435456==(2013265920&e|0)?(s=0|st(0|(A|=0),0|e,56),S(),s=0|function(A,e,t){t|=0;var r=0,i=0,s=0;if(s=B,B=B+16|0,i=s,r=0|QA(A=A|0,e=e|0),(t+-1|0)>>>0>5)return B=s,0|(i=-1);if(1==(0|t)&(r=0!=(0|r)))return B=s,0|(i=-1);do{if(!(0|Ne(A,e,i))){if(r){r=(5+(0|n[26352+(t<<2)>>2])-(0|n[i>>2])|0)%5|0;break}r=(6+(0|n[26384+(t<<2)>>2])-(0|n[i>>2])|0)%6|0;break}r=-1}while(0);return B=s,0|(i=r)}(A,o,7&s),-1==(0|s)?(n[t>>2]=0,B=i,0|(o=6)):(0|Ae(A,o,r)&&C(27795,26932,282,26947),e=0|st(0|A,0|e,52),S(),e&=15,0|QA(A,o)?BA(r,e,s,2,t):OA(r,e,s,2,t),B=i,0|(o=0))):(B=i,0|(o=6))}function xA(A,e,t,r){e|=0,r|=0;var s,o=0,a=0,c=0,l=0;if(s=B,B=B+16|0,function(A,e,t){e|=0,t|=0;var r=0,s=0,o=0;o=B,B=B+32|0,function(A,e){e|=0;var t=0,r=0,n=0;t=+i[(A=A|0)>>3],r=+h(+t),t=+f(+t),i[e+16>>3]=t,t=+i[A+8>>3],n=r*+h(+t),i[e>>3]=n,t=r*+f(+t),i[e+8>>3]=t}(A|=0,s=o),n[e>>2]=0,i[t>>3]=5,(r=+Fe(16400,s))<+i[t>>3]&&(n[e>>2]=0,i[t>>3]=r);(r=+Fe(16424,s))<+i[t>>3]&&(n[e>>2]=1,i[t>>3]=r);(r=+Fe(16448,s))<+i[t>>3]&&(n[e>>2]=2,i[t>>3]=r);(r=+Fe(16472,s))<+i[t>>3]&&(n[e>>2]=3,i[t>>3]=r);(r=+Fe(16496,s))<+i[t>>3]&&(n[e>>2]=4,i[t>>3]=r);(r=+Fe(16520,s))<+i[t>>3]&&(n[e>>2]=5,i[t>>3]=r);(r=+Fe(16544,s))<+i[t>>3]&&(n[e>>2]=6,i[t>>3]=r);(r=+Fe(16568,s))<+i[t>>3]&&(n[e>>2]=7,i[t>>3]=r);(r=+Fe(16592,s))<+i[t>>3]&&(n[e>>2]=8,i[t>>3]=r);(r=+Fe(16616,s))<+i[t>>3]&&(n[e>>2]=9,i[t>>3]=r);(r=+Fe(16640,s))<+i[t>>3]&&(n[e>>2]=10,i[t>>3]=r);(r=+Fe(16664,s))<+i[t>>3]&&(n[e>>2]=11,i[t>>3]=r);(r=+Fe(16688,s))<+i[t>>3]&&(n[e>>2]=12,i[t>>3]=r);(r=+Fe(16712,s))<+i[t>>3]&&(n[e>>2]=13,i[t>>3]=r);(r=+Fe(16736,s))<+i[t>>3]&&(n[e>>2]=14,i[t>>3]=r);(r=+Fe(16760,s))<+i[t>>3]&&(n[e>>2]=15,i[t>>3]=r);(r=+Fe(16784,s))<+i[t>>3]&&(n[e>>2]=16,i[t>>3]=r);(r=+Fe(16808,s))<+i[t>>3]&&(n[e>>2]=17,i[t>>3]=r);(r=+Fe(16832,s))<+i[t>>3]&&(n[e>>2]=18,i[t>>3]=r);if(!((r=+Fe(16856,s))<+i[t>>3]))return void(B=o);n[e>>2]=19,i[t>>3]=r,B=o}(A|=0,t|=0,l=s),(a=+p(+(1-.5*+i[l>>3])))<1e-16)return n[r>>2]=0,n[r+4>>2]=0,n[r+8>>2]=0,n[r+12>>2]=0,void(B=s);if(l=0|n[t>>2],o=+oe((o=+i[15920+(24*l|0)>>3])-+oe(+function(A,e){A|=0;var t=0,r=0,n=0,s=0,o=0;return s=+i[(e=e|0)>>3],r=+h(+s),n=+i[e+8>>3]-+i[A+8>>3],o=r*+f(+n),t=+i[A>>3],+ +m(+o,+(+f(+s)*+h(+t)-+h(+n)*(r*+f(+t))))}(15600+(l<<4)|0,A))),c=0|$A(e)?+oe(o+-.3334731722518321):o,o=2.618033988749896*+d(+a),(0|e)>0){A=0;do{o*=2.6457513110645907,A=A+1|0}while((0|A)!=(0|e))}a=+h(+c)*o,i[r>>3]=a,c=+f(+c)*o,i[r+8>>3]=c,B=s}function MA(A,e,t,r,s){e|=0,t|=0,r|=0,s|=0;var o,a=0,u=0;if(a=+function(A){var e=0,t=0;return t=+i[(A=A|0)>>3],e=+i[A+8>>3],+ +l(+(t*t+e*e))}(A|=0),a<1e-16)return e=15600+(e<<4)|0,n[s>>2]=n[e>>2],n[s+4>>2]=n[e+4>>2],n[s+8>>2]=n[e+8>>2],void(n[s+12>>2]=n[e+12>>2]);if(u=+m(+ +i[A+8>>3],+ +i[A>>3]),(0|t)>0){A=0;do{a*=.37796447300922725,A=A+1|0}while((0|A)!=(0|t))}o=.3333333333333333*a,r?(t=0==(0|$A(t)),a=+_(.381966011250105*(t?o:.37796447300922725*o))):(a=+_(.381966011250105*a),0|$A(t)&&(u=+oe(u+.3334731722518321))),function(A,e,t,r){A|=0,e=+e,r|=0;var s=0,o=0,a=0,l=0;if((t=+t)<1e-16)return n[r>>2]=n[A>>2],n[r+4>>2]=n[A+4>>2],n[r+8>>2]=n[A+8>>2],void(n[r+12>>2]=n[A+12>>2]);o=e<0?e+6.283185307179586:e,o=e>=6.283185307179586?o+-6.283185307179586:o;do{if(!(o<1e-16)){if(s=+c(+(o+-3.141592653589793))<1e-16,e=+i[A>>3],s){e-=t,i[r>>3]=e,s=r;break}if(a=+h(+t),t=+f(+t),e=a*+f(+e)+ +h(+o)*(t*+h(+e)),e=+g(+((e=e>1?1:e)<-1?-1:e)),i[r>>3]=e,+c(+(e+-1.5707963267948966))<1e-16)return i[r>>3]=1.5707963267948966,void(i[r+8>>3]=0);if(+c(+(e+1.5707963267948966))<1e-16)return i[r>>3]=-1.5707963267948966,void(i[r+8>>3]=0);if(l=1/+h(+e),o=t*+f(+o)*l,t=+i[A>>3],e=l*((a-+f(+e)*+f(+t))/+h(+t)),a=o>1?1:o,e=e>1?1:e,(e=+i[A+8>>3]+ +m(+(a<-1?-1:a),+(e<-1?-1:e)))>3.141592653589793)do{e+=-6.283185307179586}while(e>3.141592653589793);if(e<-3.141592653589793)do{e+=6.283185307179586}while(e<-3.141592653589793);return void(i[r+8>>3]=e)}e=+i[A>>3]+t,i[r>>3]=e,s=r}while(0);if(+c(+(e+-1.5707963267948966))<1e-16)return i[s>>3]=1.5707963267948966,void(i[r+8>>3]=0);if(+c(+(e+1.5707963267948966))<1e-16)return i[s>>3]=-1.5707963267948966,void(i[r+8>>3]=0);if((e=+i[A+8>>3])>3.141592653589793)do{e+=-6.283185307179586}while(e>3.141592653589793);if(e<-3.141592653589793)do{e+=6.283185307179586}while(e<-3.141592653589793);i[r+8>>3]=e}(15600+(e<<4)|0,+oe(+i[15920+(24*e|0)>>3]-u),a,s)}function kA(A,e,t){e|=0,t|=0;var r,i;r=B,B=B+16|0,iA((A|=0)+4|0,i=r),MA(i,0|n[A>>2],e,0,t),B=r}function BA(A,e,t,r,s){A|=0,e|=0,t|=0,r|=0,s|=0;var o,a,c,l,u,h,f,d,p,g,_,m,v,E,b,w,y,T,S,R,P,x,M=0,k=0,I=0,L=0,D=0,O=0;if(x=B,B=B+272|0,L=x+240|0,S=x,R=x+224|0,P=x+208|0,_=x+176|0,m=x+160|0,v=x+192|0,E=x+144|0,b=x+128|0,w=x+112|0,y=x+96|0,T=x+80|0,n[(M=x+256|0)>>2]=e,n[L>>2]=n[A>>2],n[L+4>>2]=n[A+4>>2],n[L+8>>2]=n[A+8>>2],n[L+12>>2]=n[A+12>>2],IA(L,M,S),n[s>>2]=0,(0|(L=r+t+(5==(0|r)&1)|0))<=(0|t))B=x;else{a=R+4|0,c=_+4|0,l=t+5|0,u=16880+((o=0|n[M>>2])<<2)|0,h=16960+(o<<2)|0,f=b+8|0,d=w+8|0,p=y+8|0,g=P+4|0,I=t;A:for(;;){k=S+(((0|I)%5|0)<<4)|0,n[P>>2]=n[k>>2],n[P+4>>2]=n[k+4>>2],n[P+8>>2]=n[k+8>>2],n[P+12>>2]=n[k+12>>2];do{}while(2==(0|LA(P,o,0,1)));if((0|I)>(0|t)&0!=(0|$A(e))){if(n[_>>2]=n[P>>2],n[_+4>>2]=n[P+4>>2],n[_+8>>2]=n[P+8>>2],n[_+12>>2]=n[P+12>>2],iA(a,m),r=0|n[_>>2],M=0|n[17040+(80*r|0)+(n[R>>2]<<2)>>2],n[_>>2]=n[18640+(80*r|0)+(20*M|0)>>2],(0|(k=0|n[18640+(80*r|0)+(20*M|0)+16>>2]))>0){A=0;do{_A(c),A=A+1|0}while((0|A)<(0|k))}switch(k=18640+(80*r|0)+(20*M|0)+4|0,n[v>>2]=n[k>>2],n[v+4>>2]=n[k+4>>2],n[v+8>>2]=n[k+8>>2],aA(v,3*(0|n[u>>2])|0),sA(c,v,c),nA(c),iA(c,E),D=+(0|n[h>>2]),i[b>>3]=3*D,i[f>>3]=0,O=-1.5*D,i[w>>3]=O,i[d>>3]=2.598076211353316*D,i[y>>3]=O,i[p>>3]=-2.598076211353316*D,0|n[17040+(80*(0|n[_>>2])|0)+(n[P>>2]<<2)>>2]){case 1:A=w,r=b;break;case 3:A=y,r=w;break;case 2:A=b,r=y;break;default:A=12;break A}De(m,E,r,A,T),MA(T,0|n[_>>2],o,1,s+8+(n[s>>2]<<4)|0),n[s>>2]=1+(0|n[s>>2])}if((0|I)<(0|l)&&(iA(g,_),MA(_,0|n[P>>2],o,1,s+8+(n[s>>2]<<4)|0),n[s>>2]=1+(0|n[s>>2])),n[R>>2]=n[P>>2],n[R+4>>2]=n[P+4>>2],n[R+8>>2]=n[P+8>>2],n[R+12>>2]=n[P+12>>2],(0|(I=I+1|0))>=(0|L)){A=3;break}}3!=(0|A)?12==(0|A)&&C(26970,27017,572,27027):B=x}}function IA(A,e,t){A|=0,e|=0,t|=0;var r,i=0,s=0,o=0,a=0,c=0;r=B,B=B+128|0,s=r,a=20240,c=(o=i=r+64|0)+60|0;do{n[o>>2]=n[a>>2],o=o+4|0,a=a+4|0}while((0|o)<(0|c));a=20304,c=(o=s)+60|0;do{n[o>>2]=n[a>>2],o=o+4|0,a=a+4|0}while((0|o)<(0|c));i=(c=0==(0|$A(0|n[e>>2])))?i:s,bA(s=A+4|0),wA(s),0|$A(0|n[e>>2])&&(pA(s),n[e>>2]=1+(0|n[e>>2])),n[t>>2]=n[A>>2],sA(s,i,e=t+4|0),nA(e),n[t+16>>2]=n[A>>2],sA(s,i+12|0,e=t+20|0),nA(e),n[t+32>>2]=n[A>>2],sA(s,i+24|0,e=t+36|0),nA(e),n[t+48>>2]=n[A>>2],sA(s,i+36|0,e=t+52|0),nA(e),n[t+64>>2]=n[A>>2],sA(s,i+48|0,t=t+68|0),nA(t),B=r}function LA(A,e,t,r){t|=0,r|=0;var i,s,o,a,c,l,u=0,h=0,f=0,d=0,p=0;if(l=B,B=B+32|0,c=l+12|0,s=l,p=(A|=0)+4|0,d=0|n[16960+((e|=0)<<2)>>2],d=(a=0!=(0|r))?3*d|0:d,u=0|n[p>>2],i=0|n[(o=A+8|0)>>2],a){if((0|(u=i+u+(r=0|n[(h=A+12|0)>>2])|0))==(0|d))return B=l,0|(p=1);f=h}else u=i+u+(r=0|n[(f=A+12|0)>>2])|0;if((0|u)<=(0|d))return B=l,0|(p=0);do{if((0|r)>0){if(r=0|n[A>>2],(0|i)>0){h=18640+(80*r|0)+60|0,r=A;break}r=18640+(80*r|0)+40|0,t?(tA(c,d,0,0),oA(p,c,s),mA(s),sA(s,c,p),h=r,r=A):(h=r,r=A)}else h=18640+(80*(0|n[A>>2])|0)+20|0,r=A}while(0);if(n[r>>2]=n[h>>2],(0|n[(u=h+16|0)>>2])>0){r=0;do{_A(p),r=r+1|0}while((0|r)<(0|n[u>>2]))}return A=h+4|0,n[c>>2]=n[A>>2],n[c+4>>2]=n[A+4>>2],n[c+8>>2]=n[A+8>>2],e=0|n[16880+(e<<2)>>2],aA(c,a?3*e|0:e),sA(p,c,p),nA(p),r=a&&((0|n[o>>2])+(0|n[p>>2])+(0|n[f>>2])|0)==(0|d)?1:2,B=l,0|(p=r)}function DA(A,e){A|=0,e|=0;var t=0;do{t=0|LA(A,e,0,1)}while(2==(0|t));return 0|t}function OA(A,e,t,r,s){A|=0,e|=0,t|=0,r|=0,s|=0;var o,a,c,l,u,h,f,d,p,g,_,m,v,E,b,w,y,T,S=0,R=0,P=0,x=0,M=0;if(T=B,B=B+240|0,E=T+208|0,b=T,w=T+192|0,y=T+176|0,p=T+160|0,g=T+144|0,_=T+128|0,m=T+112|0,v=T+96|0,n[(S=T+224|0)>>2]=e,n[E>>2]=n[A>>2],n[E+4>>2]=n[A+4>>2],n[E+8>>2]=n[A+8>>2],n[E+12>>2]=n[A+12>>2],FA(E,S,b),n[s>>2]=0,(0|(d=r+t+(6==(0|r)&1)|0))<=(0|t))B=T;else{a=t+6|0,c=16960+((o=0|n[S>>2])<<2)|0,l=g+8|0,u=_+8|0,h=m+8|0,f=w+4|0,R=0,P=t,r=-1;A:for(;;){if(A=b+((S=(0|P)%6|0)<<4)|0,n[w>>2]=n[A>>2],n[w+4>>2]=n[A+4>>2],n[w+8>>2]=n[A+8>>2],n[w+12>>2]=n[A+12>>2],A=R,R=0|LA(w,o,0,1),(0|P)>(0|t)&0!=(0|$A(e))&&(1!=(0|A)&&(0|n[w>>2])!=(0|r))){switch(iA(b+(((S+5|0)%6|0)<<4)+4|0,y),iA(b+(S<<4)+4|0,p),x=+(0|n[c>>2]),i[g>>3]=3*x,i[l>>3]=0,M=-1.5*x,i[_>>3]=M,i[u>>3]=2.598076211353316*x,i[m>>3]=M,i[h>>3]=-2.598076211353316*x,S=0|n[E>>2],0|n[17040+(80*S|0)+(((0|r)==(0|S)?0|n[w>>2]:r)<<2)>>2]){case 1:A=_,r=g;break;case 3:A=m,r=_;break;case 2:A=g,r=m;break;default:A=8;break A}De(y,p,r,A,v),0|Oe(y,v)||0|Oe(p,v)||(MA(v,0|n[E>>2],o,1,s+8+(n[s>>2]<<4)|0),n[s>>2]=1+(0|n[s>>2]))}if((0|P)<(0|a)&&(iA(f,y),MA(y,0|n[w>>2],o,1,s+8+(n[s>>2]<<4)|0),n[s>>2]=1+(0|n[s>>2])),(0|(P=P+1|0))>=(0|d)){A=3;break}r=0|n[w>>2]}3!=(0|A)?8==(0|A)&&C(27054,27017,737,27099):B=T}}function FA(A,e,t){A|=0,e|=0,t|=0;var r,i=0,s=0,o=0,a=0,c=0;r=B,B=B+160|0,s=r,a=20368,c=(o=i=r+80|0)+72|0;do{n[o>>2]=n[a>>2],o=o+4|0,a=a+4|0}while((0|o)<(0|c));a=20448,c=(o=s)+72|0;do{n[o>>2]=n[a>>2],o=o+4|0,a=a+4|0}while((0|o)<(0|c));i=(c=0==(0|$A(0|n[e>>2])))?i:s,bA(s=A+4|0),wA(s),0|$A(0|n[e>>2])&&(pA(s),n[e>>2]=1+(0|n[e>>2])),n[t>>2]=n[A>>2],sA(s,i,e=t+4|0),nA(e),n[t+16>>2]=n[A>>2],sA(s,i+12|0,e=t+20|0),nA(e),n[t+32>>2]=n[A>>2],sA(s,i+24|0,e=t+36|0),nA(e),n[t+48>>2]=n[A>>2],sA(s,i+36|0,e=t+52|0),nA(e),n[t+64>>2]=n[A>>2],sA(s,i+48|0,e=t+68|0),nA(e),n[t+80>>2]=n[A>>2],sA(s,i+60|0,t=t+84|0),nA(t),B=r}function NA(A,e){return e=0|st(0|(A|=0),0|(e|=0),45),S(),127&e|0}function UA(A,e){A|=0;var t=0,n=0,i=0,s=0;return!0&134217728==(-16777216&(e|=0)|0)?(n=0|st(0|A,0|e,52),S(),n&=15,t=0|st(0|A,0|e,45),S(),(t&=127)>>>0>121?0|(A=0):0==(613566756&(s=0|ot(0|(i=0|st(0|A,0|e,0|(s=3*(15^n)|0))),0|S(),0|s))&(0|qe(-1227133514,-1171,0|s,0|(i=0|S())))|0)&0==(4681&i&(0|S())|0)&&15==(0|n)|0==(0|(s=0|st(0|(0|ot(0|~A,0|~e,0|(s=19+(3*n|0)|0))),0|S(),0|s)))&0==(0|S())?0|r[20528+t>>0]?0==(0|A)&0==(0|(e&=8191))?0|(s=1):(s=0|at(0|A,0|e,0),S(),0!=(0|(63-s|0)%3)|0):0|(s=1):0|(s=0)):0|(A=0)}function GA(A,e,t,r){A|=0,t|=0,r|=0;var i=0,s=0,o=0,a=0;if(i=0|ot(0|(e|=0),0,52),s=0|S(),t=0|ot(0|t,0,45),t=0|s|S()|134225919,(0|e)<1)return s=-1,r=t,n[(e=A)>>2]=s,void(n[(A=A+4|0)>>2]=r);for(s=1,i=-1;a=0|ot(7,0,0|(o=3*(15-s|0)|0)),t&=~(0|S()),i=i&~a|(o=0|ot(0|r,0,0|o)),t=0|t|S(),(0|s)!=(0|e);)s=s+1|0;n[(o=a=A)>>2]=i,n[(a=a+4|0)>>2]=t}function zA(A,e,t,r){t|=0,r|=0;var i=0,s=0;if(s=0|st(0|(A|=0),0|(e|=0),52),S(),t>>>0>15)return 0|(r=4);if((0|(s&=15))<(0|t))return 0|(r=12);if((0|s)==(0|t))return n[r>>2]=A,n[r+4>>2]=e,0|(r=0);if(i=0|ot(0|t,0,52),i|=A,A=0|S()|-15728641&e,(0|s)>(0|t))do{e=0|ot(7,0,3*(14-t|0)|0),t=t+1|0,i|=e,A=0|S()|A}while((0|t)<(0|s));return n[r>>2]=i,n[r+4>>2]=A,0|(r=0)}function VA(A,e,t,r){t|=0,r|=0;var i=0,s=0,o=0;if(s=0|st(0|(A|=0),0|(e|=0),52),S(),!((0|t)<16&(0|(s&=15))<=(0|t)))return 0|(r=4);i=t-s|0,t=0|st(0|A,0|e,45),S();A:do{if(0|G(127&t)){e:do{if(0|s){for(t=1;0==((o=0|ot(7,0,3*(15-t|0)|0))&A|0)&0==((0|S())&e|0);){if(!(t>>>0<s>>>0))break e;t=t+1|0}t=0|we(7,0,i,((0|i)<0)<<31>>31),i=0|S();break A}}while(0);t=0|$e(0|(t=0|tt(0|(t=0|we(7,0,i,((0|i)<0)<<31>>31)),0|S(),5,0)),0|S(),-5,-1),t=0|$e(0|(t=0|et(0|t,0|S(),6,0)),0|S(),1,0),i=0|S()}else t=0|we(7,0,i,((0|i)<0)<<31>>31),i=0|S()}while(0);return n[(o=r)>>2]=t,n[o+4>>2]=i,0|(o=0)}function QA(A,e){var t=0,r=0,n=0;if(n=0|st(0|(A|=0),0|(e|=0),45),S(),!(0|G(127&n)))return 0|(n=0);n=0|st(0|A,0|e,52),S(),n&=15;A:do{if(n)for(r=1;;){if(t=0|st(0|A,0|e,3*(15-r|0)|0),S(),0|(t&=7))break A;if(!(r>>>0<n>>>0)){t=0;break}r=r+1|0}else t=0}while(0);return 0|(n=0==(0|t)&1)}function jA(A,e,t,r){return A|=0,e|=0,(0|(r|=0))<(0|(t|=0))?(r=A,T(0|(t=e)),0|r):(t=0|ot(-1,-1,3+(3*(r-t|0)|0)|0),r=0|ot(0|~t,0|~(0|S()),3*(15-r|0)|0),t=~(0|S())&e,r=~r&A,T(0|t),0|r)}function WA(A,e,t,r){t|=0,r|=0;var i=0;return i=0|st(0|(A|=0),0|(e|=0),52),S(),(0|t)<16&(0|(i&=15))<=(0|t)?((0|i)<(0|t)&&(i=0|ot(-1,-1,3+(3*(t+-1-i|0)|0)|0),i=0|ot(0|~i,0|~(0|S()),3*(15-t|0)|0),e=~(0|S())&e,A&=~i),i=0|ot(0|t,0,52),t=-15728641&e|0|S(),n[r>>2]=A|i,n[r+4>>2]=t,0|(r=0)):0|(r=4)}function HA(A,e){var t=0,r=0,n=0;if(n=0|st(0|(A|=0),0|(e|=0),52),S(),!(n&=15))return 0|(n=0);for(r=1;;){if(t=0|st(0|A,0|e,3*(15-r|0)|0),S(),0|(t&=7)){r=5;break}if(!(r>>>0<n>>>0)){t=0,r=5;break}r=r+1|0}return 5==(0|r)?0|t:0}function XA(A,e){var t=0,r=0,n=0,i=0,s=0,o=0,a=0;if(a=0|st(0|(A|=0),0|(e|=0),52),S(),!(a&=15))return a=A,T(0|(o=e)),0|a;for(o=1,t=0;;){r=0|ot(7,0,0|(i=3*(15-o|0)|0)),n=0|S(),s=0|st(0|A,0|e,0|i),S(),A=(i=0|ot(0|vA(7&s),0,0|i))|A&~r,e=(s=0|S())|e&~n;A:do{if(!t)if(0==(i&r|0)&0==(s&n|0))t=0;else if(r=0|st(0|A,0|e,52),S(),r&=15){t=1;e:for(;;){switch(s=0|st(0|A,0|e,3*(15-t|0)|0),S(),7&s){case 1:break e;case 0:break;default:t=1;break A}if(!(t>>>0<r>>>0)){t=1;break A}t=t+1|0}for(t=1;;){if(n=0|st(0|A,0|e,0|(s=3*(15-t|0)|0)),S(),i=0|ot(7,0,0|s),e&=~(0|S()),A=A&~i|(s=0|ot(0|vA(7&n),0,0|s)),e=0|e|S(),!(t>>>0<r>>>0)){t=1;break}t=t+1|0}}else t=1}while(0);if(!(o>>>0<a>>>0))break;o=o+1|0}return T(0|e),0|A}function YA(A,e){var t=0,r=0,n=0,i=0,s=0;if(r=0|st(0|(A|=0),0|(e|=0),52),S(),!(r&=15))return r=A,T(0|(t=e)),0|r;for(t=1;s=0|st(0|A,0|e,0|(i=3*(15-t|0)|0)),S(),n=0|ot(7,0,0|i),e&=~(0|S()),A=(i=0|ot(0|vA(7&s),0,0|i))|A&~n,e=0|S()|e,t>>>0<r>>>0;)t=t+1|0;return T(0|e),0|A}function KA(A,e){var t=0,r=0,n=0,i=0,s=0,o=0,a=0;if(a=0|st(0|(A|=0),0|(e|=0),52),S(),!(a&=15))return a=A,T(0|(o=e)),0|a;for(o=1,t=0;;){r=0|ot(7,0,0|(i=3*(15-o|0)|0)),n=0|S(),s=0|st(0|A,0|e,0|i),S(),A=(i=0|ot(0|EA(7&s),0,0|i))|A&~r,e=(s=0|S())|e&~n;A:do{if(!t)if(0==(i&r|0)&0==(s&n|0))t=0;else if(r=0|st(0|A,0|e,52),S(),r&=15){t=1;e:for(;;){switch(s=0|st(0|A,0|e,3*(15-t|0)|0),S(),7&s){case 1:break e;case 0:break;default:t=1;break A}if(!(t>>>0<r>>>0)){t=1;break A}t=t+1|0}for(t=1;;){if(i=0|ot(7,0,0|(n=3*(15-t|0)|0)),s=e&~(0|S()),e=0|st(0|A,0|e,0|n),S(),A=A&~i|(e=0|ot(0|EA(7&e),0,0|n)),e=0|s|S(),!(t>>>0<r>>>0)){t=1;break}t=t+1|0}}else t=1}while(0);if(!(o>>>0<a>>>0))break;o=o+1|0}return T(0|e),0|A}function ZA(A,e){var t=0,r=0,n=0,i=0,s=0;if(r=0|st(0|(A|=0),0|(e|=0),52),S(),!(r&=15))return r=A,T(0|(t=e)),0|r;for(t=1;i=0|ot(7,0,0|(s=3*(15-t|0)|0)),n=e&~(0|S()),e=0|st(0|A,0|e,0|s),S(),A=(e=0|ot(0|EA(7&e),0,0|s))|A&~i,e=0|S()|n,t>>>0<r>>>0;)t=t+1|0;return T(0|e),0|A}function $A(A){return 0|(0|(A|=0))%2}function qA(A,e,t){t|=0;var r,i=0;return r=B,B=B+16|0,i=r,(e|=0)>>>0>15?(B=r,0|(i=4)):2146435072==(2146435072&n[(A|=0)+4>>2]|0)||2146435072==(2146435072&n[A+8+4>>2]|0)?(B=r,0|(i=3)):(function(A,e,t){var r,n;r=B,B=B+16|0,xA(A|=0,e|=0,t|=0,n=r),rA(n,t+4|0),B=r}(A,e,i),e=0|function(A,e){A|=0;var t,r=0,i=0,s=0,o=0,a=0,c=0,l=0,u=0;if(t=B,B=B+64|0,c=t+40|0,i=t+24|0,s=t+12|0,o=t,ot(0|(e|=0),0,52),r=134225919|S(),!e)return(0|n[A+4>>2])>2||(0|n[A+8>>2])>2||(0|n[A+12>>2])>2?(c=0,T(0|(a=0)),B=t,0|c):(ot(0|V(A),0,45),a=0|S()|r,c=-1,T(0|a),B=t,0|c);if(n[c>>2]=n[A>>2],n[c+4>>2]=n[A+4>>2],n[c+8>>2]=n[A+8>>2],n[c+12>>2]=n[A+12>>2],a=c+4|0,(0|e)>0)for(A=-1;n[i>>2]=n[a>>2],n[i+4>>2]=n[a+4>>2],n[i+8>>2]=n[a+8>>2],1&e?(hA(a),n[s>>2]=n[a>>2],n[s+4>>2]=n[a+4>>2],n[s+8>>2]=n[a+8>>2],dA(s)):(fA(a),n[s>>2]=n[a>>2],n[s+4>>2]=n[a+4>>2],n[s+8>>2]=n[a+8>>2],pA(s)),oA(i,s,o),nA(o),l=0|ot(7,0,0|(u=3*(15-e|0)|0)),r&=~(0|S()),A=(u=0|ot(0|cA(o),0,0|u))|A&~l,r=0|S()|r,(0|e)>1;)e=e+-1|0;else A=-1;A:do{if((0|n[a>>2])<=2&&(0|n[c+8>>2])<=2&&(0|n[c+12>>2])<=2){if(e=0|ot(0|(i=0|V(c)),0,45),e|=A,A=0|S()|-1040385&r,o=0|Q(c),!(0|G(i))){if((0|o)<=0)break;for(s=0;;){if(i=0|st(0|e,0|A,52),S(),i&=15)for(r=1;c=0|st(0|e,0|A,0|(u=3*(15-r|0)|0)),S(),l=0|ot(7,0,0|u),A&=~(0|S()),e=e&~l|(u=0|ot(0|vA(7&c),0,0|u)),A=0|A|S(),r>>>0<i>>>0;)r=r+1|0;if((0|(s=s+1|0))==(0|o))break A}}s=0|st(0|e,0|A,52),S(),s&=15;e:do{if(s){r=1;t:for(;;){switch(u=0|st(0|e,0|A,3*(15-r|0)|0),S(),7&u){case 1:break t;case 0:break;default:break e}if(!(r>>>0<s>>>0))break e;r=r+1|0}if(0|j(i,0|n[c>>2]))for(r=1;l=0|ot(7,0,0|(c=3*(15-r|0)|0)),u=A&~(0|S()),A=0|st(0|e,0|A,0|c),S(),e=e&~l|(A=0|ot(0|EA(7&A),0,0|c)),A=0|u|S(),r>>>0<s>>>0;)r=r+1|0;else for(r=1;c=0|st(0|e,0|A,0|(u=3*(15-r|0)|0)),S(),l=0|ot(7,0,0|u),A&=~(0|S()),e=e&~l|(u=0|ot(0|vA(7&c),0,0|u)),A=0|A|S(),r>>>0<s>>>0;)r=r+1|0}}while(0);if((0|o)>0){r=0;do{e=0|XA(e,A),A=0|S(),r=r+1|0}while((0|r)!=(0|o))}}else e=0,A=0}while(0);return u=e,T(0|(l=A)),B=t,0|u}(i,e),i=0|S(),n[t>>2]=e,n[t+4>>2]=i,0==(0|e)&0==(0|i)&&C(27795,27122,959,27145),B=r,0|(i=0))}function JA(A,e,t){var r,i=0,s=0,o=0;if(r=(t|=0)+4|0,s=0|st(0|(A|=0),0|(e|=0),52),S(),s&=15,o=0|st(0|A,0|e,45),S(),i=0==(0|s),0|G(127&o)){if(i)return 0|(o=1);i=1}else{if(i)return 0|(o=0);i=0==(0|n[r>>2])&&0==(0|n[t+8>>2])?0!=(0|n[t+12>>2])&1:1}for(t=1;1&t?dA(r):pA(r),o=0|st(0|A,0|e,3*(15-t|0)|0),S(),gA(r,7&o),t>>>0<s>>>0;)t=t+1|0;return 0|i}function Ae(A,e,t){t|=0;var r,i,s=0,o=0,a=0,c=0,l=0,u=0;if(i=B,B=B+16|0,r=i,u=0|st(0|(A|=0),0|(e|=0),45),S(),(u&=127)>>>0>121)return n[t>>2]=0,n[t+4>>2]=0,n[t+8>>2]=0,n[t+12>>2]=0,B=i,0|(u=5);A:do{if(0!=(0|G(u))&&(a=0|st(0|A,0|e,52),S(),0!=(0|(a&=15)))){s=1;e:for(;;){switch(l=0|st(0|A,0|e,3*(15-s|0)|0),S(),7&l){case 5:break e;case 0:break;default:s=e;break A}if(!(s>>>0<a>>>0)){s=e;break A}s=s+1|0}for(o=1,s=e;c=0|ot(7,0,0|(e=3*(15-o|0)|0)),l=s&~(0|S()),s=0|st(0|A,0|s,0|e),S(),A=A&~c|(s=0|ot(0|EA(7&s),0,0|e)),s=0|l|S(),o>>>0<a>>>0;)o=o+1|0}else s=e}while(0);if(l=7696+(28*u|0)|0,n[t>>2]=n[l>>2],n[t+4>>2]=n[l+4>>2],n[t+8>>2]=n[l+8>>2],n[t+12>>2]=n[l+12>>2],!(0|JA(A,s,t)))return B=i,0|(u=0);if(c=t+4|0,n[r>>2]=n[c>>2],n[r+4>>2]=n[c+4>>2],n[r+8>>2]=n[c+8>>2],a=0|st(0|A,0|s,52),S(),l=15&a,1&a?(pA(c),a=l+1|0):a=l,0|G(u)){A:do{if(l)for(e=1;;){if(o=0|st(0|A,0|s,3*(15-e|0)|0),S(),0|(o&=7)){s=o;break A}if(!(e>>>0<l>>>0)){s=0;break}e=e+1|0}else s=0}while(0);s=4==(0|s)&1}else s=0;if(0|LA(t,a,s,0)){if(0|G(u))do{}while(0!=(0|LA(t,a,0,0)));(0|a)!=(0|l)&&fA(c)}else(0|a)!=(0|l)&&(n[c>>2]=n[r>>2],n[c+4>>2]=n[r+4>>2],n[c+8>>2]=n[r+8>>2]);return B=i,0|(u=0)}function ee(A,e,t){t|=0;var r,n,i=0;return n=B,B=B+16|0,0|(i=0|Ae(A|=0,e|=0,r=n))?(B=n,0|i):(i=0|st(0|A,0|e,52),S(),kA(r,15&i,t),B=n,0|(i=0))}function te(A,e,t){t|=0;var r,n=0,i=0,s=0;if(r=B,B=B+16|0,0|(n=0|Ae(A|=0,e|=0,s=r)))return B=r,0|(s=n);n=0|st(0|A,0|e,45),S(),n=0==(0|G(127&n)),i=0|st(0|A,0|e,52),S(),i&=15;A:do{if(!n){if(0|i)for(n=1;;){if(!(0==((0|ot(7,0,3*(15-n|0)|0))&A|0)&0==((0|S())&e|0)))break A;if(!(n>>>0<i>>>0))break;n=n+1|0}return BA(s,i,0,5,t),B=r,0|0}}while(0);return OA(s,i,0,6,t),B=r,0|0}function re(A,e){e|=0;var t=0,r=0,i=0,s=0,o=0,a=0,c=0;if((A|=0)>>>0>15)return 0|(a=4);if(ot(0|A,0,52),a=134225919|S(),!A){t=0,r=0;do{0|G(r)&&(ot(0|r,0,45),o=0|a|S(),n[(A=e+(t<<3)|0)>>2]=-1,n[A+4>>2]=o,t=t+1|0),r=r+1|0}while(122!=(0|r));return 0|(t=0)}t=0,o=0;do{if(0|G(o)){for(ot(0|o,0,45),r=1,i=-1,s=0|a|S();i&=~(c=0|ot(7,0,3*(15-r|0)|0)),s&=~(0|S()),(0|r)!=(0|A);)r=r+1|0;n[(c=e+(t<<3)|0)>>2]=i,n[c+4>>2]=s,t=t+1|0}o=o+1|0}while(122!=(0|o));return 0|(t=0)}function ne(A,e,t,r){A|=0,r|=0;var i=0,s=0,o=0;i=0|st(0|(e|=0),0|(t|=0),52),S(),0==(0|e)&0==(0|t)|(0|r)>15|(0|(i&=15))>(0|r)?(s=-1,e=-1,t=0,i=0):(e=0|jA(e,t,i+1|0,r),o=-15728641&(0|S()),t=0|ot(0|r,0,52),s=i,e=(e=0==(0|QA(t|=e,o=0|o|S())))?-1:r,i=o),n[(o=A)>>2]=t,n[o+4>>2]=i,n[A+8>>2]=s,n[A+12>>2]=e}function ie(A,e,t,r){t|=0,r|=0;var i=0,s=0;return i=0|st(0|(A|=0),0|(e|=0),52),S(),i&=15,n[(s=r+8|0)>>2]=i,0==(0|A)&0==(0|e)|(0|t)>15|(0|i)>(0|t)?(n[(t=r)>>2]=0,n[t+4>>2]=0,n[s>>2]=-1,void(n[r+12>>2]=-1)):(A=0|jA(A,e,i+1|0,t),s=-15728641&(0|S()),i=0|ot(0|t,0,52),i|=A,s=0|s|S(),n[(A=r)>>2]=i,n[A+4>>2]=s,A=r+12|0,0|QA(i,s)?void(n[A>>2]=t):void(n[A>>2]=-1))}function se(A){var e,t=0,r=0,i=0,s=0,o=0,a=0,c=0,l=0;if(!(0==(0|(t=0|n[(r=A|=0)>>2]))&0==(0|(r=0|n[r+4>>2]))||(i=0|st(0|t,0|r,52),S(),t=0|$e(0|(c=0|ot(1,0,3*(15^(i&=15))|0)),0|S(),0|t,0|r),r=0|S(),n[(c=A)>>2]=t,n[c+4>>2]=r,(0|i)<(0|(a=0|n[(c=A+8|0)>>2]))))){for(e=A+12|0,o=i;;){if((0|o)==(0|a)){i=5;break}if(l=(0|o)==(0|n[e>>2]),i=0|st(0|t,0|r,0|(s=3*(15-o|0)|0)),S(),l&1==(0|(i&=7))&!0){i=7;break}if(!(7==(0|i)&!0)){i=10;break}if(t=0|$e(0|t,0|r,0|(l=0|ot(1,0,0|s)),0|S()),r=0|S(),n[(l=A)>>2]=t,n[l+4>>2]=r,!((0|o)>(0|a))){i=10;break}o=o+-1|0}if(5==(0|i))return n[(l=A)>>2]=0,n[l+4>>2]=0,n[c>>2]=-1,void(n[e>>2]=-1);if(7==(0|i))return a=0|$e(0|t,0|r,0|(a=0|ot(1,0,0|s)),0|S()),c=0|S(),n[(l=A)>>2]=a,n[l+4>>2]=c,void(n[e>>2]=o+-1)}}function oe(A){var e;return e=(A=+A)<0?A+6.283185307179586:A,+(A>=6.283185307179586?e+-6.283185307179586:e)}function ae(A,e){return e|=0,+c(+(+i[(A|=0)>>3]-+i[e>>3]))<17453292519943298e-27?0|(e=+c(+(+i[A+8>>3]-+i[e+8>>3]))<17453292519943298e-27):0|(e=0)}function ce(A,e){switch(A=+A,0|(e|=0)){case 1:A=A<0?A+6.283185307179586:A;break;case 2:A=A>0?A+-6.283185307179586:A}return+A}function le(A,e){A|=0;var t,r,n,s=0;return r=+i[(e|=0)>>3],t=+i[A>>3],s=(n=+f(.5*(r-t)))*n+(s=+f(.5*(+i[e+8>>3]-+i[A+8>>3])))*(+h(+r)*+h(+t)*s),2*+m(+ +l(+s),+ +l(+(1-s)))*6371.007180918475}function ue(A,e){return e|=0,(A|=0)>>>0>15?0|(e=4):(i[e>>3]=+i[20656+(A<<3)>>3],0|(e=0))}function he(A,e){e|=0;var t=0;return(A|=0)>>>0>15?0|(e=4):(t=0|tt(0|(t=0|we(7,0,A,((0|A)<0)<<31>>31)),0|S(),120,0),A=0|S(),n[e>>2]=2|t,n[e+4>>2]=A,0|(e=0))}function fe(A,e,t){A|=0,t|=0;var r,n,s,o,a=0,c=0,u=0,p=0,g=0,v=0;return v=+i[(e|=0)>>3],s=+i[A>>3],g=+f(.5*(v-s)),u=+i[e+8>>3],n=+i[A+8>>3],p=+f(.5*(u-n)),r=+h(+s),o=+h(+v),p=2*+m(+ +l(+(p=g*g+p*(o*r*p))),+ +l(+(1-p))),g=+i[t>>3],v=+f(.5*(g-v)),a=+i[t+8>>3],u=+f(.5*(a-u)),c=+h(+g),u=2*+m(+ +l(+(u=v*v+u*(o*c*u))),+ +l(+(1-u))),g=+f(.5*(s-g)),a=+f(.5*(n-a)),a=2*+m(+ +l(+(a=g*g+a*(r*c*a))),+ +l(+(1-a))),4*+_(+ +l(+ +d(.5*(c=.5*(p+u+a)))*+d(.5*(c-p))*+d(.5*(c-u))*+d(.5*(c-a))))}function de(A,e,t){t|=0;var r,s,o,a=0,c=0;if(o=B,B=B+192|0,s=o,0|(c=0|ee(A|=0,e|=0,r=o+168|0)))return B=o,0|(t=c);if(0|te(A,e,s)&&C(27795,27190,415,27199),(0|(e=0|n[s>>2]))>0){if(a=+fe(s+8|0,s+8+((1!=(0|e)&1)<<4)|0,r)+0,1!=(0|e)){A=1;do{a+=+fe(s+8+((c=A)<<4)|0,s+8+(((0|(A=A+1|0))%(0|e)|0)<<4)|0,r)}while((0|A)<(0|e))}}else a=0;return i[t>>3]=a,B=o,0|(t=0)}function pe(A){A|=0;var e,t,r=0;return(e=0|Ze(1,12))||C(27280,27235,49,27293),0|(r=0|n[(t=A+4|0)>>2])?(n[(r=r+8|0)>>2]=e,n[t>>2]=e,0|e):(0|n[A>>2]&&C(27310,27235,61,27333),n[(r=A)>>2]=e,n[t>>2]=e,0|e)}function ge(A,e){A|=0,e|=0;var t,r;return(r=0|Ye(24))||C(27347,27235,78,27361),n[r>>2]=n[e>>2],n[r+4>>2]=n[e+4>>2],n[r+8>>2]=n[e+8>>2],n[r+12>>2]=n[e+12>>2],n[r+16>>2]=0,0|(t=0|n[(e=A+4|0)>>2])?(n[t+16>>2]=r,n[e>>2]=r,0|r):(0|n[A>>2]&&C(27376,27235,82,27361),n[A>>2]=r,n[e>>2]=r,0|r)}function _e(A){var e=0,t=0,r=0,i=0;if(A|=0)for(r=1;;){if(0|(e=0|n[A>>2]))do{if(0|(t=0|n[e>>2]))do{i=t,t=0|n[t+16>>2],Ke(i)}while(0!=(0|t));i=e,e=0|n[e+8>>2],Ke(i)}while(0!=(0|e));if(e=A,A=0|n[A+8>>2],r||Ke(e),!A)break;r=0}}function me(A){var e,t,r=0,s=0,o=0,a=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0,b=0,w=0,y=0,T=0,S=0,R=0,P=0,x=0,M=0,k=0,B=0,I=0,L=0,D=0,O=0;if(0|n[(a=(A|=0)+8|0)>>2])return 0|(O=1);if(!(o=0|n[A>>2]))return 0|(O=0);r=o,s=0;do{s=s+1|0,r=0|n[r+8>>2]}while(0!=(0|r));if(s>>>0<2)return 0|(O=0);(t=0|Ye(s<<2))||C(27396,27235,317,27415),(e=0|Ye(s<<5))||C(27437,27235,321,27415),n[A>>2]=0,n[(P=A+4|0)>>2]=0,n[a>>2]=0,s=0,L=0,R=0,g=0;A:for(;;){if(p=0|n[o>>2]){l=0,u=p;do{if(f=+i[u+8>>3],r=u,u=0|n[u+16>>2],h=+i[(a=(d=0==(0|u))?p:u)+8>>3],+c(+(f-h))>3.141592653589793){O=14;break}l+=(h-f)*(+i[r>>3]+ +i[a>>3])}while(!d);if(14==(0|O)){O=0,l=0,r=p;do{S=+i[r+8>>3],B=0|n[(I=r+16|0)>>2],T=+i[(B=0==(0|B)?p:B)+8>>3],l+=(+i[r>>3]+ +i[B>>3])*((T<0?T+6.283185307179586:T)-(S<0?S+6.283185307179586:S)),r=0|n[(0==(0|r)?o:I)>>2]}while(0!=(0|r))}l>0?(n[t+(L<<2)>>2]=o,L=L+1|0,a=R,r=g):O=19}else O=19;if(19==(0|O)){O=0;do{if(!s){if(g){a=P,u=g+8|0,r=o,s=A;break}if(0|n[A>>2]){O=27;break A}a=P,u=A,r=o,s=A;break}if(0|n[(r=s+8|0)>>2]){O=21;break A}if(!(s=0|Ze(1,12))){O=23;break A}n[r>>2]=s,a=s+4|0,u=s,r=g}while(0);if(n[u>>2]=o,n[a>>2]=o,u=e+(R<<5)|0,d=0|n[o>>2]){for(i[(p=e+(R<<5)+8|0)>>3]=17976931348623157e292,i[(g=e+(R<<5)+24|0)>>3]=17976931348623157e292,i[u>>3]=-17976931348623157e292,i[(_=e+(R<<5)+16|0)>>3]=-17976931348623157e292,w=17976931348623157e292,y=-17976931348623157e292,a=0,m=d,f=17976931348623157e292,E=17976931348623157e292,b=-17976931348623157e292,h=-17976931348623157e292;l=+i[m>>3],S=+i[m+8>>3],m=0|n[m+16>>2],T=+i[((v=0==(0|m))?d:m)+8>>3],l<f&&(i[p>>3]=l,f=l),S<E&&(i[g>>3]=S,E=S),l>b?i[u>>3]=l:l=b,S>h&&(i[_>>3]=S,h=S),w=S>0&S<w?S:w,y=S<0&S>y?S:y,a|=+c(+(S-T))>3.141592653589793,!v;)b=l;a&&(i[_>>3]=y,i[g>>3]=w)}else n[u>>2]=0,n[u+4>>2]=0,n[u+8>>2]=0,n[u+12>>2]=0,n[u+16>>2]=0,n[u+20>>2]=0,n[u+24>>2]=0,n[u+28>>2]=0;a=R+1|0}if(o=0|n[(I=o+8|0)>>2],n[I>>2]=0,!o){O=45;break}R=a,g=r}if(21==(0|O))C(27213,27235,35,27247);else if(23==(0|O))C(27267,27235,37,27247);else if(27==(0|O))C(27310,27235,61,27333);else if(45==(0|O)){A:do{if((0|L)>0){for(I=0==(0|a),k=a<<2,B=0==(0|A),M=0,r=0;;){if(x=0|n[t+(M<<2)>>2],I)O=73;else{if(!(R=0|Ye(k))){O=50;break}if(!(P=0|Ye(k))){O=52;break}e:do{if(B)s=0;else{for(a=0,s=0,u=A;o=e+(a<<5)|0,0|ve(0|n[u>>2],o,0|n[x>>2])?(n[R+(s<<2)>>2]=u,n[P+(s<<2)>>2]=o,v=s+1|0):v=s,u=0|n[u+8>>2];)a=a+1|0,s=v;if((0|v)>0)if(o=0|n[R>>2],1==(0|v))s=o;else for(_=0,m=-1,s=o,g=o;;){for(d=0|n[g>>2],o=0,u=0;p=(0|(a=0|n[n[R+(u<<2)>>2]>>2]))==(0|d)?o:o+(1&(0|ve(a,0|n[P+(u<<2)>>2],0|n[d>>2])))|0,(0|(u=u+1|0))!=(0|v);)o=p;if(s=(a=(0|p)>(0|m))?g:s,(0|(o=_+1|0))==(0|v))break e;_=o,m=a?p:m,g=0|n[R+(o<<2)>>2]}else s=0}}while(0);if(Ke(R),Ke(P),s){if(o=0|n[(a=s+4|0)>>2])s=o+8|0;else if(0|n[s>>2]){O=70;break}n[s>>2]=x,n[a>>2]=x}else O=73}if(73==(0|O)){if(O=0,0|(r=0|n[x>>2]))do{P=r,r=0|n[r+16>>2],Ke(P)}while(0!=(0|r));Ke(x),r=1}if((0|(M=M+1|0))>=(0|L)){D=r;break A}}50==(0|O)?C(27452,27235,249,27471):52==(0|O)?C(27490,27235,252,27471):70==(0|O)&&C(27310,27235,61,27333)}else D=0}while(0);return Ke(t),Ke(e),0|(O=D)}return 0}function ve(A,e,t){A|=0;var r=0,s=0,o=0,a=0,c=0,l=0,u=0,h=0;if(!(0|Z(e|=0,t|=0)))return 0|(A=0);if(e=0|Y(e),r=+i[t>>3],s=e&(s=+i[t+8>>3])<0?s+6.283185307179586:s,!(A=0|n[A>>2]))return 0|(A=0);if(e){e=0,u=s,t=A;A:for(;;){for(;a=+i[t>>3],s=+i[t+8>>3],h=0|n[(t=t+16|0)>>2],o=+i[(h=0==(0|h)?A:h)>>3],c=+i[h+8>>3],a>o?(l=a,a=c):(l=o,o=a,a=s,s=c),(r=r==o|r==l?r+2220446049250313e-31:r)<o|r>l;)if(!(t=0|n[t>>2])){t=22;break A}if(((l=(c=a<0?a+6.283185307179586:a)+(r-o)/(l-o)*((a=s<0?s+6.283185307179586:s)-c))<0?l+6.283185307179586:l)>(u=c==u|a==u?u+-2220446049250313e-31:u)&&(e^=1),!(t=0|n[t>>2])){t=22;break}}if(22==(0|t))return 0|e}else{e=0,u=s,t=A;A:for(;;){for(;a=+i[t>>3],s=+i[t+8>>3],h=0|n[(t=t+16|0)>>2],o=+i[(h=0==(0|h)?A:h)>>3],c=+i[h+8>>3],a>o?(l=a,a=c):(l=o,o=a,a=s,s=c),(r=r==o|r==l?r+2220446049250313e-31:r)<o|r>l;)if(!(t=0|n[t>>2])){t=22;break A}if(a+(r-o)/(l-o)*(s-a)>(u=a==u|s==u?u+-2220446049250313e-31:u)&&(e^=1),!(t=0|n[t>>2])){t=22;break}}if(22==(0|t))return 0|e}return 0}function Ee(A,e,t,i,s){t|=0,i|=0,s|=0;var o,a,c,l,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0;if(l=B,B=B+32|0,E=l+16|0,c=l,u=0|st(0|(A|=0),0|(e|=0),52),S(),u&=15,_=0|st(0|t,0|i,52),S(),(0|u)!=(15&_|0))return B=l,0|(E=12);if(p=0|st(0|A,0|e,45),S(),p&=127,g=0|st(0|t,0|i,45),S(),p>>>0>121|(g&=127)>>>0>121)return B=l,0|(E=5);if(_=(0|p)!=(0|g)){if(7==(0|(f=0|H(p,g))))return B=l,0|(E=1);7==(0|(d=0|H(g,p)))?C(27514,27538,161,27548):(m=f,h=d)}else m=0,h=0;o=0|G(p),a=0|G(g),n[E>>2]=0,n[E+4>>2]=0,n[E+8>>2]=0,n[E+12>>2]=0;do{if(m){if(f=(0|(g=0|n[4272+(28*p|0)+(m<<2)>>2]))>0,a)if(f){p=0,d=t,f=i;do{d=0|KA(d,f),f=0|S(),1==(0|(h=0|EA(h)))&&(h=0|EA(1)),p=p+1|0}while((0|p)!=(0|g));g=h,p=d,d=f}else g=h,p=t,d=i;else if(f){p=0,d=t,f=i;do{d=0|ZA(d,f),f=0|S(),h=0|EA(h),p=p+1|0}while((0|p)!=(0|g));g=h,p=d,d=f}else g=h,p=t,d=i;if(JA(p,d,E),_||C(27563,27538,191,27548),(f=0!=(0|o))&(h=0!=(0|a))&&C(27590,27538,192,27548),f){if(7==(0|(h=0|HA(A,e)))){u=5;break}if(0|r[22e3+(7*h|0)+m>>0]){u=1;break}p=d=0|n[21168+(28*h|0)+(m<<2)>>2]}else if(h){if(7==(0|(h=0|HA(p,d)))){u=5;break}if(0|r[22e3+(7*h|0)+g>>0]){u=1;break}p=0,d=0|n[21168+(28*g|0)+(h<<2)>>2]}else p=0,d=0;if((p|d|0)<0)u=5;else{if((0|d)>0){f=E+4|0,h=0;do{mA(f),h=h+1|0}while((0|h)!=(0|d))}if(n[c>>2]=0,n[c+4>>2]=0,n[c+8>>2]=0,gA(c,m),0|u)for(;0|$A(u)?dA(c):pA(c),(0|u)>1;)u=u+-1|0;if((0|p)>0){u=0;do{mA(c),u=u+1|0}while((0|u)!=(0|p))}sA(v=E+4|0,c,v),nA(v),v=51}}else if(JA(t,i,E),0!=(0|o)&0!=(0|a))if((0|g)!=(0|p)&&C(27621,27538,261,27548),7==(0|(h=0|HA(A,e)))|7==(0|(u=0|HA(t,i))))u=5;else if(0|r[22e3+(7*h|0)+u>>0])u=1;else if((0|(h=0|n[21168+(28*h|0)+(u<<2)>>2]))>0){f=E+4|0,u=0;do{mA(f),u=u+1|0}while((0|u)!=(0|h));v=51}else v=51;else v=51}while(0);return 51==(0|v)&&(u=E+4|0,n[s>>2]=n[u>>2],n[s+4>>2]=n[u+4>>2],n[s+8>>2]=n[u+8>>2],u=0),B=l,0|(E=u)}function be(A,e,t,r){t|=0,r|=0;var i,s,o,a=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0;if(o=B,B=B+48|0,i=o+36|0,l=o+24|0,u=o+12|0,h=o,a=0|st(0|(A|=0),0|(e|=0),52),S(),a&=15,d=0|st(0|A,0|e,45),S(),(d&=127)>>>0>121)return B=o,0|(r=5);if(s=0|G(d),ot(0|a,0,52),_=134225919|S(),n[(c=r)>>2]=-1,n[c+4>>2]=_,!a)return 7==(0|(a=0|cA(t)))||127==(0|(a=0|W(d,a)))?(B=o,0|(_=1)):(p=0|ot(0|a,0,45),g=0|S(),g=-1040385&n[(d=r)+4>>2]|g,n[(_=r)>>2]=n[d>>2]|p,n[_+4>>2]=g,B=o,0|(_=0));for(n[i>>2]=n[t>>2],n[i+4>>2]=n[t+4>>2],n[i+8>>2]=n[t+8>>2],t=a;;){if(c=t,t=t+-1|0,n[l>>2]=n[i>>2],n[l+4>>2]=n[i+4>>2],n[l+8>>2]=n[i+8>>2],0|$A(c)){if(0|(a=0|lA(i))){t=13;break}n[u>>2]=n[i>>2],n[u+4>>2]=n[i+4>>2],n[u+8>>2]=n[i+8>>2],dA(u)}else{if(0|(a=0|uA(i))){t=13;break}n[u>>2]=n[i>>2],n[u+4>>2]=n[i+4>>2],n[u+8>>2]=n[i+8>>2],pA(u)}if(oA(l,u,h),nA(h),v=0|n[(a=r)>>2],a=0|n[a+4>>2],m=0|ot(7,0,0|(E=3*(15-c|0)|0)),a&=~(0|S()),E=0|ot(0|cA(h),0,0|E),a=0|S()|a,n[(_=r)>>2]=E|v&~m,n[_+4>>2]=a,(0|c)<=1){t=14;break}}A:do{if(13!=(0|t)&&14==(0|t))if((0|n[i>>2])<=1&&(0|n[i+4>>2])<=1&&(0|n[i+8>>2])<=1){h=127==(0|(a=0|W(d,t=0|cA(i))))?0:0|G(a);e:do{if(t){if(s){if(7==(0|(a=0|HA(A,e)))){a=5;break A}if((0|(c=0|n[21376+(28*a|0)+(t<<2)>>2]))>0){a=t,t=0;do{a=0|vA(a),t=t+1|0}while((0|t)!=(0|c))}else a=t;if(1==(0|a)){a=9;break A}127==(0|(t=0|W(d,a)))&&C(27648,27538,411,27678),0|G(t)?C(27693,27538,412,27678):(g=t,p=c,f=a)}else g=a,p=0,f=t;if((0|(u=0|n[4272+(28*d|0)+(f<<2)>>2]))<=-1&&C(27724,27538,419,27678),!h){if((0|p)<0){a=5;break A}if(0|p){a=0,t=0|n[(c=r)>>2],c=0|n[c+4>>2];do{t=0|YA(t,c),c=0|S(),n[(E=r)>>2]=t,n[E+4>>2]=c,a=a+1|0}while((0|a)<(0|p))}if((0|u)<=0){a=g,t=58;break}for(a=0,t=0|n[(c=r)>>2],c=0|n[c+4>>2];;)if(t=0|YA(t,c),c=0|S(),n[(E=r)>>2]=t,n[E+4>>2]=c,(0|(a=a+1|0))==(0|u)){a=g,t=58;break e}}if(7==(0|(l=0|H(g,d)))&&C(27514,27538,428,27678),t=0|n[(a=r)>>2],a=0|n[a+4>>2],(0|u)>0){c=0;do{t=0|YA(t,a),a=0|S(),n[(E=r)>>2]=t,n[E+4>>2]=a,c=c+1|0}while((0|c)!=(0|u))}if(7==(0|(a=0|HA(t,a)))&&C(27795,27538,440,27678),t=0|z(g),(0|(t=0|n[(t?21792:21584)+(28*l|0)+(a<<2)>>2]))<0&&C(27795,27538,454,27678),t){a=0,c=0|n[(l=r)>>2],l=0|n[l+4>>2];do{c=0|XA(c,l),l=0|S(),n[(E=r)>>2]=c,n[E+4>>2]=l,a=a+1|0}while((0|a)<(0|t));a=g,t=58}else a=g,t=58}else if(0!=(0|s)&0!=(0|h)){if(7==(0|(t=0|HA(A,e)))|7==(0|(c=0|HA(0|n[(c=r)>>2],0|n[c+4>>2])))){a=5;break A}if((0|(c=0|n[21376+(28*t|0)+(c<<2)>>2]))<0){a=5;break A}if(c){t=0,l=0|n[(u=r)>>2],u=0|n[u+4>>2];do{l=0|YA(l,u),u=0|S(),n[(E=r)>>2]=l,n[E+4>>2]=u,t=t+1|0}while((0|t)<(0|c));t=58}else t=59}else t=58}while(0);if(58==(0|t)&&h&&(t=59),59==(0|t)&&1==(0|HA(0|n[(E=r)>>2],0|n[E+4>>2]))){a=9;break}m=0|n[(E=r)>>2],E=-1040385&n[E+4>>2],v=0|ot(0|a,0,45),E=0|E|S(),n[(a=r)>>2]=m|v,n[a+4>>2]=E,a=0}else a=1}while(0);return B=o,0|(E=a)}function we(A,e,t,r){A|=0,e|=0;var n=0,i=0,s=0;if(0==(0|(t|=0))&0==(0|(r|=0)))return i=1,T(0|(n=0)),0|i;i=A,n=e,A=1,e=0;do{A=0|tt(0|((s=0==(1&t|0)&!0)?1:i),0|(s?0:n),0|A,0|e),e=0|S(),t=0|it(0|t,0|r,1),r=0|S(),i=0|tt(0|i,0|n,0|i,0|n),n=0|S()}while(!(0==(0|t)&0==(0|r)));return T(0|e),0|A}function ye(A,e,t,r){t|=0,r|=0;var s,o=0,a=0,c=0,l=0,u=0,f=0;s=B,B=B+16|0,a=s,c=0|st(0|(A|=0),0|(e|=0),52),S(),c&=15;do{if(c){if(!(o=0|ee(A,e,a))){u=+i[a>>3],l=1/+h(+u),f=+i[25968+(c<<3)>>3],i[t>>3]=u+f,i[t+8>>3]=u-f,u=+i[a+8>>3],l*=f,i[t+16>>3]=l+u,i[t+24>>3]=u-l;break}return B=s,0|(c=o)}if(o=0|st(0|A,0|e,45),S(),(o&=127)>>>0>121)return B=s,0|(c=5);a=22064+(o<<5)|0,n[t>>2]=n[a>>2],n[t+4>>2]=n[a+4>>2],n[t+8>>2]=n[a+8>>2],n[t+12>>2]=n[a+12>>2],n[t+16>>2]=n[a+16>>2],n[t+20>>2]=n[a+20>>2],n[t+24>>2]=n[a+24>>2],n[t+28>>2]=n[a+28>>2];break}while(0);return function(A,e){e=+e;var t,r,n,s,o,a,c,l=0,u=0;l=(s=+i[(n=16+(A|=0)|0)>>3])-(r=+i[(t=A+24|0)>>3]),l=s<r?l+6.283185307179586:l,u=+i[A>>3],l=.5*(l*e-l),u+=e=.5*((c=u-(a=+i[(o=A+8|0)>>3]))*e-c),i[A>>3]=u>1.5707963267948966?1.5707963267948966:u,e=a-e,i[o>>3]=e<-1.5707963267948966?-1.5707963267948966:e,e=(e=s+l)>3.141592653589793?e+-6.283185307179586:e,i[n>>3]=e<-3.141592653589793?e+6.283185307179586:e,e=(e=r-l)>3.141592653589793?e+-6.283185307179586:e,i[t>>3]=e<-3.141592653589793?e+6.283185307179586:e}(t,r?1.4:1.1),(0|n[(r=26096+(c<<3)|0)>>2])==(0|A)&&(0|n[r+4>>2])==(0|e)&&(i[t>>3]=1.5707963267948966),(0|n[(c=26224+(c<<3)|0)>>2])==(0|A)&&(0|n[c+4>>2])==(0|e)&&(i[t+8>>3]=-1.5707963267948966),1.5707963267948966!=+i[t>>3]&&-1.5707963267948966!=+i[t+8>>3]?(B=s,0|(c=0)):(i[t+16>>3]=3.141592653589793,i[t+24>>3]=-3.141592653589793,B=s,0|(c=0))}function Te(A,e,t,i){A|=0,e|=0,t|=0,i|=0;var s,o,a,c=0,l=0,u=0,h=0;a=B,B=B+48|0,s=a+40|0,o=a,GA(l=a+32|0,0,0,0),u=0|n[l>>2],l=0|n[l+4>>2];do{if(t>>>0<=15){if(0|(c=0|xe(i))){n[(i=o)>>2]=0,n[i+4>>2]=0,n[o+8>>2]=c,n[o+12>>2]=-1,u=o+29|0,n[(i=o+16|0)>>2]=0,n[i+4>>2]=0,n[i+8>>2]=0,r[i+12>>0]=0,r[u>>0]=0|r[s>>0],r[u+1>>0]=0|r[s+1>>0],r[u+2>>0]=0|r[s+2>>0];break}if(c=0|Ze(1+(0|n[e+8>>2])|0,32)){Me(e,c),n[(h=o)>>2]=u,n[h+4>>2]=l,n[o+8>>2]=0,n[o+12>>2]=t,n[o+16>>2]=i,n[o+20>>2]=e,n[o+24>>2]=c,r[o+28>>0]=0,r[(u=o+29|0)>>0]=0|r[s>>0],r[u+1>>0]=0|r[s+1>>0],r[u+2>>0]=0|r[s+2>>0];break}n[(i=o)>>2]=0,n[i+4>>2]=0,n[o+8>>2]=13,n[o+12>>2]=-1,u=o+29|0,n[(i=o+16|0)>>2]=0,n[i+4>>2]=0,n[i+8>>2]=0,r[i+12>>0]=0,r[u>>0]=0|r[s>>0],r[u+1>>0]=0|r[s+1>>0],r[u+2>>0]=0|r[s+2>>0];break}n[(u=o)>>2]=0,n[u+4>>2]=0,n[o+8>>2]=4,n[o+12>>2]=-1,h=o+29|0,n[(u=o+16|0)>>2]=0,n[u+4>>2]=0,n[u+8>>2]=0,r[u+12>>0]=0,r[h>>0]=0|r[s>>0],r[h+1>>0]=0|r[s+1>>0],r[h+2>>0]=0|r[s+2>>0]}while(0);Se(o),n[A>>2]=n[o>>2],n[A+4>>2]=n[o+4>>2],n[A+8>>2]=n[o+8>>2],n[A+12>>2]=n[o+12>>2],n[A+16>>2]=n[o+16>>2],n[A+20>>2]=n[o+20>>2],n[A+24>>2]=n[o+24>>2],n[A+28>>2]=n[o+28>>2],B=a}function Se(A){var e,t,i,s,o=0,a=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0,b=0,w=0;if(s=B,B=B+336|0,e=s+168|0,t=s,0==(0|(a=0|n[(c=A|=0)>>2]))&0==(0|(c=0|n[c+4>>2])))B=s;else{if(0|r[(o=A+28|0)>>0]?(a=0|Ce(a,c),c=0|S()):r[o>>0]=1,!(0|n[n[(i=A+20|0)>>2]>>2]))return 0|(a=0|n[(o=A+24|0)>>2])&&Ke(a),n[(w=A)>>2]=0,n[w+4>>2]=0,n[A+8>>2]=0,n[i>>2]=0,n[A+12>>2]=-1,n[A+16>>2]=0,n[o>>2]=0,void(B=s);l=15&(o=0|n[(w=A+16|0)>>2]);A:do{if(0==(0|a)&0==(0|c))b=A+24|0;else{v=A+12|0,_=3==(0|l),g=255&o,d=3==(1|l),m=A+24|0,p=(l+-1|0)>>>0<3,h=3==(2|l),f=t+8|0;e:for(;;){if(u=0|st(0|a,0|c,52),S(),(0|(u&=15))==(0|n[v>>2])){switch(15&g){case 0:case 2:case 3:if(0|(l=0|ee(a,c,e))){E=15;break e}if(0|ke(0|n[i>>2],0|n[m>>2],e)){E=19;break e}}if(d&&(l=0|n[4+(0|n[i>>2])>>2],n[e>>2]=n[l>>2],n[e+4>>2]=n[l+4>>2],n[e+8>>2]=n[l+8>>2],n[e+12>>2]=n[l+12>>2],0|Z(26832,e))){if(0|qA(0|n[4+(0|n[i>>2])>>2],u,t)){E=25;break}if((0|n[(l=t)>>2])==(0|a)&&(0|n[l+4>>2])==(0|c)){E=29;break}}if(p){if(0|(l=0|te(a,c,e))){E=32;break}if(0|ye(a,c,t,0)){E=36;break}if(h&&0|Be(0|n[i>>2],0|n[m>>2],e,t)){E=42;break}if(d&&0|Le(0|n[i>>2],0|n[m>>2],e,t)){E=42;break}}if(_){if(o=0|ye(a,c,e,1),l=0|n[m>>2],0|o){E=45;break}if(0|$(l,e)){if(J(t,e),0|q(e,0|n[m>>2])){E=53;break}if(0|ke(0|n[i>>2],0|n[m>>2],f)){E=53;break}if(0|Le(0|n[i>>2],0|n[m>>2],t,e)){E=53;break}}}}do{if((0|u)<(0|n[v>>2])){if(o=0|ye(a,c,e,1),l=0|n[m>>2],0|o){E=58;break e}if(!(0|$(l,e))){E=73;break}if(0|q(0|n[m>>2],e)&&(J(t,e),0|Be(0|n[i>>2],0|n[m>>2],t,e))){E=65;break e}if(0|(a=0|WA(a,c,u+1|0,t))){E=67;break e}a=0|n[(c=t)>>2],c=0|n[c+4>>2]}else E=73}while(0);if(73==(0|E)&&(E=0,a=0|Ce(a,c),c=0|S()),0==(0|a)&0==(0|c)){b=m;break A}}switch(0|E){case 15:0|(o=0|n[m>>2])&&Ke(o),n[(E=A)>>2]=0,n[E+4>>2]=0,n[i>>2]=0,n[v>>2]=-1,n[w>>2]=0,n[m>>2]=0,n[A+8>>2]=l,E=20;break;case 19:n[A>>2]=a,n[A+4>>2]=c,E=20;break;case 25:C(27795,27761,470,27772);break;case 29:case 42:return n[A>>2]=a,n[A+4>>2]=c,void(B=s);case 32:return 0|(o=0|n[m>>2])&&Ke(o),n[(b=A)>>2]=0,n[b+4>>2]=0,n[i>>2]=0,n[v>>2]=-1,n[w>>2]=0,n[m>>2]=0,n[A+8>>2]=l,void(B=s);case 36:C(27795,27761,493,27772);break;case 45:0|l&&Ke(l),n[(E=A)>>2]=0,n[E+4>>2]=0,n[i>>2]=0,n[v>>2]=-1,n[w>>2]=0,n[m>>2]=0,n[A+8>>2]=o,E=55;break;case 53:n[A>>2]=a,n[A+4>>2]=c,E=55;break;case 58:0|l&&Ke(l),n[(E=A)>>2]=0,n[E+4>>2]=0,n[i>>2]=0,n[v>>2]=-1,n[w>>2]=0,n[m>>2]=0,n[A+8>>2]=o,E=71;break;case 65:n[A>>2]=a,n[A+4>>2]=c,E=71;break;case 67:return 0|(o=0|n[m>>2])&&Ke(o),n[(b=A)>>2]=0,n[b+4>>2]=0,n[i>>2]=0,n[v>>2]=-1,n[w>>2]=0,n[m>>2]=0,n[A+8>>2]=a,void(B=s)}if(20==(0|E))return void(B=s);if(55==(0|E))return void(B=s);if(71==(0|E))return void(B=s)}}while(0);0|(o=0|n[b>>2])&&Ke(o),n[(E=A)>>2]=0,n[E+4>>2]=0,n[A+8>>2]=0,n[i>>2]=0,n[A+12>>2]=-1,n[w>>2]=0,n[b>>2]=0,B=s}}function Ce(A,e){var t,r=0,i=0,s=0,o=0,a=0,c=0,l=0,u=0,h=0;t=B,B=B+16|0,h=t,i=0|st(0|(A|=0),0|(e|=0),52),S(),i&=15,r=0|st(0|A,0|e,45),S();do{if(i){for(;r=0|ot(i+4095|0,0,52),s=0|S()|-15728641&e,r=r|A|(a=0|ot(7,0,0|(o=3*(15-i|0)|0))),s|=c=0|S(),l=0|st(0|A,0|e,0|o),S(),i=i+-1|0,!((l&=7)>>>0<6);){if(!i){u=4;break}e=s,A=r}if(4==(0|u)){r=0|st(0|r,0|s,45),S();break}return h=0|ot(((h=0==(0|l)&0!=(0|QA(r,s)))?2:1)+l|0,0,0|o),u=0|S()|e&~c,h|=A&~a,T(0|u),B=t,0|h}}while(0);return(r&=127)>>>0>120?(h=0,T(0|(u=0)),B=t,0|h):(GA(h,0,r+1|0,0),u=0|n[h+4>>2],h=0|n[h>>2],T(0|u),B=t,0|h)}function Re(A,e,t){A|=0;var r,s=0,o=0,a=0,c=0,l=0,u=0,h=0,f=0,d=0;if(!(0|Z(e|=0,t|=0)))return 0|(d=0);if(e=0|Y(e),s=+i[t>>3],o=e&(o=+i[t+8>>3])<0?o+6.283185307179586:o,(0|(d=0|n[A>>2]))<=0)return 0|(d=0);if(r=0|n[A+4>>2],e){e=0,f=o,t=-1,A=0;A:for(;;){for(h=A;c=+i[r+(h<<4)>>3],o=+i[r+(h<<4)+8>>3],a=+i[r+((A=(t+2|0)%(0|d)|0)<<4)>>3],l=+i[r+(A<<4)+8>>3],c>a?(u=c,c=l):(u=a,a=c,c=o,o=l),(s=s==a|s==u?s+2220446049250313e-31:s)<a|s>u;){if((0|(t=h+1|0))>=(0|d)){t=22;break A}A=h,h=t,t=A}if(((u=(l=c<0?c+6.283185307179586:c)+(s-a)/(u-a)*((c=o<0?o+6.283185307179586:o)-l))<0?u+6.283185307179586:u)>(f=l==f|c==f?f+-2220446049250313e-31:f)&&(e^=1),(0|(A=h+1|0))>=(0|d)){t=22;break}t=h}if(22==(0|t))return 0|e}else{e=0,f=o,t=-1,A=0;A:for(;;){for(h=A;c=+i[r+(h<<4)>>3],o=+i[r+(h<<4)+8>>3],a=+i[r+((A=(t+2|0)%(0|d)|0)<<4)>>3],l=+i[r+(A<<4)+8>>3],c>a?(u=c,c=l):(u=a,a=c,c=o,o=l),(s=s==a|s==u?s+2220446049250313e-31:s)<a|s>u;){if((0|(t=h+1|0))>=(0|d)){t=22;break A}A=h,h=t,t=A}if(c+(s-a)/(u-a)*(o-c)>(f=c==f|o==f?f+-2220446049250313e-31:f)&&(e^=1),(0|(A=h+1|0))>=(0|d)){t=22;break}t=h}if(22==(0|t))return 0|e}return 0}function Pe(A,e){e|=0;var t,r,s,o,a,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0,b=0;if(!(r=0|n[(A|=0)>>2]))return n[e>>2]=0,n[e+4>>2]=0,n[e+8>>2]=0,n[e+12>>2]=0,n[e+16>>2]=0,n[e+20>>2]=0,n[e+24>>2]=0,void(n[e+28>>2]=0);if(i[(s=e+8|0)>>3]=17976931348623157e292,i[(o=e+24|0)>>3]=17976931348623157e292,i[e>>3]=-17976931348623157e292,i[(a=e+16|0)>>3]=-17976931348623157e292,!((0|r)<=0)){for(t=0|n[A+4>>2],_=17976931348623157e292,m=-17976931348623157e292,v=0,A=-1,f=17976931348623157e292,d=17976931348623157e292,g=-17976931348623157e292,u=-17976931348623157e292,E=0;l=+i[t+(E<<4)>>3],p=+i[t+(E<<4)+8>>3],h=+i[t+(((0|(A=A+2|0))==(0|r)?0:A)<<4)+8>>3],l<f&&(i[s>>3]=l,f=l),p<d&&(i[o>>3]=p,d=p),l>g?i[e>>3]=l:l=g,p>u&&(i[a>>3]=p,u=p),_=p>0&p<_?p:_,m=p<0&p>m?p:m,v|=+c(+(p-h))>3.141592653589793,(0|(A=E+1|0))!=(0|r);)b=E,g=l,E=A,A=b;v&&(i[a>>3]=m,i[o>>3]=_)}}function xe(A){return 0|((A|=0)>>>0<4?0:15)}function Me(A,e){e|=0;var t,r=0,s=0,o=0,a=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0,b=0,w=0,y=0,T=0,S=0,C=0;if(m=0|n[(A|=0)>>2]){if(i[(v=e+8|0)>>3]=17976931348623157e292,i[(E=e+24|0)>>3]=17976931348623157e292,i[e>>3]=-17976931348623157e292,i[(b=e+16|0)>>3]=-17976931348623157e292,(0|m)>0){for(o=0|n[A+4>>2],g=17976931348623157e292,_=-17976931348623157e292,s=0,r=-1,h=17976931348623157e292,f=17976931348623157e292,p=-17976931348623157e292,l=-17976931348623157e292,w=0;a=+i[o+(w<<4)>>3],d=+i[o+(w<<4)+8>>3],u=+i[o+(((0|(S=r+2|0))==(0|m)?0:S)<<4)+8>>3],a<h&&(i[v>>3]=a,h=a),d<f&&(i[E>>3]=d,f=d),a>p?i[e>>3]=a:a=p,d>l&&(i[b>>3]=d,l=d),g=d>0&d<g?d:g,_=d<0&d>_?d:_,s|=+c(+(d-u))>3.141592653589793,(0|(r=w+1|0))!=(0|m);)S=w,p=a,w=r,r=S;s&&(i[b>>3]=_,i[E>>3]=g)}}else n[e>>2]=0,n[e+4>>2]=0,n[e+8>>2]=0,n[e+12>>2]=0,n[e+16>>2]=0,n[e+20>>2]=0,n[e+24>>2]=0,n[e+28>>2]=0;if(!((0|(r=0|n[(S=A+8|0)>>2]))<=0)){t=A+12|0,T=0;do{if(o=0|n[t>>2],s=T,E=e+((T=T+1|0)<<5)|0,b=0|n[o+(s<<3)>>2]){if(i[(w=e+(T<<5)+8|0)>>3]=17976931348623157e292,i[(A=e+(T<<5)+24|0)>>3]=17976931348623157e292,i[E>>3]=-17976931348623157e292,i[(y=e+(T<<5)+16|0)>>3]=-17976931348623157e292,(0|b)>0){for(m=0|n[o+(s<<3)+4>>2],g=17976931348623157e292,_=-17976931348623157e292,o=0,s=-1,v=0,h=17976931348623157e292,f=17976931348623157e292,d=-17976931348623157e292,l=-17976931348623157e292;a=+i[m+(v<<4)>>3],p=+i[m+(v<<4)+8>>3],u=+i[m+(((0|(s=s+2|0))==(0|b)?0:s)<<4)+8>>3],a<h&&(i[w>>3]=a,h=a),p<f&&(i[A>>3]=p,f=p),a>d?i[E>>3]=a:a=d,p>l&&(i[y>>3]=p,l=p),g=p>0&p<g?p:g,_=p<0&p>_?p:_,o|=+c(+(p-u))>3.141592653589793,(0|(s=v+1|0))!=(0|b);)C=v,v=s,d=a,s=C;o&&(i[y>>3]=_,i[A>>3]=g)}}else n[E>>2]=0,n[E+4>>2]=0,n[E+8>>2]=0,n[E+12>>2]=0,n[E+16>>2]=0,n[E+20>>2]=0,n[E+24>>2]=0,n[E+28>>2]=0,r=0|n[S>>2]}while((0|T)<(0|r))}}function ke(A,e,t){var r=0,i=0,s=0;if(!(0|Re(A|=0,e|=0,t|=0)))return 0|(i=0);if((0|n[(i=A+8|0)>>2])<=0)return 0|(i=1);for(r=A+12|0,A=0;;){if(s=A,A=A+1|0,0|Re((0|n[r>>2])+(s<<3)|0,e+(A<<5)|0,t)){A=0,r=6;break}if((0|A)>=(0|n[i>>2])){A=1,r=6;break}}return 6==(0|r)?0|A:0}function Be(A,e,t,r){r|=0;var i,s,o=0,a=0,c=0,l=0,u=0;if(s=B,B=B+16|0,i=s,!(0|Re(A|=0,e|=0,c=(t|=0)+8|0)))return B=s,0|(l=0);l=A+8|0;A:do{if((0|n[l>>2])>0){for(a=A+12|0,o=0;;){if(u=o,o=o+1|0,0|Re((0|n[a>>2])+(u<<3)|0,e+(o<<5)|0,c)){o=0;break}if((0|o)>=(0|n[l>>2]))break A}return B=s,0|o}}while(0);if(0|Ie(A,e,t,r))return B=s,0|(u=0);n[i>>2]=n[t>>2],n[i+4>>2]=c,o=0|n[l>>2];A:do{if((0|o)>0)for(A=A+12|0,c=0,a=o;;){if(o=0|n[A>>2],(0|n[o+(c<<3)>>2])>0){if(0|Re(i,r,0|n[o+(c<<3)+4>>2])){o=0;break A}if(o=c+1|0,0|Ie((0|n[A>>2])+(c<<3)|0,e+(o<<5)|0,t,r)){o=0;break A}a=0|n[l>>2]}else o=c+1|0;if(!((0|o)<(0|a))){o=1;break}c=o}else o=1}while(0);return B=s,0|(u=o)}function Ie(A,e,t,r){A|=0,t|=0;var s,o,a,c,l,u,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0,b=0,w=0,y=0,T=0,S=0,C=0;if(u=B,B=B+176|0,c=u+172|0,h=u+168|0,l=u,!(0|$(e|=0,r|=0)))return B=u,0|(A=0);if(function(A,e,t,r){var s,o,a,c,l;e|=0,t|=0,r|=0,A=(o=+i[16+(A|=0)>>3])<(l=+i[A+24>>3]),s=(c=+i[e+16>>3])<(a=+i[e+24>>3]),e=l-c<a-o,n[t>>2]=A?s|e?1:2:0,n[r>>2]=s?A?1:e?2:1:0}(e,r,c,h),ht(0|l,0|t,168),(0|n[t>>2])>0){e=0;do{w=+ce(+i[(S=l+8+(e<<4)+8|0)>>3],0|n[h>>2]),i[S>>3]=w,e=e+1|0}while((0|e)<(0|n[t>>2]))}o=+i[r>>3],a=+i[r+8>>3],w=+ce(+i[r+16>>3],0|n[h>>2]),s=+ce(+i[r+24>>3],0|n[h>>2]);A:do{if((0|n[A>>2])>0){if(r=A+4|0,(0|(h=0|n[l>>2]))<=0)for(e=0;;)if((0|(e=e+1|0))>=(0|n[A>>2])){e=0;break A}for(t=0;;){if(e=0|n[r>>2],E=+i[e+(t<<4)>>3],b=+ce(+i[e+(t<<4)+8>>3],0|n[c>>2]),e=0|n[r>>2],S=(0|(t=t+1|0))%(0|n[A>>2])|0,f=+i[e+(S<<4)>>3],d=+ce(+i[e+(S<<4)+8>>3],0|n[c>>2]),!(E>=o)|!(f>=o)&&!(E<=a)|!(f<=a)&&!(b<=s)|!(d<=s)&&!(b>=w)|!(d>=w)){v=f-E,_=d-b,e=0;do{if(C=e,S=(0|(e=e+1|0))==(0|h)?0:e,f=+i[l+8+(C<<4)+8>>3],d=+i[l+8+(S<<4)+8>>3]-f,p=+i[l+8+(C<<4)>>3],!(0==(m=v*d-_*(g=+i[l+8+(S<<4)>>3]-p))||(y=b-f,T=E-p,g=(y*g-d*T)/m,g<0|g>1))&&(m=(v*y-_*T)/m)>=0&m<=1){e=1;break A}}while((0|e)<(0|h))}if((0|t)>=(0|n[A>>2])){e=0;break}}}else e=0}while(0);return B=u,0|(C=e)}function Le(A,e,t,r){var i=0,s=0,o=0;if(0|Ie(A|=0,e|=0,t|=0,r|=0))return 0|(s=1);if((0|n[(s=A+8|0)>>2])<=0)return 0|(s=0);for(i=A+12|0,A=0;;){if(o=A,A=A+1|0,0|Ie((0|n[i>>2])+(o<<3)|0,e+(A<<5)|0,t,r)){A=1,i=6;break}if((0|A)>=(0|n[s>>2])){A=0,i=6;break}}return 6==(0|i)?0|A:0}function De(A,e,t,r,n){e|=0,t|=0,r|=0,n|=0;var s,o,a,c,l,u,h,f=0;c=+i[(A|=0)>>3],a=+i[e>>3]-c,o=+i[A+8>>3],s=+i[e+8>>3]-o,u=+i[t>>3],f=((f=+i[r>>3]-u)*(o-(h=+i[t+8>>3]))-(c-u)*(l=+i[r+8>>3]-h))/(a*l-s*f),i[n>>3]=c+a*f,i[n+8>>3]=o+s*f}function Oe(A,e){return e|=0,+c(+(+i[(A|=0)>>3]-+i[e>>3]))<1.1920928955078125e-7?0|(e=+c(+(+i[A+8>>3]-+i[e+8>>3]))<1.1920928955078125e-7):0|(e=0)}function Fe(A,e){e|=0;var t,r,n;return+((n=+i[(A|=0)>>3]-+i[e>>3])*n+(r=+i[A+8>>3]-+i[e+8>>3])*r+(t=+i[A+16>>3]-+i[e+16>>3])*t)}function Ne(A,e,t){t|=0;var r,i,s,o,a=0,c=0,l=0;if(o=B,B=B+32|0,l=o,0|(a=0|Ae(A|=0,e|=0,i=o+16|0)))return B=o,0|(t=a);r=0|NA(A,e),s=0|HA(A,e),function(A,e){A=7696+(28*(A|=0)|0)|0,n[(e|=0)>>2]=n[A>>2],n[e+4>>2]=n[A+4>>2],n[e+8>>2]=n[A+8>>2],n[e+12>>2]=n[A+12>>2]}(r,l),a=0|function(A,e){A|=0;var t=0,r=0;if((e|=0)>>>0>20)return-1;do{if((0|n[11120+(216*e|0)>>2])!=(0|A))if((0|n[11120+(216*e|0)+8>>2])!=(0|A))if((0|n[11120+(216*e|0)+16>>2])!=(0|A))if((0|n[11120+(216*e|0)+24>>2])!=(0|A))if((0|n[11120+(216*e|0)+32>>2])!=(0|A))if((0|n[11120+(216*e|0)+40>>2])!=(0|A))if((0|n[11120+(216*e|0)+48>>2])!=(0|A))if((0|n[11120+(216*e|0)+56>>2])!=(0|A))if((0|n[11120+(216*e|0)+64>>2])!=(0|A))if((0|n[11120+(216*e|0)+72>>2])!=(0|A))if((0|n[11120+(216*e|0)+80>>2])!=(0|A))if((0|n[11120+(216*e|0)+88>>2])!=(0|A))if((0|n[11120+(216*e|0)+96>>2])!=(0|A))if((0|n[11120+(216*e|0)+104>>2])!=(0|A))if((0|n[11120+(216*e|0)+112>>2])!=(0|A))if((0|n[11120+(216*e|0)+120>>2])!=(0|A))if((0|n[11120+(216*e|0)+128>>2])!=(0|A)){if((0|n[11120+(216*e|0)+136>>2])!=(0|A)){if((0|n[11120+(216*e|0)+144>>2])==(0|A)){A=0,t=2,r=0;break}if((0|n[11120+(216*e|0)+152>>2])==(0|A)){A=0,t=2,r=1;break}if((0|n[11120+(216*e|0)+160>>2])==(0|A)){A=0,t=2,r=2;break}if((0|n[11120+(216*e|0)+168>>2])==(0|A)){A=1,t=2,r=0;break}if((0|n[11120+(216*e|0)+176>>2])==(0|A)){A=1,t=2,r=1;break}if((0|n[11120+(216*e|0)+184>>2])==(0|A)){A=1,t=2,r=2;break}if((0|n[11120+(216*e|0)+192>>2])==(0|A)){A=2,t=2,r=0;break}if((0|n[11120+(216*e|0)+200>>2])==(0|A)){A=2,t=2,r=1;break}if((0|n[11120+(216*e|0)+208>>2])==(0|A)){A=2,t=2,r=2;break}return-1}A=2,t=1,r=2}else A=2,t=1,r=1;else A=2,t=1,r=0;else A=1,t=1,r=2;else A=1,t=1,r=1;else A=1,t=1,r=0;else A=0,t=1,r=2;else A=0,t=1,r=1;else A=0,t=1,r=0;else A=2,t=0,r=2;else A=2,t=0,r=1;else A=2,t=0,r=0;else A=1,t=0,r=2;else A=1,t=0,r=1;else A=1,t=0,r=0;else A=0,t=0,r=2;else A=0,t=0,r=1;else A=0,t=0,r=0}while(0);return 0|n[11120+(216*e|0)+(72*t|0)+(24*A|0)+(r<<3)+4>>2]}(r,0|n[i>>2]);A:do{if(0|G(r)){switch(0|r){case 4:A=0;break;case 14:A=1;break;case 24:A=2;break;case 38:A=3;break;case 49:A=4;break;case 58:A=5;break;case 63:A=6;break;case 72:A=7;break;case 83:A=8;break;case 97:A=9;break;case 107:A=10;break;case 117:A=11;break;default:a=1;break A}if(c=0|n[26416+(24*A|0)+8>>2],e=0|n[26416+(24*A|0)+16>>2],(0|(A=0|n[i>>2]))!=(0|n[l>>2])&&(l=0|z(r))|(0|(A=0|n[i>>2]))==(0|e)&&(a=(a+1|0)%6|0),3==(0|s)&(0|A)==(0|e)){a=(a+5|0)%6|0,c=22;break}5==(0|s)&(0|A)==(0|c)?(a=(a+1|0)%6|0,c=22):c=22}else c=22}while(0);return 22==(0|c)&&(n[t>>2]=a,a=0),B=o,0|(t=a)}function Ue(A,e,t,r){t|=0,r|=0;var i,s,o,a,c,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0;if(c=B,B=B+32|0,E=c+24|0,a=c+20|0,o=c+8|0,s=c+16|0,i=c,d=(d=0==(0|QA(A|=0,e|=0)))?6:5,g=0|st(0|A,0|e,52),S(),d>>>0<=t>>>0)return B=c,0|(r=2);!(_=0==(0|(g&=15)))&&0==((m=0|ot(7,0,3*(15^g)|0))&A|0)&0==((0|S())&e|0)?l=t:u=4;A:do{if(4==(0|u)){if((0|((l=0!=(0|QA(A,e)))?4:5))<(0|t))return B=c,0|(r=1);if(0|Ne(A,e,E))return B=c,0|(r=1);if(u=(0|n[E>>2])+t|0,7==(0|(m=0|n[(l=l?26704+(((0|u)%5|0)<<2)|0:26736+(((0|u)%6|0)<<2)|0)>>2])))return B=c,0|(r=1);n[a>>2]=0,l=0|F(A,e,m,a,o);do{if(!l){if(p=0|n[(f=o)>>2],u=(h=(f=0|n[f+4>>2])>>>0<e>>>0|(0|f)==(0|e)&p>>>0<A>>>0)?p:A,h=h?f:e,!_&&0==(p&(_=0|ot(7,0,3*(15^g)|0))|0)&0==(f&(0|S())|0))l=t;else{if(f=(t+-1+d|0)%(0|d)|0,l=0|QA(A,e),(0|f)<0&&C(27795,27797,246,27806),(0|((d=0!=(0|l))?4:5))<(0|f)&&C(27795,27797,246,27806),0|Ne(A,e,E)&&C(27795,27797,246,27806),l=(0|n[E>>2])+f|0,7==(0|(f=0|n[(l=d?26704+(((0|l)%5|0)<<2)|0:26736+(((0|l)%6|0)<<2)|0)>>2]))&&C(27795,27797,246,27806),n[s>>2]=0,0|(l=0|F(A,e,f,s,i)))break;d=0|n[(p=i)>>2],p=0|n[p+4>>2];do{if(p>>>0<h>>>0|(0|p)==(0|h)&d>>>0<u>>>0){if(u=0|QA(d,p)?0|N(d,p,A,e):0|n[26800+((((0|n[s>>2])+(0|n[26768+(f<<2)>>2])|0)%6|0)<<2)>>2],l=0|QA(d,p),(u+-1|0)>>>0>5){l=-1,u=d,h=p;break}if(1==(0|u)&(l=0!=(0|l))){l=-1,u=d,h=p;break}do{if(!(0|Ne(d,p,E))){if(l){l=(5+(0|n[26352+(u<<2)>>2])-(0|n[E>>2])|0)%5|0;break}l=(6+(0|n[26384+(u<<2)>>2])-(0|n[E>>2])|0)%6|0;break}l=-1}while(0);u=d,h=p}else l=t}while(0);p=0|n[(f=o)>>2],f=0|n[f+4>>2]}if((0|u)==(0|p)&(0|h)==(0|f)){if(A=(d=0!=(0|QA(p,f)))?0|N(p,f,A,e):0|n[26800+((((0|n[a>>2])+(0|n[26768+(m<<2)>>2])|0)%6|0)<<2)>>2],l=0|QA(p,f),(A+-1|0)>>>0<=5&&!(1==(0|A)&(v=0!=(0|l))))do{if(!(0|Ne(p,f,E))){if(v){l=(5+(0|n[26352+(A<<2)>>2])-(0|n[E>>2])|0)%5|0;break}l=(6+(0|n[26384+(A<<2)>>2])-(0|n[E>>2])|0)%6|0;break}l=-1}while(0);else l=-1;l=6==(0|(l=l+1|0))|d&5==(0|l)?0:l}e=h,A=u;break A}}while(0);return B=c,0|(r=l)}}while(0);return v=0|ot(0|l,0,56),E=0|S()|-2130706433&e|536870912,n[r>>2]=v|A,n[r+4>>2]=E,B=c,0|(r=0)}function Ge(A,e,t){A|=0,t|=0;var r=0;(0|(e|=0))>0?(r=0|Ze(e,4),n[A>>2]=r,r||C(27819,27842,40,27856)):n[A>>2]=0,n[A+4>>2]=e,n[A+8>>2]=0,n[A+12>>2]=t}function ze(A){var e,t,r,s=0,o=0,a=0,l=0;e=(A|=0)+4|0,t=A+12|0,r=A+8|0;A:for(;;){for(o=0|n[e>>2],s=0;;){if((0|s)>=(0|o))break A;if(a=0|n[A>>2],l=0|n[a+(s<<2)>>2])break;s=s+1|0}s=a+(~~(+c(+ +u(10,+ +(15-(0|n[t>>2])|0))*(+i[l>>3]+ +i[l+8>>3]))%+(0|o))>>>0<<2)|0,o=0|n[s>>2];e:do{if(0|o){if(a=l+32|0,(0|o)==(0|l))n[s>>2]=n[a>>2];else{if(!(s=0|n[(o=o+32|0)>>2]))break;for(;(0|s)!=(0|l);)if(!(s=0|n[(o=s+32|0)>>2]))break e;n[o>>2]=n[a>>2]}Ke(l),n[r>>2]=(0|n[r>>2])-1}}while(0)}Ke(0|n[A>>2])}function Ve(A){var e,t=0,r=0;for(e=0|n[(A|=0)+4>>2],r=0;;){if((0|r)>=(0|e)){t=0,r=4;break}if(t=0|n[(0|n[A>>2])+(r<<2)>>2]){r=4;break}r=r+1|0}return 4==(0|r)?0|t:0}function Qe(A,e){e|=0;var t=0,r=0,s=0,o=0;if(t=~~(+c(+ +u(10,+ +(15-(0|n[(A|=0)+12>>2])|0))*(+i[e>>3]+ +i[e+8>>3]))%+(0|n[A+4>>2]))>>>0,t=(0|n[A>>2])+(t<<2)|0,!(r=0|n[t>>2]))return 0|(o=1);o=e+32|0;do{if((0|r)!=(0|e)){if(!(t=0|n[r+32>>2]))return 0|(o=1);for(s=t;;){if((0|s)==(0|e)){s=8;break}if(!(t=0|n[s+32>>2])){t=1,s=10;break}r=s,s=t}if(8==(0|s)){n[r+32>>2]=n[o>>2];break}if(10==(0|s))return 0|t}else n[t>>2]=n[o>>2]}while(0);return Ke(e),n[(o=A+8|0)>>2]=(0|n[o>>2])-1,0|(o=0)}function je(A,e,t){A|=0,e|=0,t|=0;var r,s=0,o=0,a=0;(r=0|Ye(40))||C(27872,27842,98,27885),n[r>>2]=n[e>>2],n[r+4>>2]=n[e+4>>2],n[r+8>>2]=n[e+8>>2],n[r+12>>2]=n[e+12>>2],n[(o=r+16|0)>>2]=n[t>>2],n[o+4>>2]=n[t+4>>2],n[o+8>>2]=n[t+8>>2],n[o+12>>2]=n[t+12>>2],n[r+32>>2]=0,o=~~(+c(+ +u(10,+ +(15-(0|n[A+12>>2])|0))*(+i[e>>3]+ +i[e+8>>3]))%+(0|n[A+4>>2]))>>>0,o=(0|n[A>>2])+(o<<2)|0,s=0|n[o>>2];do{if(s){for(;!(0|ae(s,e)&&0|ae(s+16|0,t));)if(o=0|n[s+32>>2],!(0|n[(s=0==(0|o)?s:o)+32>>2])){a=10;break}if(10==(0|a)){n[s+32>>2]=r;break}return Ke(r),0|(a=s)}n[o>>2]=r}while(0);return n[(a=A+8|0)>>2]=1+(0|n[a>>2]),0|(a=r)}function We(A,e,t){e|=0,t|=0;var r=0,s=0;if(s=~~(+c(+ +u(10,+ +(15-(0|n[(A|=0)+12>>2])|0))*(+i[e>>3]+ +i[e+8>>3]))%+(0|n[A+4>>2]))>>>0,!(s=0|n[(0|n[A>>2])+(s<<2)>>2]))return 0|(t=0);if(!t){for(A=s;;){if(0|ae(A,e)){r=10;break}if(!(A=0|n[A+32>>2])){A=0,r=10;break}}if(10==(0|r))return 0|A}for(A=s;;){if(0|ae(A,e)&&0|ae(A+16|0,t)){r=10;break}if(!(A=0|n[A+32>>2])){A=0,r=10;break}}return 10==(0|r)?0|A:0}function He(A,e){e|=0;var t=0;if(t=~~(+c(+ +u(10,+ +(15-(0|n[(A|=0)+12>>2])|0))*(+i[e>>3]+ +i[e+8>>3]))%+(0|n[A+4>>2]))>>>0,!(A=0|n[(0|n[A>>2])+(t<<2)>>2]))return 0|(t=0);for(;;){if(0|ae(A,e)){e=5;break}if(!(A=0|n[A+32>>2])){A=0,e=5;break}}return 5==(0|e)?0|A:0}function Xe(A){return 0|~~+dt(+(A=+A))}function Ye(A){A|=0;var e,t=0,r=0,i=0,s=0,o=0,a=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0,b=0,w=0;e=B,B=B+16|0,d=e;do{if(A>>>0<245){if(A=(u=A>>>0<11?16:A+11&-8)>>>3,3&(r=(f=0|n[6977])>>>A)|0)return i=0|n[(r=(A=27948+((t=(1&r^1)+A|0)<<1<<2)|0)+8|0)>>2],(0|(o=0|n[(s=i+8|0)>>2]))==(0|A)?n[6977]=f&~(1<<t):(n[o+12>>2]=A,n[r>>2]=o),w=t<<3,n[i+4>>2]=3|w,n[(w=i+w+4|0)>>2]=1|n[w>>2],B=e,0|(w=s);if(u>>>0>(h=0|n[6979])>>>0){if(0|r)return t=((t=r<<A&((t=2<<A)|0-t))&0-t)-1|0,o=0|n[(A=(t=27948+((i=((r=(t>>>=c=t>>>12&16)>>>5&8)|c|(o=(t>>>=r)>>>2&4)|(A=(t>>>=o)>>>1&2)|(i=(t>>>=A)>>>1&1))+(t>>>i)|0)<<1<<2)|0)+8|0)>>2],(0|(r=0|n[(c=o+8|0)>>2]))==(0|t)?(A=f&~(1<<i),n[6977]=A):(n[r+12>>2]=t,n[A>>2]=r,A=f),a=(w=i<<3)-u|0,n[o+4>>2]=3|u,n[(s=o+u|0)+4>>2]=1|a,n[o+w>>2]=a,0|h&&(i=0|n[6982],r=27948+((t=h>>>3)<<1<<2)|0,A&(t=1<<t)?t=0|n[(A=r+8|0)>>2]:(n[6977]=A|t,t=r,A=r+8|0),n[A>>2]=i,n[t+12>>2]=i,n[i+8>>2]=t,n[i+12>>2]=r),n[6979]=a,n[6982]=s,B=e,0|(w=c);if(o=0|n[6978]){for(r=(o&0-o)-1|0,r=l=0|n[28212+(((i=(r>>>=s=r>>>12&16)>>>5&8)|s|(a=(r>>>=i)>>>2&4)|(c=(r>>>=a)>>>1&2)|(l=(r>>>=c)>>>1&1))+(r>>>l)<<2)>>2],c=l,l=(-8&n[l+4>>2])-u|0;(A=0|n[r+16>>2])||(A=0|n[r+20>>2]);)r=A,c=(s=(a=(-8&n[A+4>>2])-u|0)>>>0<l>>>0)?A:c,l=s?a:l;if((a=c+u|0)>>>0>c>>>0){s=0|n[c+24>>2],t=0|n[c+12>>2];do{if((0|t)==(0|c)){if(!(t=0|n[(A=c+20|0)>>2])&&!(t=0|n[(A=c+16|0)>>2])){r=0;break}for(;;)if(r=0|n[(i=t+20|0)>>2])t=r,A=i;else{if(!(r=0|n[(i=t+16|0)>>2]))break;t=r,A=i}n[A>>2]=0,r=t}else r=0|n[c+8>>2],n[r+12>>2]=t,n[t+8>>2]=r,r=t}while(0);do{if(0|s){if(t=0|n[c+28>>2],(0|c)==(0|n[(A=28212+(t<<2)|0)>>2])){if(n[A>>2]=r,!r){n[6978]=o&~(1<<t);break}}else if(n[((0|n[(w=s+16|0)>>2])==(0|c)?w:s+20|0)>>2]=r,!r)break;n[r+24>>2]=s,0|(t=0|n[c+16>>2])&&(n[r+16>>2]=t,n[t+24>>2]=r),0|(t=0|n[c+20>>2])&&(n[r+20>>2]=t,n[t+24>>2]=r)}}while(0);return l>>>0<16?(w=l+u|0,n[c+4>>2]=3|w,n[(w=c+w+4|0)>>2]=1|n[w>>2]):(n[c+4>>2]=3|u,n[a+4>>2]=1|l,n[a+l>>2]=l,0|h&&(i=0|n[6982],r=27948+((t=h>>>3)<<1<<2)|0,(t=1<<t)&f?t=0|n[(A=r+8|0)>>2]:(n[6977]=t|f,t=r,A=r+8|0),n[A>>2]=i,n[t+12>>2]=i,n[i+8>>2]=t,n[i+12>>2]=r),n[6979]=l,n[6982]=a),B=e,0|(w=c+8|0)}f=u}else f=u}else f=u}else if(A>>>0<=4294967231)if(u=-8&(A=A+11|0),i=0|n[6978]){s=0-u|0,l=(A>>>=8)?u>>>0>16777215?31:u>>>((l=14-((c=((_=A<<(f=(A+1048320|0)>>>16&8))+520192|0)>>>16&4)|f|(l=((_<<=c)+245760|0)>>>16&2))+(_<<l>>>15)|0)+7|0)&1|l<<1:0,r=0|n[28212+(l<<2)>>2];A:do{if(r)for(A=0,c=u<<(31==(0|l)?0:25-(l>>>1)|0),o=0;;){if((a=(-8&n[r+4>>2])-u|0)>>>0<s>>>0){if(!a){A=r,s=0,_=65;break A}A=r,s=a}if(o=0==(0|(_=0|n[r+20>>2]))|(0|_)==(0|(r=0|n[r+16+(c>>>31<<2)>>2]))?o:_,!r){r=o,_=61;break}c<<=1}else r=0,A=0,_=61}while(0);if(61==(0|_)){if(0==(0|r)&0==(0|A)){if(!(A=((A=2<<l)|0-A)&i)){f=u;break}f=(A&0-A)-1|0,A=0,r=0|n[28212+(((o=(f>>>=a=f>>>12&16)>>>5&8)|a|(c=(f>>>=o)>>>2&4)|(l=(f>>>=c)>>>1&2)|(r=(f>>>=l)>>>1&1))+(f>>>r)<<2)>>2]}r?_=65:(c=A,a=s)}if(65==(0|_))for(o=r;;){if(s=(r=(f=(-8&n[o+4>>2])-u|0)>>>0<s>>>0)?f:s,A=r?o:A,(r=0|n[o+16>>2])||(r=0|n[o+20>>2]),!r){c=A,a=s;break}o=r}if(0!=(0|c)&&a>>>0<((0|n[6979])-u|0)>>>0&&(h=c+u|0)>>>0>c>>>0){o=0|n[c+24>>2],t=0|n[c+12>>2];do{if((0|t)==(0|c)){if(!(t=0|n[(A=c+20|0)>>2])&&!(t=0|n[(A=c+16|0)>>2])){t=0;break}for(;;)if(r=0|n[(s=t+20|0)>>2])t=r,A=s;else{if(!(r=0|n[(s=t+16|0)>>2]))break;t=r,A=s}n[A>>2]=0}else w=0|n[c+8>>2],n[w+12>>2]=t,n[t+8>>2]=w}while(0);do{if(o){if(A=0|n[c+28>>2],(0|c)==(0|n[(r=28212+(A<<2)|0)>>2])){if(n[r>>2]=t,!t){i&=~(1<<A),n[6978]=i;break}}else if(n[((0|n[(w=o+16|0)>>2])==(0|c)?w:o+20|0)>>2]=t,!t)break;n[t+24>>2]=o,0|(A=0|n[c+16>>2])&&(n[t+16>>2]=A,n[A+24>>2]=t),(A=0|n[c+20>>2])&&(n[t+20>>2]=A,n[A+24>>2]=t)}}while(0);A:do{if(a>>>0<16)w=a+u|0,n[c+4>>2]=3|w,n[(w=c+w+4|0)>>2]=1|n[w>>2];else{if(n[c+4>>2]=3|u,n[h+4>>2]=1|a,n[h+a>>2]=a,t=a>>>3,a>>>0<256){r=27948+(t<<1<<2)|0,(A=0|n[6977])&(t=1<<t)?t=0|n[(A=r+8|0)>>2]:(n[6977]=A|t,t=r,A=r+8|0),n[A>>2]=h,n[t+12>>2]=h,n[h+8>>2]=t,n[h+12>>2]=r;break}if(t=28212+((r=(t=a>>>8)?a>>>0>16777215?31:a>>>((r=14-((E=((w=t<<(b=(t+1048320|0)>>>16&8))+520192|0)>>>16&4)|b|(r=((w<<=E)+245760|0)>>>16&2))+(w<<r>>>15)|0)+7|0)&1|r<<1:0)<<2)|0,n[h+28>>2]=r,n[(A=h+16|0)+4>>2]=0,n[A>>2]=0,!(i&(A=1<<r))){n[6978]=i|A,n[t>>2]=h,n[h+24>>2]=t,n[h+12>>2]=h,n[h+8>>2]=h;break}t=0|n[t>>2];e:do{if((-8&n[t+4>>2]|0)!=(0|a)){for(i=a<<(31==(0|r)?0:25-(r>>>1)|0);A=0|n[(r=t+16+(i>>>31<<2)|0)>>2];){if((-8&n[A+4>>2]|0)==(0|a)){t=A;break e}i<<=1,t=A}n[r>>2]=h,n[h+24>>2]=t,n[h+12>>2]=h,n[h+8>>2]=h;break A}}while(0);w=0|n[(b=t+8|0)>>2],n[w+12>>2]=h,n[b>>2]=h,n[h+8>>2]=w,n[h+12>>2]=t,n[h+24>>2]=0}}while(0);return B=e,0|(w=c+8|0)}f=u}else f=u;else f=-1}while(0);if((r=0|n[6979])>>>0>=f>>>0)return t=r-f|0,A=0|n[6982],t>>>0>15?(w=A+f|0,n[6982]=w,n[6979]=t,n[w+4>>2]=1|t,n[A+r>>2]=t,n[A+4>>2]=3|f):(n[6979]=0,n[6982]=0,n[A+4>>2]=3|r,n[(w=A+r+4|0)>>2]=1|n[w>>2]),B=e,0|(w=A+8|0);if((a=0|n[6980])>>>0>f>>>0)return E=a-f|0,n[6980]=E,b=(w=0|n[6983])+f|0,n[6983]=b,n[b+4>>2]=1|E,n[w+4>>2]=3|f,B=e,0|(w=w+8|0);if(0|n[7095]?A=0|n[7097]:(n[7097]=4096,n[7096]=4096,n[7098]=-1,n[7099]=-1,n[7100]=0,n[7088]=0,n[7095]=-16&d^1431655768,A=4096),c=f+48|0,(u=(o=A+(l=f+47|0)|0)&(s=0-A|0))>>>0<=f>>>0)return B=e,0|(w=0);if(0|(A=0|n[7087])&&(d=(h=0|n[7085])+u|0)>>>0<=h>>>0|d>>>0>A>>>0)return B=e,0|(w=0);A:do{if(4&n[7088])t=0,_=143;else{r=0|n[6983];e:do{if(r){for(i=28356;!((d=0|n[i>>2])>>>0<=r>>>0&&(d+(0|n[i+4>>2])|0)>>>0>r>>>0);){if(!(A=0|n[i+8>>2])){_=128;break e}i=A}if((t=o-a&s)>>>0<2147483647)if((0|(A=0|pt(0|t)))==((0|n[i>>2])+(0|n[i+4>>2])|0)){if(-1!=(0|A)){a=t,o=A,_=145;break A}}else i=A,_=136;else t=0}else _=128}while(0);do{if(128==(0|_))if(-1!=(0|(r=0|pt(0)))&&(t=r,g=(t=(0==((g=(p=0|n[7096])+-1|0)&t|0)?0:(g+t&0-p)-t|0)+u|0)+(p=0|n[7085])|0,t>>>0>f>>>0&t>>>0<2147483647)){if(0|(d=0|n[7087])&&g>>>0<=p>>>0|g>>>0>d>>>0){t=0;break}if((0|(A=0|pt(0|t)))==(0|r)){a=t,o=r,_=145;break A}i=A,_=136}else t=0}while(0);do{if(136==(0|_)){if(r=0-t|0,!(c>>>0>t>>>0&t>>>0<2147483647&-1!=(0|i))){if(-1==(0|i)){t=0;break}a=t,o=i,_=145;break A}if((A=l-t+(A=0|n[7097])&0-A)>>>0>=2147483647){a=t,o=i,_=145;break A}if(-1==(0|pt(0|A))){pt(0|r),t=0;break}a=A+t|0,o=i,_=145;break A}}while(0);n[7088]=4|n[7088],_=143}}while(0);if(143==(0|_)&&u>>>0<2147483647&&!(-1==(0|(E=0|pt(0|u)))|1^(v=(m=(g=0|pt(0))-E|0)>>>0>(f+40|0)>>>0)|E>>>0<g>>>0&-1!=(0|E)&-1!=(0|g)^1)&&(a=v?m:t,o=E,_=145),145==(0|_)){t=(0|n[7085])+a|0,n[7085]=t,t>>>0>(0|n[7086])>>>0&&(n[7086]=t),l=0|n[6983];A:do{if(l){for(t=28356;;){if((0|o)==((A=0|n[t>>2])+(r=0|n[t+4>>2])|0)){_=154;break}if(!(i=0|n[t+8>>2]))break;t=i}if(154==(0|_)&&(b=t+4|0,0==(8&n[t+12>>2]|0))&&o>>>0>l>>>0&A>>>0<=l>>>0){n[b>>2]=r+a,b=l+(E=0==(7&(E=l+8|0)|0)?0:0-E&7)|0,E=(w=(0|n[6980])+a|0)-E|0,n[6983]=b,n[6980]=E,n[b+4>>2]=1|E,n[l+w+4>>2]=40,n[6984]=n[7099];break}for(o>>>0<(0|n[6981])>>>0&&(n[6981]=o),r=o+a|0,t=28356;;){if((0|n[t>>2])==(0|r)){_=162;break}if(!(A=0|n[t+8>>2]))break;t=A}if(162==(0|_)&&0==(8&n[t+12>>2]|0)){n[t>>2]=o,n[(h=t+4|0)>>2]=(0|n[h>>2])+a,u=(h=o+(0==(7&(h=o+8|0)|0)?0:0-h&7)|0)+f|0,c=(t=r+(0==(7&(t=r+8|0)|0)?0:0-t&7)|0)-h-f|0,n[h+4>>2]=3|f;e:do{if((0|l)==(0|t))w=(0|n[6980])+c|0,n[6980]=w,n[6983]=u,n[u+4>>2]=1|w;else{if((0|n[6982])==(0|t)){w=(0|n[6979])+c|0,n[6979]=w,n[6982]=u,n[u+4>>2]=1|w,n[u+w>>2]=w;break}if(1==(3&(A=0|n[t+4>>2])|0)){a=-8&A,i=A>>>3;t:do{if(A>>>0<256){if(A=0|n[t+8>>2],(0|(r=0|n[t+12>>2]))==(0|A)){n[6977]=n[6977]&~(1<<i);break}n[A+12>>2]=r,n[r+8>>2]=A;break}o=0|n[t+24>>2],A=0|n[t+12>>2];do{if((0|A)==(0|t)){if(A=0|n[(i=(r=t+16|0)+4|0)>>2])r=i;else if(!(A=0|n[r>>2])){A=0;break}for(;;)if(i=0|n[(s=A+20|0)>>2])A=i,r=s;else{if(!(i=0|n[(s=A+16|0)>>2]))break;A=i,r=s}n[r>>2]=0}else w=0|n[t+8>>2],n[w+12>>2]=A,n[A+8>>2]=w}while(0);if(!o)break;i=28212+((r=0|n[t+28>>2])<<2)|0;do{if((0|n[i>>2])==(0|t)){if(n[i>>2]=A,0|A)break;n[6978]=n[6978]&~(1<<r);break t}if(n[((0|n[(w=o+16|0)>>2])==(0|t)?w:o+20|0)>>2]=A,!A)break t}while(0);if(n[A+24>>2]=o,0|(i=0|n[(r=t+16|0)>>2])&&(n[A+16>>2]=i,n[i+24>>2]=A),!(r=0|n[r+4>>2]))break;n[A+20>>2]=r,n[r+24>>2]=A}while(0);t=t+a|0,s=a+c|0}else s=c;if(n[(t=t+4|0)>>2]=-2&n[t>>2],n[u+4>>2]=1|s,n[u+s>>2]=s,t=s>>>3,s>>>0<256){r=27948+(t<<1<<2)|0,(A=0|n[6977])&(t=1<<t)?t=0|n[(A=r+8|0)>>2]:(n[6977]=A|t,t=r,A=r+8|0),n[A>>2]=u,n[t+12>>2]=u,n[u+8>>2]=t,n[u+12>>2]=r;break}t=s>>>8;do{if(t){if(s>>>0>16777215){i=31;break}i=s>>>((i=14-((E=((w=t<<(b=(t+1048320|0)>>>16&8))+520192|0)>>>16&4)|b|(i=((w<<=E)+245760|0)>>>16&2))+(w<<i>>>15)|0)+7|0)&1|i<<1}else i=0}while(0);if(t=28212+(i<<2)|0,n[u+28>>2]=i,n[(A=u+16|0)+4>>2]=0,n[A>>2]=0,!((A=0|n[6978])&(r=1<<i))){n[6978]=A|r,n[t>>2]=u,n[u+24>>2]=t,n[u+12>>2]=u,n[u+8>>2]=u;break}t=0|n[t>>2];t:do{if((-8&n[t+4>>2]|0)!=(0|s)){for(i=s<<(31==(0|i)?0:25-(i>>>1)|0);A=0|n[(r=t+16+(i>>>31<<2)|0)>>2];){if((-8&n[A+4>>2]|0)==(0|s)){t=A;break t}i<<=1,t=A}n[r>>2]=u,n[u+24>>2]=t,n[u+12>>2]=u,n[u+8>>2]=u;break e}}while(0);w=0|n[(b=t+8|0)>>2],n[w+12>>2]=u,n[b>>2]=u,n[u+8>>2]=w,n[u+12>>2]=t,n[u+24>>2]=0}}while(0);return B=e,0|(w=h+8|0)}for(t=28356;!((A=0|n[t>>2])>>>0<=l>>>0&&(w=A+(0|n[t+4>>2])|0)>>>0>l>>>0);)t=0|n[t+8>>2];t=(A=(A=(s=w+-47|0)+(0==(7&(A=s+8|0)|0)?0:0-A&7)|0)>>>0<(s=l+16|0)>>>0?l:A)+8|0,b=o+(E=0==(7&(E=o+8|0)|0)?0:0-E&7)|0,E=(r=a+-40|0)-E|0,n[6983]=b,n[6980]=E,n[b+4>>2]=1|E,n[o+r+4>>2]=40,n[6984]=n[7099],n[(r=A+4|0)>>2]=27,n[t>>2]=n[7089],n[t+4>>2]=n[7090],n[t+8>>2]=n[7091],n[t+12>>2]=n[7092],n[7089]=o,n[7090]=a,n[7092]=0,n[7091]=t,t=A+24|0;do{b=t,n[(t=t+4|0)>>2]=7}while((b+8|0)>>>0<w>>>0);if((0|A)!=(0|l)){if(o=A-l|0,n[r>>2]=-2&n[r>>2],n[l+4>>2]=1|o,n[A>>2]=o,t=o>>>3,o>>>0<256){r=27948+(t<<1<<2)|0,(A=0|n[6977])&(t=1<<t)?t=0|n[(A=r+8|0)>>2]:(n[6977]=A|t,t=r,A=r+8|0),n[A>>2]=l,n[t+12>>2]=l,n[l+8>>2]=t,n[l+12>>2]=r;break}if(r=28212+((i=(t=o>>>8)?o>>>0>16777215?31:o>>>((i=14-((E=((w=t<<(b=(t+1048320|0)>>>16&8))+520192|0)>>>16&4)|b|(i=((w<<=E)+245760|0)>>>16&2))+(w<<i>>>15)|0)+7|0)&1|i<<1:0)<<2)|0,n[l+28>>2]=i,n[l+20>>2]=0,n[s>>2]=0,!((t=0|n[6978])&(A=1<<i))){n[6978]=t|A,n[r>>2]=l,n[l+24>>2]=r,n[l+12>>2]=l,n[l+8>>2]=l;break}t=0|n[r>>2];e:do{if((-8&n[t+4>>2]|0)!=(0|o)){for(i=o<<(31==(0|i)?0:25-(i>>>1)|0);A=0|n[(r=t+16+(i>>>31<<2)|0)>>2];){if((-8&n[A+4>>2]|0)==(0|o)){t=A;break e}i<<=1,t=A}n[r>>2]=l,n[l+24>>2]=t,n[l+12>>2]=l,n[l+8>>2]=l;break A}}while(0);w=0|n[(b=t+8|0)>>2],n[w+12>>2]=l,n[b>>2]=l,n[l+8>>2]=w,n[l+12>>2]=t,n[l+24>>2]=0}}else 0==(0|(w=0|n[6981]))|o>>>0<w>>>0&&(n[6981]=o),n[7089]=o,n[7090]=a,n[7092]=0,n[6986]=n[7095],n[6985]=-1,n[6990]=27948,n[6989]=27948,n[6992]=27956,n[6991]=27956,n[6994]=27964,n[6993]=27964,n[6996]=27972,n[6995]=27972,n[6998]=27980,n[6997]=27980,n[7e3]=27988,n[6999]=27988,n[7002]=27996,n[7001]=27996,n[7004]=28004,n[7003]=28004,n[7006]=28012,n[7005]=28012,n[7008]=28020,n[7007]=28020,n[7010]=28028,n[7009]=28028,n[7012]=28036,n[7011]=28036,n[7014]=28044,n[7013]=28044,n[7016]=28052,n[7015]=28052,n[7018]=28060,n[7017]=28060,n[7020]=28068,n[7019]=28068,n[7022]=28076,n[7021]=28076,n[7024]=28084,n[7023]=28084,n[7026]=28092,n[7025]=28092,n[7028]=28100,n[7027]=28100,n[7030]=28108,n[7029]=28108,n[7032]=28116,n[7031]=28116,n[7034]=28124,n[7033]=28124,n[7036]=28132,n[7035]=28132,n[7038]=28140,n[7037]=28140,n[7040]=28148,n[7039]=28148,n[7042]=28156,n[7041]=28156,n[7044]=28164,n[7043]=28164,n[7046]=28172,n[7045]=28172,n[7048]=28180,n[7047]=28180,n[7050]=28188,n[7049]=28188,n[7052]=28196,n[7051]=28196,b=o+(E=0==(7&(E=o+8|0)|0)?0:0-E&7)|0,E=(w=a+-40|0)-E|0,n[6983]=b,n[6980]=E,n[b+4>>2]=1|E,n[o+w+4>>2]=40,n[6984]=n[7099]}while(0);if((t=0|n[6980])>>>0>f>>>0)return E=t-f|0,n[6980]=E,b=(w=0|n[6983])+f|0,n[6983]=b,n[b+4>>2]=1|E,n[w+4>>2]=3|f,B=e,0|(w=w+8|0)}return n[(w=27904)>>2]=12,B=e,0|(w=0)}function Ke(A){var e=0,t=0,r=0,i=0,s=0,o=0,a=0,c=0;if(A|=0){t=A+-8|0,i=0|n[6981],c=t+(e=-8&(A=0|n[A+-4>>2]))|0;do{if(1&A)a=t,o=t;else{if(r=0|n[t>>2],!(3&A))return;if(s=r+e|0,(o=t+(0-r)|0)>>>0<i>>>0)return;if((0|n[6982])==(0|o)){if(3!=(3&(e=0|n[(A=c+4|0)>>2])|0)){a=o,e=s;break}return n[6979]=s,n[A>>2]=-2&e,n[o+4>>2]=1|s,void(n[o+s>>2]=s)}if(t=r>>>3,r>>>0<256){if(A=0|n[o+8>>2],(0|(e=0|n[o+12>>2]))==(0|A)){n[6977]=n[6977]&~(1<<t),a=o,e=s;break}n[A+12>>2]=e,n[e+8>>2]=A,a=o,e=s;break}i=0|n[o+24>>2],A=0|n[o+12>>2];do{if((0|A)==(0|o)){if(A=0|n[(t=(e=o+16|0)+4|0)>>2])e=t;else if(!(A=0|n[e>>2])){A=0;break}for(;;)if(t=0|n[(r=A+20|0)>>2])A=t,e=r;else{if(!(t=0|n[(r=A+16|0)>>2]))break;A=t,e=r}n[e>>2]=0}else a=0|n[o+8>>2],n[a+12>>2]=A,n[A+8>>2]=a}while(0);if(i){if(e=0|n[o+28>>2],(0|n[(t=28212+(e<<2)|0)>>2])==(0|o)){if(n[t>>2]=A,!A){n[6978]=n[6978]&~(1<<e),a=o,e=s;break}}else if(n[((0|n[(a=i+16|0)>>2])==(0|o)?a:i+20|0)>>2]=A,!A){a=o,e=s;break}n[A+24>>2]=i,0|(t=0|n[(e=o+16|0)>>2])&&(n[A+16>>2]=t,n[t+24>>2]=A),(e=0|n[e+4>>2])?(n[A+20>>2]=e,n[e+24>>2]=A,a=o,e=s):(a=o,e=s)}else a=o,e=s}}while(0);if(!(o>>>0>=c>>>0)&&1&(r=0|n[(A=c+4|0)>>2])){if(2&r)n[A>>2]=-2&r,n[a+4>>2]=1|e,n[o+e>>2]=e,i=e;else{if((0|n[6983])==(0|c)){if(c=(0|n[6980])+e|0,n[6980]=c,n[6983]=a,n[a+4>>2]=1|c,(0|a)!=(0|n[6982]))return;return n[6982]=0,void(n[6979]=0)}if((0|n[6982])==(0|c))return c=(0|n[6979])+e|0,n[6979]=c,n[6982]=o,n[a+4>>2]=1|c,void(n[o+c>>2]=c);i=(-8&r)+e|0,t=r>>>3;do{if(r>>>0<256){if(e=0|n[c+8>>2],(0|(A=0|n[c+12>>2]))==(0|e)){n[6977]=n[6977]&~(1<<t);break}n[e+12>>2]=A,n[A+8>>2]=e;break}s=0|n[c+24>>2],A=0|n[c+12>>2];do{if((0|A)==(0|c)){if(A=0|n[(t=(e=c+16|0)+4|0)>>2])e=t;else if(!(A=0|n[e>>2])){t=0;break}for(;;)if(t=0|n[(r=A+20|0)>>2])A=t,e=r;else{if(!(t=0|n[(r=A+16|0)>>2]))break;A=t,e=r}n[e>>2]=0,t=A}else t=0|n[c+8>>2],n[t+12>>2]=A,n[A+8>>2]=t,t=A}while(0);if(0|s){if(A=0|n[c+28>>2],(0|n[(e=28212+(A<<2)|0)>>2])==(0|c)){if(n[e>>2]=t,!t){n[6978]=n[6978]&~(1<<A);break}}else if(n[((0|n[(r=s+16|0)>>2])==(0|c)?r:s+20|0)>>2]=t,!t)break;n[t+24>>2]=s,0|(e=0|n[(A=c+16|0)>>2])&&(n[t+16>>2]=e,n[e+24>>2]=t),0|(A=0|n[A+4>>2])&&(n[t+20>>2]=A,n[A+24>>2]=t)}}while(0);if(n[a+4>>2]=1|i,n[o+i>>2]=i,(0|a)==(0|n[6982]))return void(n[6979]=i)}if(A=i>>>3,i>>>0<256)return t=27948+(A<<1<<2)|0,(e=0|n[6977])&(A=1<<A)?A=0|n[(e=t+8|0)>>2]:(n[6977]=e|A,A=t,e=t+8|0),n[e>>2]=a,n[A+12>>2]=a,n[a+8>>2]=A,void(n[a+12>>2]=t);A=28212+((r=(A=i>>>8)?i>>>0>16777215?31:i>>>((r=14-((s=((c=A<<(o=(A+1048320|0)>>>16&8))+520192|0)>>>16&4)|o|(r=((c<<=s)+245760|0)>>>16&2))+(c<<r>>>15)|0)+7|0)&1|r<<1:0)<<2)|0,n[a+28>>2]=r,n[a+20>>2]=0,n[a+16>>2]=0,e=0|n[6978],t=1<<r;A:do{if(e&t){A=0|n[A>>2];e:do{if((-8&n[A+4>>2]|0)!=(0|i)){for(r=i<<(31==(0|r)?0:25-(r>>>1)|0);e=0|n[(t=A+16+(r>>>31<<2)|0)>>2];){if((-8&n[e+4>>2]|0)==(0|i)){A=e;break e}r<<=1,A=e}n[t>>2]=a,n[a+24>>2]=A,n[a+12>>2]=a,n[a+8>>2]=a;break A}}while(0);c=0|n[(o=A+8|0)>>2],n[c+12>>2]=a,n[o>>2]=a,n[a+8>>2]=c,n[a+12>>2]=A,n[a+24>>2]=0}else n[6978]=e|t,n[A>>2]=a,n[a+24>>2]=A,n[a+12>>2]=a,n[a+8>>2]=a}while(0);if(c=(0|n[6985])-1|0,n[6985]=c,!(0|c)){for(A=28364;A=0|n[A>>2];)A=A+8|0;n[6985]=-1}}}}function Ze(A,e){e|=0;var t=0;return(A|=0)?(t=0|E(e,A),(e|A)>>>0>65535&&(t=(0|(t>>>0)/(A>>>0))==(0|e)?t:-1)):t=0,(A=0|Ye(t))&&3&n[A+-4>>2]?(ft(0|A,0,0|t),0|A):0|A}function $e(A,e,t,r){return 0|(T((e|=0)+(r|=0)+((t=(A|=0)+(t|=0)>>>0)>>>0<A>>>0|0)>>>0|0),0|t)}function qe(A,e,t,r){return 0|(T(0|(r=(e|=0)-(r|=0)-((t|=0)>>>0>(A|=0)>>>0|0)>>>0)),A-t>>>0|0)}function Je(A){return 0|((A|=0)?31-(0|y(A^A-1))|0:32)}function At(A,e,t,r,i){i|=0;var s=0,o=0,a=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0;if(u=A|=0,o=t|=0,a=f=r|=0,!(l=c=e|=0))return s=0!=(0|i),a?s?(n[i>>2]=0|A,n[i+4>>2]=0&e,i=0,0|(T(0|(f=0)),i)):(i=0,0|(T(0|(f=0)),i)):(s&&(n[i>>2]=(u>>>0)%(o>>>0),n[i+4>>2]=0),i=(u>>>0)/(o>>>0)>>>0,0|(T(0|(f=0)),i));s=0==(0|a);do{if(o){if(!s){if((s=(0|y(0|a))-(0|y(0|l))|0)>>>0<=31){o=h=s+1|0,A=u>>>(h>>>0)&(e=s-31>>31)|l<<(a=31-s|0),e&=l>>>(h>>>0),s=0,a=u<<a;break}return i?(n[i>>2]=0|A,n[i+4>>2]=c|0&e,i=0,0|(T(0|(f=0)),i)):(i=0,0|(T(0|(f=0)),i))}if((s=o-1|0)&o|0){o=a=33+(0|y(0|o))-(0|y(0|l))|0,A=(h=32-a|0)-1>>31&l>>>((d=a-32|0)>>>0)|(l<<h|u>>>(a>>>0))&(e=d>>31),e&=l>>>(a>>>0),s=u<<(p=64-a|0)&(c=h>>31),a=(l<<p|u>>>(d>>>0))&c|u<<h&a-33>>31;break}return 0|i&&(n[i>>2]=s&u,n[i+4>>2]=0),1==(0|o)?(p=0|A,0|(T(0|(d=c|0&e)),p)):(d=l>>>((p=0|Je(0|o))>>>0)|0,p=l<<32-p|u>>>(p>>>0)|0,0|(T(0|d),p))}if(s)return 0|i&&(n[i>>2]=(l>>>0)%(o>>>0),n[i+4>>2]=0),p=(l>>>0)/(o>>>0)>>>0,0|(T(0|(d=0)),p);if(!u)return 0|i&&(n[i>>2]=0,n[i+4>>2]=(l>>>0)%(a>>>0)),p=(l>>>0)/(a>>>0)>>>0,0|(T(0|(d=0)),p);if(!((s=a-1|0)&a))return 0|i&&(n[i>>2]=0|A,n[i+4>>2]=s&l|0&e),d=0,p=l>>>((0|Je(0|a))>>>0),0|(T(0|d),p);if((s=(0|y(0|a))-(0|y(0|l))|0)>>>0<=30){o=e=s+1|0,A=l<<(a=31-s|0)|u>>>(e>>>0),e=l>>>(e>>>0),s=0,a=u<<a;break}return i?(n[i>>2]=0|A,n[i+4>>2]=c|0&e,p=0,0|(T(0|(d=0)),p)):(p=0,0|(T(0|(d=0)),p))}while(0);if(o){l=0|$e(0|(h=0|t),0|(u=f|0&r),-1,-1),t=0|S(),c=a,a=0;do{r=c,c=s>>>31|c<<1,s=a|s<<1,qe(0|l,0|t,0|(r=A<<1|r>>>31|0),0|(f=A>>>31|e<<1|0)),a=1&(d=(p=0|S())>>31|((0|p)<0?-1:0)<<1),A=0|qe(0|r,0|f,d&h|0,(((0|p)<0?-1:0)>>31|((0|p)<0?-1:0)<<1)&u|0),e=0|S(),o=o-1|0}while(0!=(0|o));l=c,c=0}else l=a,c=0,a=0;return o=0,0|i&&(n[i>>2]=A,n[i+4>>2]=e),p=-2&(s<<1|0)|a,0|(T(0|(d=(0|s)>>>31|(l|o)<<1|0&(o<<1|s>>>31)|c)),p)}function et(A,e,t,r){t|=0;var n,i,s,o,a;return i=(r|=0)>>31|((0|r)<0?-1:0)<<1,n=((0|r)<0?-1:0)>>31|((0|r)<0?-1:0)<<1,s=0|qe((a=(e|=0)>>31|((0|e)<0?-1:0)<<1)^(A|=0)|0,(o=((0|e)<0?-1:0)>>31|((0|e)<0?-1:0)<<1)^e|0,0|a,0|o),A=i^a,e=n^o,0|qe((0|At(s,0|S(),0|qe(i^t|0,n^r|0,0|i,0|n),0|S(),0))^A|0,(0|S())^e|0,0|A,0|e)}function tt(A,e,t,r){e|=0,r|=0;var n,i;return t=0|function(A,e){var t,r,n,i=0;return A=((t=0|E(i=65535&(e|=0),n=65535&(A|=0)))>>>16)+(0|E(i,r=A>>>16))|0,e=0|E(i=e>>>16,n),0|(T((A>>>16)+(0|E(i,r))+(((65535&A)+e|0)>>>16)|0),A+e<<16|65535&t|0)}(n=A|=0,i=t|=0),A=0|S(),0|(T((0|E(e,i))+(0|E(r,n))+A|0&A|0),0|t)}function rt(A,e,t,r){t|=0;var i,s,o,a,c,l;return i=B,B=B+16|0,a=0|i,l=(r|=0)>>31|((0|r)<0?-1:0)<<1,c=((0|r)<0?-1:0)>>31|((0|r)<0?-1:0)<<1,At(A=0|qe((o=(e|=0)>>31|((0|e)<0?-1:0)<<1)^(A|=0)|0,(s=((0|e)<0?-1:0)>>31|((0|e)<0?-1:0)<<1)^e|0,0|o,0|s),e=0|S(),0|qe(l^t|0,c^r|0,0|l,0|c),0|S(),a),r=0|qe(n[a>>2]^o|0,n[a+4>>2]^s|0,0|o,0|s),t=0|S(),B=i,0|(T(0|t),r)}function nt(A,e,t,r){var i,s;return s=B,B=B+16|0,At(A|=0,e|=0,t|=0,r|=0,i=0|s),B=s,0|(T(0|n[i+4>>2]),0|n[i>>2])}function it(A,e,t){return A|=0,e|=0,(0|(t|=0))<32?(T(e>>t|0),A>>>t|(e&(1<<t)-1)<<32-t):(T(0|((0|e)<0?-1:0)),e>>t-32|0)}function st(A,e,t){return A|=0,e|=0,(0|(t|=0))<32?(T(e>>>t|0),A>>>t|(e&(1<<t)-1)<<32-t):(T(0),e>>>t-32|0)}function ot(A,e,t){return A|=0,e|=0,(0|(t|=0))<32?(T(e<<t|(A&(1<<t)-1<<32-t)>>>32-t|0),A<<t):(T(A<<t-32|0),0)}function at(A,e,t){return A|=0,0,32==(0|(e=0|y(e|=0)))&&(e=e+(0|y(A))|0),T(0),0|e}function ct(A,e){return e=+e,(A=+A)!=A?+e:e!=e?+A:+w(+A,+e)}function lt(A,e){return e=+e,(A=+A)!=A?+e:e!=e?+A:+b(+A,+e)}function ut(A){return(A=+A)>=0?+a(A+.5):+v(A-.5)}function ht(A,e,t){A|=0,e|=0;var i,s,o=0;if((0|(t|=0))>=8192)return x(0|A,0|e,0|t),0|A;if(s=0|A,i=A+t|0,(3&A)==(3&e)){for(;3&A;){if(!t)return 0|s;r[A>>0]=0|r[e>>0],A=A+1|0,e=e+1|0,t=t-1|0}for(o=(t=-4&i|0)-64|0;(0|A)<=(0|o);)n[A>>2]=n[e>>2],n[A+4>>2]=n[e+4>>2],n[A+8>>2]=n[e+8>>2],n[A+12>>2]=n[e+12>>2],n[A+16>>2]=n[e+16>>2],n[A+20>>2]=n[e+20>>2],n[A+24>>2]=n[e+24>>2],n[A+28>>2]=n[e+28>>2],n[A+32>>2]=n[e+32>>2],n[A+36>>2]=n[e+36>>2],n[A+40>>2]=n[e+40>>2],n[A+44>>2]=n[e+44>>2],n[A+48>>2]=n[e+48>>2],n[A+52>>2]=n[e+52>>2],n[A+56>>2]=n[e+56>>2],n[A+60>>2]=n[e+60>>2],A=A+64|0,e=e+64|0;for(;(0|A)<(0|t);)n[A>>2]=n[e>>2],A=A+4|0,e=e+4|0}else for(t=i-4|0;(0|A)<(0|t);)r[A>>0]=0|r[e>>0],r[A+1>>0]=0|r[e+1>>0],r[A+2>>0]=0|r[e+2>>0],r[A+3>>0]=0|r[e+3>>0],A=A+4|0,e=e+4|0;for(;(0|A)<(0|i);)r[A>>0]=0|r[e>>0],A=A+1|0,e=e+1|0;return 0|s}function ft(A,e,t){e|=0;var i,s=0,o=0,a=0;if(i=(A|=0)+(t|=0)|0,e&=255,(0|t)>=67){for(;3&A;)r[A>>0]=e,A=A+1|0;for(a=e|e<<8|e<<16|e<<24,o=(s=-4&i|0)-64|0;(0|A)<=(0|o);)n[A>>2]=a,n[A+4>>2]=a,n[A+8>>2]=a,n[A+12>>2]=a,n[A+16>>2]=a,n[A+20>>2]=a,n[A+24>>2]=a,n[A+28>>2]=a,n[A+32>>2]=a,n[A+36>>2]=a,n[A+40>>2]=a,n[A+44>>2]=a,n[A+48>>2]=a,n[A+52>>2]=a,n[A+56>>2]=a,n[A+60>>2]=a,A=A+64|0;for(;(0|A)<(0|s);)n[A>>2]=a,A=A+4|0}for(;(0|A)<(0|i);)r[A>>0]=e,A=A+1|0;return i-t|0}function dt(A){return(A=+A)>=0?+a(A+.5):+v(A-.5)}function pt(A){A|=0;var e,t,r;return r=0|P(),(0|A)>0&(0|(e=(t=0|n[o>>2])+A|0))<(0|t)|(0|e)<0?(k(0|e),R(12),-1):(0|e)>(0|r)&&!(0|M(0|e))?(R(12),-1):(n[o>>2]=e,0|t)}return{___divdi3:et,___muldi3:tt,___remdi3:rt,___uremdi3:nt,_areNeighborCells:function(A,e,t,r,i){i|=0;var s,o,a,c=0,l=0,u=0,h=0;if(a=B,B=B+64|0,o=a,s=a+56|0,!(!0&134217728==(2013265920&(e|=0)|0)&!0&134217728==(2013265920&(r|=0)|0)))return B=a,0|(i=5);if((0|(A|=0))==(0|(t|=0))&(0|e)==(0|r))return n[i>>2]=0,B=a,0|(i=0);if(l=0|st(0|A,0|e,52),S(),l&=15,h=0|st(0|t,0|r,52),S(),(0|l)!=(15&h|0))return B=a,0|(i=12);if(c=l+-1|0,l>>>0>1){zA(A,e,c,o),zA(t,r,c,s),u=0|n[(h=o)>>2],h=0|n[h+4>>2];A:do{if((0|u)==(0|n[s>>2])&&(0|h)==(0|n[s+4>>2])){c=0|st(0|A,0|e,0|(l=3*(15^l)|0)),S(),c&=7,l=0|st(0|t,0|r,0|l),S(),l&=7;do{if(0==(0|c)|0==(0|l))n[i>>2]=1,c=0;else if(7==(0|c))c=5;else{if(1==(0|c)|1==(0|l)&&0|QA(u,h)){c=5;break}if((0|n[15536+(c<<2)>>2])!=(0|l)&&(0|n[15568+(c<<2)>>2])!=(0|l))break A;n[i>>2]=1,c=0}}while(0);return B=a,0|(i=c)}}while(0)}l=(c=o)+56|0;do{n[c>>2]=0,c=c+4|0}while((0|c)<(0|l));return I(A,e,1,o),c=(0|n[(e=o)>>2])==(0|t)&&(0|n[e+4>>2])==(0|r)||(0|n[(e=o+8|0)>>2])==(0|t)&&(0|n[e+4>>2])==(0|r)||(0|n[(e=o+16|0)>>2])==(0|t)&&(0|n[e+4>>2])==(0|r)||(0|n[(e=o+24|0)>>2])==(0|t)&&(0|n[e+4>>2])==(0|r)||(0|n[(e=o+32|0)>>2])==(0|t)&&(0|n[e+4>>2])==(0|r)||(0|n[(e=o+40|0)>>2])==(0|t)&&(0|n[e+4>>2])==(0|r)?1:1&((0|n[(c=o+48|0)>>2])==(0|t)?(0|n[c+4>>2])==(0|r):0),n[i>>2]=c,B=a,0|(i=0)},_bitshift64Ashr:it,_bitshift64Lshr:st,_bitshift64Shl:ot,_calloc:Ze,_cellAreaKm2:function(A,e,t){return 0|(A=0|de(A|=0,e|=0,t|=0))||(i[t>>3]=6371.007180918475*+i[t>>3]*6371.007180918475),0|A},_cellAreaM2:function(A,e,t){return 0|(A=0|de(A|=0,e|=0,t|=0))||(i[t>>3]=6371.007180918475*+i[t>>3]*6371.007180918475*1e3*1e3),0|A},_cellAreaRads2:de,_cellToBoundary:te,_cellToCenterChild:WA,_cellToChildPos:function(A,e,t,r){t|=0,r|=0;var i,s=0,o=0,a=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0;if(i=B,B=B+16|0,m=i,v=0|st(0|(A|=0),0|(e|=0),52),S(),v&=15,t>>>0>15)return B=i,0|(v=4);if((0|v)<(0|t))return B=i,0|(v=12);if((0|v)!=(0|t))if(o=0|ot(0|t,0,52),o|=A,c=0|S()|-15728641&e,(0|v)>(0|t)){l=t;do{_=0|ot(7,0,3*(14-l|0)|0),l=l+1|0,o|=_,c=0|S()|c}while((0|l)<(0|v));_=o}else _=o;else _=A,c=e;g=0|st(0|_,0|c,45),S();A:do{if(0|G(127&g)){if(l=0|st(0|_,0|c,52),S(),0|(l&=15))for(o=1;;){if(!(0==((g=0|ot(7,0,3*(15-o|0)|0))&_|0)&0==((0|S())&c|0))){u=33;break A}if(!(o>>>0<l>>>0))break;o=o+1|0}if(n[(g=r)>>2]=0,n[g+4>>2]=0,(0|v)>(0|t)){for(g=-15728641&e,p=v;;){if(d=p,(p=p+-1|0)>>>0>15|(0|v)<(0|p)){u=19;break}if((0|v)!=(0|p))if(o=0|ot(0|p,0,52),o|=A,l=0|S()|g,(0|v)<(0|d))f=o;else{u=p;do{f=0|ot(7,0,3*(14-u|0)|0),u=u+1|0,o|=f,l=0|S()|l}while((0|u)<(0|v));f=o}else f=A,l=e;if(h=0|st(0|f,0|l,45),S(),0|G(127&h)){h=0|st(0|f,0|l,52),S(),h&=15;e:do{if(h)for(u=1;;){if(o=0|st(0|f,0|l,3*(15-u|0)|0),S(),0|(o&=7))break e;if(!(u>>>0<h>>>0)){o=0;break}u=u+1|0}else o=0}while(0);o=0==(0|o)&1}else o=0;if(l=0|st(0|A,0|e,3*(15-d|0)|0),S(),7==(0|(l&=7))){s=5,u=42;break}if(1==(0|l)&(o=0!=(0|o))){s=5,u=42;break}if(0|(f=l+((0!=(0|l)&o)<<31>>31)|0)&&(u=0|we(7,0,u=v-d|0,((0|u)<0)<<31>>31),h=0|S(),o?(o=0|$e(0|(o=0|tt(0|u,0|h,5,0)),0|S(),-5,-1),o=0|$e(0|(o=0|et(0|o,0|S(),6,0)),0|S(),1,0),l=0|S()):(o=u,l=h),d=0|$e(0|o,0|l,0|(d=0|tt(0|u,0|h,0|(d=f+-1|0),((0|d)<0)<<31>>31|0)),0|S()),h=0|$e(0|d,0|(f=0|S()),0|n[(h=r)>>2],0|n[h+4>>2]),f=0|S(),n[(d=r)>>2]=h,n[d+4>>2]=f),(0|p)<=(0|t)){u=37;break}}if(19==(0|u))C(27795,27122,1276,27158);else{if(37==(0|u)){s=0|n[(a=r)+4>>2],a=0|n[a>>2];break}if(42==(0|u))return B=i,0|s}}else s=0,a=0}else u=33}while(0);A:do{if(33==(0|u)){if(n[(g=r)>>2]=0,n[g+4>>2]=0,(0|v)>(0|t)){for(o=v;;){if(s=0|st(0|A,0|e,3*(15-o|0)|0),S(),7==(0|(s&=7))){s=5;break}if(s=0|tt(0|(a=0|we(7,0,a=v-o|0,((0|a)<0)<<31>>31)),0|S(),0|s,0),a=0|S(),a=0|$e(0|n[(g=r)>>2],0|n[g+4>>2],0|s,0|a),s=0|S(),n[(g=r)>>2]=a,n[g+4>>2]=s,(0|(o=o+-1|0))<=(0|t))break A}return B=i,0|s}s=0,a=0}}while(0);return 0|VA(_,c,v,m)&&C(27795,27122,1236,27173),((0|s)>-1|-1==(0|s)&a>>>0>4294967295)&((0|(m=0|n[(v=m)+4>>2]))>(0|s)|((0|m)==(0|s)?(0|n[v>>2])>>>0>a>>>0:0))?(B=i,0|(v=0)):(C(27795,27122,1316,27158),0)},_cellToChildren:function(A,e,t,r){r|=0;var i,s,o=0,a=0;if(s=B,B=B+16|0,ne(i=s,A|=0,e|=0,t|=0),0==(0|(A=0|n[(e=i)>>2]))&0==(0|(e=0|n[e+4>>2])))return B=s,0;o=0,t=0;do{n[(a=r+(o<<3)|0)>>2]=A,n[a+4>>2]=e,o=0|$e(0|o,0|t,1,0),t=0|S(),se(i),A=0|n[(a=i)>>2],e=0|n[a+4>>2]}while(!(0==(0|A)&0==(0|e)));return B=s,0},_cellToChildrenSize:VA,_cellToLatLng:ee,_cellToLocalIj:function(A,e,t,r,n,i){var s,o;return A|=0,e|=0,t|=0,r|=0,i|=0,o=B,B=B+16|0,s=o,(n|=0)?A=15:(A=0|Ee(A,e,t,r,s))||(TA(s,i),A=0),B=o,0|A},_cellToParent:zA,_cellToVertex:Ue,_cellToVertexes:function(A,e,t){t|=0;var r,i=0,s=0;return s=0==(0|QA(A|=0,e|=0)),r=0==(0|(i=0|Ue(A,e,0,t))),s?r?0|(i=0|Ue(A,e,1,t+8|0))||0|(i=0|Ue(A,e,2,t+16|0))||0|(i=0|Ue(A,e,3,t+24|0))||(i=0|Ue(A,e,4,t+32|0))?0|(s=i):0|Ue(A,e,5,t+40|0):0|(s=i):r?0|(i=0|Ue(A,e,1,t+8|0))||0|(i=0|Ue(A,e,2,t+16|0))||0|(i=0|Ue(A,e,3,t+24|0))||0|(i=0|Ue(A,e,4,t+32|0))?0|(s=i):(n[(s=t+40|0)>>2]=0,n[s+4>>2]=0,0|(s=0)):0|(s=i)},_cellsToDirectedEdge:function(A,e,t,r,i){return i|=0,7==(0|(t=0|N(A|=0,e|=0,t|=0,r|=0)))?0|(i=11):(r=0|ot(0|t,0,56),e=-2130706433&e|0|S()|268435456,n[i>>2]=A|r,n[i+4>>2]=e,0|(i=0))},_cellsToLinkedMultiPolygon:function(A,e,t){t|=0;var r,i,s,o=0;if(s=B,B=B+32|0,r=s,A=0|function(A,e,t){A|=0,t|=0;var r,i,s=0,o=0,a=0,c=0,l=0,u=0;if(i=B,B=B+176|0,r=i,(0|(e|=0))<1)return Ge(t,0,0),B=i,0;for(l=0|st(0|n[(l=A)>>2],0|n[l+4>>2],52),S(),Ge(t,(0|e)>6?e:6,15&l),l=0;!(0|(s=0|te(0|n[(s=A+(l<<3)|0)>>2],0|n[s+4>>2],r)));){if((0|(s=0|n[r>>2]))>0){c=0;do{a=r+8+(c<<4)|0,(o=0|We(t,s=r+8+(((0|(c=c+1|0))%(0|s)|0)<<4)|0,a))?Qe(t,o):je(t,a,s),s=0|n[r>>2]}while((0|c)<(0|s))}if((0|(l=l+1|0))>=(0|e)){s=0,u=13;break}}return 13==(0|u)?(B=i,0|s):(ze(t),B=i,0|(u=s))}(A|=0,e|=0,i=s+16|0),0|A)return B=s,0|(t=A);if(n[t>>2]=0,n[t+4>>2]=0,n[t+8>>2]=0,0|(A=0|Ve(i)))do{e=0|pe(t);do{ge(e,A),o=A+16|0,n[r>>2]=n[o>>2],n[r+4>>2]=n[o+4>>2],n[r+8>>2]=n[o+8>>2],n[r+12>>2]=n[o+12>>2],Qe(i,A),A=0|He(i,r)}while(0!=(0|A));A=0|Ve(i)}while(0!=(0|A));return ze(i),(A=0|me(t))?(_e(t),B=s,0|(o=A)):(B=s,0|(o=0))},_childPosToCell:function(A,e,t,r,i,s){A|=0,e|=0,s|=0;var o,a=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0;if(o=B,B=B+16|0,a=o,(i|=0)>>>0>15)return B=o,0|(s=4);if(c=0|st(0|(t|=0),0|(r|=0),52),S(),(0|(c&=15))>(0|i))return B=o,0|(s=12);if(0|VA(t,r,i,a)&&C(27795,27122,1236,27173),!(((0|e)>-1|-1==(0|e)&A>>>0>4294967295)&((0|(u=0|n[(h=a)+4>>2]))>(0|e)|((0|u)==(0|e)?(0|n[h>>2])>>>0>A>>>0:0))))return B=o,0|(s=2);h=i-c|0,i=0|ot(0|i,0,52),l=0|S()|-15728641&r,n[(u=s)>>2]=i|t,n[u+4>>2]=l,u=0|st(0|t,0|r,45),S();A:do{if(0|G(127&u)){if(0|c)for(a=1;;){if(!(0==((u=0|ot(7,0,3*(15-a|0)|0))&t|0)&0==((0|S())&r|0)))break A;if(!(a>>>0<c>>>0))break;a=a+1|0}if((0|h)<1)return B=o,0|(s=0);for(u=15^c,r=-1,l=1,a=1;;){c=0|we(7,0,c=h-l|0,((0|c)<0)<<31>>31),t=0|S();do{if(a){if(a=0|et(0|(a=0|$e(0|(a=0|tt(0|c,0|t,5,0)),0|S(),-5,-1)),0|S(),6,0),(0|e)>(0|(i=0|S()))|(0|e)==(0|i)&A>>>0>a>>>0){e=0|qe(0|(e=0|$e(0|A,0|e,-1,-1)),0|S(),0|a,0|i),a=0|S(),p=0|n[(f=s)>>2],f=0|n[f+4>>2],d=0|ot(7,0,0|(g=3*(u+r|0)|0)),f&=~(0|S()),g=0|ot(0|(i=0|$e(0|(r=0|et(0|e,0|a,0|c,0|t)),0|(A=0|S()),2,0)),0|S(),0|g),f=0|S()|f,n[(i=s)>>2]=g|p&~d,n[i+4>>2]=f,A=0|qe(0|e,0|a,0|(A=0|tt(0|r,0|A,0|c,0|t)),0|S()),a=0,e=0|S();break}d=0|n[(g=s)>>2],g=0|n[g+4>>2],p=0|ot(7,0,3*(u+r|0)|0),g&=~(0|S()),n[(a=s)>>2]=d&~p,n[a+4>>2]=g,a=1;break}i=0|n[(d=s)>>2],d=0|n[d+4>>2],f=0|ot(7,0,0|(r=3*(u+r|0)|0)),d&=~(0|S()),r=0|ot(0|(g=0|et(0|A,0|e,0|c,0|t)),0|(a=0|S()),0|r),d=0|S()|d,n[(p=s)>>2]=r|i&~f,n[p+4>>2]=d,A=0|qe(0|A,0|e,0|(a=0|tt(0|g,0|a,0|c,0|t)),0|S()),a=0,e=0|S()}while(0);if(!((0|h)>(0|l))){e=0;break}r=~l,l=l+1|0}return B=o,0|e}}while(0);if((0|h)<1)return B=o,0|(g=0);for(i=15^c,a=1;;){if(p=0|we(7,0,p=h-a|0,((0|p)<0)<<31>>31),g=0|S(),t=0|n[(l=s)>>2],l=0|n[l+4>>2],r=0|ot(7,0,0|(c=3*(i-a|0)|0)),l&=~(0|S()),c=0|ot(0|(f=0|et(0|A,0|e,0|p,0|g)),0|(d=0|S()),0|c),l=0|S()|l,n[(u=s)>>2]=c|t&~r,n[u+4>>2]=l,A=0|qe(0|A,0|e,0|(g=0|tt(0|f,0|d,0|p,0|g)),0|S()),e=0|S(),(0|h)<=(0|a)){e=0;break}a=a+1|0}return B=o,0|e},_compactCells:function(A,e,t,r){e|=0;var i,s=0,o=0,a=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0,b=0,w=0,y=0,T=0,R=0,P=0,x=0,M=0,k=0,B=0;if(0==(0|(t|=0))&0==(0|(r|=0)))return 0|(B=0);if(o=0|n[(s=A|=0)>>2],!0&0==(15728640&(s=0|n[s+4>>2])|0)){if(!((0|r)>0|0==(0|r)&t>>>0>0))return 0|(B=0);if(n[(B=e)>>2]=o,n[B+4>>2]=s,1==(0|t)&0==(0|r))return 0|(B=0);s=1,o=0;do{k=0|n[(M=A+(s<<3)|0)+4>>2],n[(B=e+(s<<3)|0)>>2]=n[M>>2],n[B+4>>2]=k,s=0|$e(0|s,0|o,1,0),o=0|S()}while((0|o)<(0|r)|(0|o)==(0|r)&s>>>0<t>>>0);return 0|(s=0)}if(!(k=0|Ye(i=t<<3)))return 0|(B=13);if(ht(0|k,0|A,0|i),!(M=0|Ze(t,8)))return Ke(k),0|(B=13);A:for(;;){P=0|st(0|(u=0|n[(s=k)>>2]),0|(s=0|n[s+4>>2]),52),S(),x=(P&=15)+-1|0,R=0!=(0|P),T=(0|r)>0|0==(0|r)&t>>>0>0;e:do{if(R&T){if(E=0|ot(0|x,0,52),b=0|S(),x>>>0>15){if(!(0==(0|u)&0==(0|s))){B=16;break A}for(o=0,A=0;;){if(o=0|$e(0|o,0|A,1,0),!((0|(A=0|S()))<(0|r)|(0|A)==(0|r)&o>>>0<t>>>0))break e;if(!(0==(0|(y=0|n[(a=k+(o<<3)|0)>>2]))&0==(0|(a=0|n[a+4>>2])))){s=a,B=16;break A}}}for(c=u,A=s,o=0,a=0;;){if(!(0==(0|c)&0==(0|A))){if(!(!0&0==(117440512&A|0))){B=21;break A}if(h=0|st(0|c,0|A,52),S(),(0|(h&=15))<(0|x)){s=12,B=27;break A}if((0|h)!=(0|x)&&(c|=E,A=-15728641&A|b,h>>>0>=P>>>0)){l=x;do{y=0|ot(7,0,3*(14-l|0)|0),l=l+1|0,c|=y,A=0|S()|A}while(l>>>0<h>>>0)}if(d=0|nt(0|c,0|A,0|t,0|r),p=0|S(),!(0==(0|(f=0|n[(h=l=M+(d<<3)|0)>>2]))&0==(0|(h=0|n[h+4>>2])))){m=0,v=0;do{if((0|m)>(0|r)|(0|m)==(0|r)&v>>>0>t>>>0){B=31;break A}if((0|f)==(0|c)&(-117440513&h|0)==(0|A)){g=0|st(0|f,0|h,56),S(),_=(g&=7)+1|0,y=0|st(0|f,0|h,45),S();t:do{if(0|G(127&y)){if(f=0|st(0|f,0|h,52),S(),!(f&=15)){h=6;break}for(h=1;;){if(!(0==((y=0|ot(7,0,3*(15-h|0)|0))&c|0)&0==((0|S())&A|0))){h=7;break t}if(!(h>>>0<f>>>0)){h=6;break}h=h+1|0}}else h=7}while(0);if((g+2|0)>>>0>h>>>0){B=41;break A}y=0|ot(0|_,0,56),A=0|S()|-117440513&A,n[(w=l)>>2]=0,n[w+4>>2]=0,c|=y}else d=0|rt(0|(d=0|$e(0|d,0|p,1,0)),0|S(),0|t,0|r),p=0|S();v=0|$e(0|v,0|m,1,0),m=0|S(),f=0|n[(h=l=M+(d<<3)|0)>>2],h=0|n[h+4>>2]}while(!(0==(0|f)&0==(0|h)))}n[(y=l)>>2]=c,n[y+4>>2]=A}if(o=0|$e(0|o,0|a,1,0),!((0|(a=0|S()))<(0|r)|(0|a)==(0|r)&o>>>0<t>>>0))break e;c=0|n[(A=k+(o<<3)|0)>>2],A=0|n[A+4>>2]}}}while(0);if(y=0|$e(0|t,0|r,5,0),(w=0|S())>>>0<0|0==(0|w)&y>>>0<11){B=85;break}if(y=0|et(0|t,0|r,6,0),S(),!(y=0|Ze(y,8))){B=48;break}do{if(T){for(_=0,A=0,g=0,m=0;;){if(0==(0|(o=0|n[(a=h=M+(_<<3)|0)>>2]))&0==(0|(a=0|n[a+4>>2])))w=g;else{f=0|st(0|o,0|a,56),S(),c=(f&=7)+1|0,d=-117440513&a,w=0|st(0|o,0|a,45),S();e:do{if(0|G(127&w)){if(p=0|st(0|o,0|a,52),S(),0|(p&=15))for(l=1;;){if(!(0==(o&(w=0|ot(7,0,3*(15-l|0)|0))|0)&0==(d&(0|S())|0)))break e;if(!(l>>>0<p>>>0))break;l=l+1|0}o|=a=0|ot(0|c,0,56),a=0|S()|d,n[(c=h)>>2]=o,n[c+4>>2]=a,c=f+2|0}}while(0);7==(0|c)?(n[(w=y+(A<<3)|0)>>2]=o,n[w+4>>2]=-117440513&a,A=0|$e(0|A,0|g,1,0),w=0|S()):w=g}if(_=0|$e(0|_,0|m,1,0),!((0|(m=0|S()))<(0|r)|(0|m)==(0|r)&_>>>0<t>>>0))break;g=w}if(T){if(v=x>>>0>15,E=0|ot(0|x,0,52),b=0|S(),!R){for(o=0,l=0,c=0,a=0;0==(0|u)&0==(0|s)||(n[(x=e+(o<<3)|0)>>2]=u,n[x+4>>2]=s,o=0|$e(0|o,0|l,1,0),l=0|S()),c=0|$e(0|c,0|a,1,0),(0|(a=0|S()))<(0|r)|(0|a)==(0|r)&c>>>0<t>>>0;)u=0|n[(s=k+(c<<3)|0)>>2],s=0|n[s+4>>2];s=w;break}for(o=0,l=0,a=0,c=0;;){do{if(!(0==(0|u)&0==(0|s))){if(p=0|st(0|u,0|s,52),S(),v|(0|(p&=15))<(0|x)){B=80;break A}if((0|p)!=(0|x)){if(h=u|E,f=-15728641&s|b,p>>>0>=P>>>0){d=x;do{R=0|ot(7,0,3*(14-d|0)|0),d=d+1|0,h|=R,f=0|S()|f}while(d>>>0<p>>>0)}}else h=u,f=s;g=0|nt(0|h,0|f,0|t,0|r),d=0,p=0,m=0|S();do{if((0|d)>(0|r)|(0|d)==(0|r)&p>>>0>t>>>0){B=81;break A}if((-117440513&(_=0|n[(R=M+(g<<3)|0)+4>>2])|0)==(0|f)&&(0|n[R>>2])==(0|h)){B=65;break}g=0|rt(0|(R=0|$e(0|g,0|m,1,0)),0|S(),0|t,0|r),m=0|S(),p=0|$e(0|p,0|d,1,0),d=0|S(),R=M+(g<<3)|0}while((0|n[R>>2])!=(0|h)||(0|n[R+4>>2])!=(0|f));if(65==(0|B)&&(B=0,!0&100663296==(117440512&_|0)))break;n[(R=e+(o<<3)|0)>>2]=u,n[R+4>>2]=s,o=0|$e(0|o,0|l,1,0),l=0|S()}}while(0);if(a=0|$e(0|a,0|c,1,0),!((0|(c=0|S()))<(0|r)|(0|c)==(0|r)&a>>>0<t>>>0))break;u=0|n[(s=k+(a<<3)|0)>>2],s=0|n[s+4>>2]}s=w}else o=0,s=w}else o=0,A=0,s=0}while(0);if(ft(0|M,0,0|i),ht(0|k,0|y,A<<3|0),Ke(y),0==(0|A)&0==(0|s)){B=89;break}e=e+(o<<3)|0,r=s,t=A}if(16==(0|B))!0&0==(117440512&s|0)?(s=4,B=27):B=21;else if(31==(0|B))C(27795,27122,529,27132);else{if(41==(0|B))return Ke(k),Ke(M),0|(B=10);if(48==(0|B))return Ke(k),Ke(M),0|(B=13);80==(0|B)?C(27795,27122,620,27132):81==(0|B)?C(27795,27122,632,27132):85==(0|B)&&(ht(0|e,0|k,t<<3|0),B=89)}return 21==(0|B)?(Ke(k),Ke(M),0|(B=5)):27==(0|B)?(Ke(k),Ke(M),0|(B=s)):89==(0|B)?(Ke(k),Ke(M),0|(B=0)):0},_destroyLinkedMultiPolygon:_e,_directedEdgeToBoundary:PA,_directedEdgeToCells:function(A,e,t){A|=0;var r,i,s,o=0;return r=B,B=B+16|0,o=r,!0&268435456==(2013265920&(e|=0)|0)?(i=-2130706433&e|134217728,n[(s=t|=0)>>2]=A,n[s+4>>2]=i,n[o>>2]=0,e=0|st(0|A,0|e,56),S(),o=0|F(A,i,7&e,o,t+8|0),B=r,0|o):(B=r,0|(o=6))},_edgeLengthKm:function(A,e,t){t|=0;var r,s=0,o=0,a=0,c=0,u=0,d=0,p=0;if(r=B,B=B+176|0,0|(A=0|PA(A|=0,e|=0,c=r)))return c=A,a=+i[t>>3],a*=6371.007180918475,i[t>>3]=a,B=r,0|c;if(i[t>>3]=0,(0|(A=0|n[c>>2]))<=1)return c=0,a=0,a*=6371.007180918475,i[t>>3]=a,B=r,0|c;e=A+-1|0,A=0,s=+i[c+8>>3],o=+i[c+16>>3],a=0;do{d=s,s=+i[c+8+((A=A+1|0)<<4)>>3],p=+f(.5*(s-d)),u=o,o=+i[c+8+(A<<4)+8>>3],u=p*p+(u=+f(.5*(o-u)))*(+h(+d)*+h(+s)*u),a+=2*+m(+ +l(+u),+ +l(+(1-u)))}while((0|A)!=(0|e));return i[t>>3]=a,c=0,p=a,p*=6371.007180918475,i[t>>3]=p,B=r,0|c},_edgeLengthM:function(A,e,t){t|=0;var r,s=0,o=0,a=0,c=0,u=0,d=0,p=0;if(r=B,B=B+176|0,0|(A=0|PA(A|=0,e|=0,c=r)))return c=A,a=+i[t>>3],a*=6371.007180918475,a*=1e3,i[t>>3]=a,B=r,0|c;if(i[t>>3]=0,(0|(A=0|n[c>>2]))<=1)return c=0,a=0,a*=6371.007180918475,a*=1e3,i[t>>3]=a,B=r,0|c;e=A+-1|0,A=0,s=+i[c+8>>3],o=+i[c+16>>3],a=0;do{d=s,s=+i[c+8+((A=A+1|0)<<4)>>3],p=+f(.5*(s-d)),u=o,o=+i[c+8+(A<<4)+8>>3],u=p*p+(u=+f(.5*(o-u)))*(+h(+d)*+h(+s)*u),a+=2*+m(+ +l(+u),+ +l(+(1-u)))}while((0|A)!=(0|e));return i[t>>3]=a,c=0,p=a,p*=6371.007180918475,p*=1e3,i[t>>3]=p,B=r,0|c},_edgeLengthRads:function(A,e,t){t|=0;var r,s=0,o=0,a=0,c=0,u=0,d=0,p=0;if(r=B,B=B+176|0,0|(A=0|PA(A|=0,e|=0,c=r)))return B=r,0|(c=A);if(i[t>>3]=0,(0|(A=0|n[c>>2]))<=1)return B=r,0|(c=0);e=A+-1|0,A=0,s=+i[c+8>>3],o=+i[c+16>>3],a=0;do{d=s,s=+i[c+8+((A=A+1|0)<<4)>>3],p=+f(.5*(s-d)),u=o,o=+i[c+8+(A<<4)+8>>3],u=p*p+(u=+f(.5*(o-u)))*(+h(+s)*+h(+d)*u),a+=2*+m(+ +l(+u),+ +l(+(1-u)))}while((0|A)<(0|e));return i[t>>3]=a,B=r,0|(c=0)},_emscripten_replace_memory:function(A){return r=new Int8Array(A),new Uint8Array(A),n=new Int32Array(A),new Float32Array(A),i=new Float64Array(A),t=A,!0},_free:Ke,_getBaseCellNumber:NA,_getDirectedEdgeDestination:function(A,e,t){A|=0,e|=0,t|=0;var r,i,s=0;return r=B,B=B+16|0,n[(s=r)>>2]=0,!0&268435456==(2013265920&e|0)?(i=0|st(0|A,0|e,56),S(),s=0|F(A,-2130706433&e|134217728,7&i,s,t),B=r,0|s):(B=r,0|(s=6))},_getDirectedEdgeOrigin:function(A,e,t){return A|=0,t|=0,!0&268435456==(2013265920&(e|=0)|0)?(n[t>>2]=A,n[t+4>>2]=-2130706433&e|134217728,0|(t=0)):0|(t=6)},_getHexagonAreaAvgKm2:ue,_getHexagonAreaAvgM2:function(A,e){return e|=0,(A|=0)>>>0>15?0|(e=4):(i[e>>3]=+i[20784+(A<<3)>>3],0|(e=0))},_getHexagonEdgeLengthAvgKm:function(A,e){return e|=0,(A|=0)>>>0>15?0|(e=4):(i[e>>3]=+i[20912+(A<<3)>>3],0|(e=0))},_getHexagonEdgeLengthAvgM:function(A,e){return e|=0,(A|=0)>>>0>15?0|(e=4):(i[e>>3]=+i[21040+(A<<3)>>3],0|(e=0))},_getIcosahedronFaces:function A(e,t,r){r|=0;var i,s=0,o=0,a=0,c=0,l=0,u=0,h=0,f=0;i=B,B=B+128|0,h=i+112|0,a=i+96|0,f=i,o=0|st(0|(e|=0),0|(t|=0),52),S(),l=15&o,n[h>>2]=l,c=0|st(0|e,0|t,45),S(),c&=127;A:do{if(0|G(c)){if(0|l)for(s=1;;){if(!(0==((u=0|ot(7,0,3*(15-s|0)|0))&e|0)&0==((0|S())&t|0))){o=0;break A}if(!(s>>>0<l>>>0))break;s=s+1|0}if(!(1&o))return u=0|ot(l+1|0,0,52),f=0|S()|-15728641&t,f=0|A((u|e)&~(h=0|ot(7,0,3*(14-l|0)|0)),f&~(0|S()),r),B=i,0|f;o=1}else o=0}while(0);if(!(s=0|Ae(e,t,a))){o?(IA(a,h,f),u=5):(FA(a,h,f),u=6);A:do{if(0|G(c))if(l)for(s=1;;){if(!(0==((c=0|ot(7,0,3*(15-s|0)|0))&e|0)&0==((0|S())&t|0))){e=2;break A}if(!(s>>>0<l>>>0)){e=5;break}s=s+1|0}else e=5;else e=2}while(0);ft(0|r,-1,e<<2|0);A:do{if(o)for(a=0;;){if(DA(c=f+(a<<4)|0,0|n[h>>2]),c=0|n[c>>2],-1==(0|(l=0|n[r>>2]))|(0|l)==(0|c))s=r;else{o=0;do{if((o=o+1|0)>>>0>=e>>>0){s=1;break A}l=0|n[(s=r+(o<<2)|0)>>2]}while(!(-1==(0|l)|(0|l)==(0|c)))}if(n[s>>2]=c,(a=a+1|0)>>>0>=u>>>0){s=0;break}}else for(a=0;;){if(LA(c=f+(a<<4)|0,0|n[h>>2],0,1),c=0|n[c>>2],-1==(0|(l=0|n[r>>2]))|(0|l)==(0|c))s=r;else{o=0;do{if((o=o+1|0)>>>0>=e>>>0){s=1;break A}l=0|n[(s=r+(o<<2)|0)>>2]}while(!(-1==(0|l)|(0|l)==(0|c)))}if(n[s>>2]=c,(a=a+1|0)>>>0>=u>>>0){s=0;break}}}while(0)}return B=i,0|(f=s)},_getNumCells:he,_getPentagons:re,_getRes0Cells:function(A){A|=0;var e=0,t=0,r=0;e=0;do{ot(0|e,0,45),r=134225919|S(),n[(t=A+(e<<3)|0)>>2]=-1,n[t+4>>2]=r,e=e+1|0}while(122!=(0|e));return 0},_getResolution:function(A,e){return e=0|st(0|(A|=0),0|(e|=0),52),S(),15&e|0},_greatCircleDistanceKm:le,_greatCircleDistanceM:function(A,e){A|=0;var t,r,n,s=0;return r=+i[(e|=0)>>3],t=+i[A>>3],s=(n=+f(.5*(r-t)))*n+(s=+f(.5*(+i[e+8>>3]-+i[A+8>>3])))*(+h(+r)*+h(+t)*s),2*+m(+ +l(+s),+ +l(+(1-s)))*6371.007180918475*1e3},_greatCircleDistanceRads:function(A,e){A|=0;var t,r,n,s=0;return r=+i[(e|=0)>>3],t=+i[A>>3],s=(n=+f(.5*(r-t)))*n+(s=+f(.5*(+i[e+8>>3]-+i[A+8>>3])))*(+h(+r)*+h(+t)*s),2*+m(+ +l(+s),+ +l(+(1-s)))},_gridDisk:I,_gridDiskDistances:L,_gridDistance:function(A,e,t,r,i){t|=0,r|=0,i|=0;var s,o,a=0,c=0;return o=B,B=B+32|0,c=o,0|(s=0|Ee(A|=0,e|=0,A,e,a=o+12|0))?(B=o,0|(c=s)):0|(A=0|Ee(A,e,t,r,c))?(B=o,0|(c=A)):(a=0|yA(a,c),n[(c=i)>>2]=a,n[c+4>>2]=((0|a)<0)<<31>>31,B=o,0|(c=0))},_gridPathCells:function(A,e,t,r,i){t|=0,r|=0,i|=0;var s,o,a=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0,b=0,w=0,y=0,T=0,R=0,P=0;if(o=B,B=B+48|0,l=o+12|0,R=o,!(a=0|Ee(A|=0,e|=0,A,e,s=o+24|0))&&!(a=0|Ee(A,e,t,r,l))){T=((0|(y=0|yA(s,l)))<0)<<31>>31,n[s>>2]=0,n[s+4>>2]=0,n[s+8>>2]=0,n[l>>2]=0,n[l+4>>2]=0,n[l+8>>2]=0,0|Ee(A,e,A,e,s)&&C(27795,27538,692,27747),0|Ee(A,e,t,r,l)&&C(27795,27538,697,27747),CA(s),CA(l),d=0==(0|y)?0:1/+(0|y),t=0|n[s>>2],v=d*+((0|n[l>>2])-t|0),r=0|n[(E=s+4|0)>>2],b=d*+((0|n[l+4>>2])-r|0),a=0|n[(w=s+8|0)>>2],d*=+((0|n[l+8>>2])-a|0),n[R>>2]=t,n[(p=R+4|0)>>2]=r,n[(g=R+8|0)>>2]=a;A:do{if((0|y)<0)a=0;else for(_=0,m=0;;){P=v*(h=+(m>>>0)+4294967296*+(0|_))+ +(0|t),u=b*h+ +(0|r),h=d*h+ +(0|a),t=~~+ut(+P),l=~~+ut(+u),a=~~+ut(+h),P=+c(+(+(0|t)-P)),u=+c(+(+(0|l)-u)),h=+c(+(+(0|a)-h));do{if(!(P>u&P>h)){if(f=0-t|0,u>h){r=f-a|0;break}r=l,a=f-l|0;break}t=0-(l+a)|0,r=l}while(0);if(n[R>>2]=t,n[p>>2]=r,n[g>>2]=a,RA(R),0|(a=0|be(A,e,R,i+(m<<3)|0)))break A;if(!((0|_)<(0|T)|(0|_)==(0|T)&m>>>0<y>>>0)){a=0;break A}t=0|$e(0|m,0|_,1,0),_=r=0|S(),m=t,t=0|n[s>>2],r=0|n[E>>2],a=0|n[w>>2]}}while(0);return B=o,0|(R=a)}return B=o,0|(R=a)},_gridPathCellsSize:function(A,e,t,r,i){t|=0,r|=0,i|=0;var s,o=0,a=0,c=0;return s=B,B=B+32|0,c=s,(o=0|Ee(A|=0,e|=0,A,e,a=s+12|0))||(o=0|Ee(A,e,t,r,c))?(B=s,0|(c=o)):(r=0|$e(0|(r=0|yA(a,c)),((0|r)<0)<<31>>31|0,1,0),a=0|S(),n[(c=i)>>2]=r,n[c+4>>2]=a,B=s,0|(c=0))},_gridRingUnsafe:function(A,e,t,r){A|=0,e|=0,t|=0,r|=0;var i,s,o=0,a=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0;if(s=B,B=B+16|0,p=s+8|0,n[(d=i=s)>>2]=A,n[d+4>>2]=e,!t)return n[(p=r)>>2]=A,n[p+4>>2]=e,B=s,0|(p=0);n[p>>2]=0;A:do{if(0|QA(A,e))A=9;else{if(a=(0|t)>0){o=0,d=A;do{if(0|(A=0|F(d,e,4,p,i)))break A;if(o=o+1|0,0|QA(d=0|n[(e=i)>>2],e=0|n[e+4>>2])){A=9;break A}}while((0|o)<(0|t));if(n[(f=r)>>2]=d,n[f+4>>2]=e,f=t+-1|0,a){h=0,A=1;do{if(o=26800+(h<<2)|0,5==(0|h))for(c=0|n[o>>2],a=0,o=A;;){if(0|(A=0|F(0|n[(A=i)>>2],0|n[A+4>>2],c,p,i)))break A;if((0|a)!=(0|f)){if(l=0|n[(u=i)>>2],u=0|n[u+4>>2],n[(A=r+(o<<3)|0)>>2]=l,n[A+4>>2]=u,0|QA(l,u)){A=9;break A}A=o+1|0}else A=o;if((0|(a=a+1|0))>=(0|t))break;o=A}else for(c=i,u=0|n[o>>2],l=0,o=A,a=0|n[c>>2],c=0|n[c+4>>2];;){if(0|(A=0|F(a,c,u,p,i)))break A;if(a=0|n[(c=i)>>2],c=0|n[c+4>>2],n[(A=r+(o<<3)|0)>>2]=a,n[A+4>>2]=c,A=o+1|0,0|QA(a,c)){A=9;break A}if((0|(l=l+1|0))>=(0|t))break;o=A}h=h+1|0}while(h>>>0<6);c=d,o=0|n[(A=i)>>2],a=e,A=0|n[A+4>>2]}else c=d,o=d,a=e,A=e}else n[(c=r)>>2]=A,n[c+4>>2]=e,c=A,o=A,a=e,A=e;A=(0|c)==(0|o)&(0|a)==(0|A)?0:9}}while(0);return B=s,0|(p=A)},_i64Add:$e,_i64Subtract:qe,_isPentagon:QA,_isResClassIII:function(A,e){return e=0|st(0|(A|=0),0|(e|=0),52),S(),1&e|0},_isValidCell:UA,_isValidDirectedEdge:function(A,e){var t=0;switch(t=0|st(0|(A|=0),0|(e|=0),56),S(),7&t){case 0:case 7:return 0|(t=0)}return t=-2130706433&e|134217728,!0&268435456==(2013265920&e|0)?!0&16777216==(117440512&e|0)&0!=(0|QA(A,t))?0|(t=0):0|(t=0|UA(A,t)):0|(t=0)},_isValidVertex:function(A,e){A|=0;var t,r,i=0,s=0;return r=B,B=B+16|0,t=r,!0&536870912==(2013265920&(e|=0)|0)&&0|UA(A,i=-2130706433&e|134217728)?(s=0|st(0|A,0|e,56),S(),i=(s=0==(0|Ue(A,i,7&s,t)))&((0|n[(i=t)>>2])==(0|A)?(0|n[i+4>>2])==(0|e):0)&1,B=r,0|i):(B=r,0|(i=0))},_latLngToCell:qA,_llvm_ctlz_i64:at,_llvm_maxnum_f64:ct,_llvm_minnum_f64:lt,_llvm_round_f64:ut,_localIjToCell:function(A,e,t,r,n){var i,s;return A|=0,e|=0,t|=0,n|=0,s=B,B=B+16|0,i=s,(r|=0)?t=15:(t=0|SA(t,i))||(t=0|be(A,e,i,n)),B=s,0|t},_malloc:Ye,_maxFaceCount:function(A,e,t){t|=0;var r=0,i=0;if(i=0|st(0|(A|=0),0|(e|=0),45),S(),!(0|G(127&i)))return i=2,n[t>>2]=i,0;if(i=0|st(0|A,0|e,52),S(),!(i&=15))return i=5,n[t>>2]=i,0;for(r=1;;){if(!(0==((0|ot(7,0,3*(15-r|0)|0))&A|0)&0==((0|S())&e|0))){r=2,A=6;break}if(!(r>>>0<i>>>0)){r=5,A=6;break}r=r+1|0}return 6==(0|A)?(n[t>>2]=r,0):0},_maxGridDiskSize:function(A,e){e|=0;var t=0,r=0,i=0;return(0|(A|=0))<0?0|(e=2):(0|A)>13780509?0|(e=0|he(15,e)):(i=0|tt(0|A,0|(t=((0|A)<0)<<31>>31),3,0),r=0|S(),t=0|$e(0|A,0|t,1,0),t=0|$e(0|(t=0|tt(0|i,0|r,0|t,0|S())),0|S(),1,0),A=0|S(),n[e>>2]=t,n[e+4>>2]=A,0|(e=0))},_maxPolygonToCellsSize:function(A,e,t,r){A|=0,e|=0,r|=0;var i,s=0,o=0,a=0,c=0,l=0;if(i=B,B=B+48|0,s=i+16|0,o=i+8|0,a=i,0|(t=0|xe(t|=0)))return B=i,0|(a=t);if(c=0|n[(l=A)+4>>2],n[(t=o)>>2]=n[l>>2],n[t+4>>2]=c,Pe(o,s),!(t=0|AA(s,e,a))){if(e=0|n[o>>2],(0|(o=0|n[A+8>>2]))>0){s=0|n[A+12>>2],t=0;do{e=(0|n[s+(t<<3)>>2])+e|0,t=t+1|0}while((0|t)<(0|o))}s=0|n[(t=a)>>2],(0|(t=0|n[t+4>>2]))<(0|(o=((0|e)<0)<<31>>31))|(0|t)==(0|o)&s>>>0<e>>>0?(n[(t=a)>>2]=e,n[t+4>>2]=o,t=o):e=s,c=0|$e(0|e,0|t,12,0),l=0|S(),n[(t=a)>>2]=c,n[t+4>>2]=l,n[(t=r)>>2]=c,n[t+4>>2]=l,t=0}return B=i,0|(l=t)},_maxPolygonToCellsSizeExperimental:function(A,e,t,s){e|=0,t|=0,s|=0;var o,a,l=0,u=0,f=0,d=0,p=0,g=0,_=0,m=0;if(a=B,B=B+48|0,p=a+32|0,d=a+40|0,o=a,!(0|n[(A|=0)>>2]))return n[(g=s)>>2]=0,n[g+4>>2]=0,B=a,0|(g=0);GA(p,0,0,0),l=0|n[(f=p)>>2],f=0|n[f+4>>2];do{if(e>>>0>15)n[(g=o)>>2]=0,n[g+4>>2]=0,n[o+8>>2]=4,n[o+12>>2]=-1,t=o+29|0,n[(g=o+16|0)>>2]=0,n[g+4>>2]=0,n[g+8>>2]=0,r[g+12>>0]=0,r[t>>0]=0|r[d>>0],r[t+1>>0]=0|r[d+1>>0],r[t+2>>0]=0|r[d+2>>0],t=4,g=9;else{if(0|(t=0|xe(t))){n[(p=o)>>2]=0,n[p+4>>2]=0,n[o+8>>2]=t,n[o+12>>2]=-1,g=o+29|0,n[(p=o+16|0)>>2]=0,n[p+4>>2]=0,n[p+8>>2]=0,r[p+12>>0]=0,r[g>>0]=0|r[d>>0],r[g+1>>0]=0|r[d+1>>0],r[g+2>>0]=0|r[d+2>>0],g=9;break}if(!(t=0|Ze(1+(0|n[A+8>>2])|0,32))){n[(g=o)>>2]=0,n[g+4>>2]=0,n[o+8>>2]=13,n[o+12>>2]=-1,t=o+29|0,n[(g=o+16|0)>>2]=0,n[g+4>>2]=0,n[g+8>>2]=0,r[g+12>>0]=0,r[t>>0]=0|r[d>>0],r[t+1>>0]=0|r[d+1>>0],r[t+2>>0]=0|r[d+2>>0],t=13,g=9;break}Me(A,t),n[(m=o)>>2]=l,n[m+4>>2]=f,n[(f=o+8|0)>>2]=0,n[o+12>>2]=e,n[o+20>>2]=A,n[o+24>>2]=t,r[o+28>>0]=0,r[(l=o+29|0)>>0]=0|r[d>>0],r[l+1>>0]=0|r[d+1>>0],r[l+2>>0]=0|r[d+2>>0],n[o+16>>2]=3,_=+K(t),_*=+X(t),u=+c(+ +i[t>>3]),u=_/+h(+ +lt(+u,+ +c(+ +i[t+8>>3])))*6371.007180918475*6371.007180918475,t=0|n[(l=o+12|0)>>2];A:do{if((0|t)>0)do{if(ue(t+-1|0,p),!(u/+i[p>>3]>10))break A;t=(m=0|n[l>>2])+-1|0,n[l>>2]=t}while((0|m)>1)}while(0);if(Se(o),n[(l=s)>>2]=0,n[l+4>>2]=0,!(0==(0|(t=0|n[(l=o)>>2]))&0==(0|(l=0|n[l+4>>2]))))do{VA(t,l,e,p),d=p,d=0|$e(0|n[(A=s)>>2],0|n[A+4>>2],0|n[d>>2],0|n[d+4>>2]),A=0|S(),n[(m=s)>>2]=d,n[m+4>>2]=A,Se(o),t=0|n[(m=o)>>2],l=0|n[m+4>>2]}while(!(0==(0|t)&0==(0|l)));t=0|n[f>>2]}}while(0);return B=a,0|(m=t)},_memcpy:ht,_memset:ft,_originToDirectedEdges:function(A,e,t){t|=0;var r,i=0;return r=0==(0|QA(A|=0,e|=0)),e&=-2130706433,n[(i=t)>>2]=r?A:0,n[i+4>>2]=r?285212672|e:0,n[(i=t+8|0)>>2]=A,n[i+4>>2]=301989888|e,n[(i=t+16|0)>>2]=A,n[i+4>>2]=318767104|e,n[(i=t+24|0)>>2]=A,n[i+4>>2]=335544320|e,n[(i=t+32|0)>>2]=A,n[i+4>>2]=352321536|e,n[(t=t+40|0)>>2]=A,n[t+4>>2]=369098752|e,0},_pentagonCount:function(){return 12},_polygonToCells:function(A,e,t,r){A|=0,e|=0,r|=0;var i,s,o,a,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0,b=0,w=0,y=0,T=0,C=0,R=0,P=0,x=0,M=0,k=0,I=0,L=0,F=0,N=0,G=0;if(a=B,B=B+112|0,i=a+80|0,f=a+72|0,s=a,o=a+56|0,0|(c=0|xe(t|=0)))return B=a,0|(G=c);if(!(G=0|Ye(32+(n[(d=A+8|0)>>2]<<5)|0)))return B=a,0|(G=13);if(Me(A,G),!(c=0|xe(t))){if(N=0|n[(F=A)+4>>2],n[(c=f)>>2]=n[F>>2],n[c+4>>2]=N,Pe(f,i),c=0|AA(i,e,s))F=0,N=0;else{if(c=0|n[f>>2],(0|(l=0|n[d>>2]))>0){u=0|n[A+12>>2],t=0;do{c=(0|n[u+(t<<3)>>2])+c|0,t=t+1|0}while((0|t)!=(0|l));t=c}else t=c;l=0|n[(c=s)>>2],(0|(c=0|n[c+4>>2]))<(0|(u=((0|t)<0)<<31>>31))|(0|c)==(0|u)&l>>>0<t>>>0?(n[(c=s)>>2]=t,n[c+4>>2]=u,c=u):t=l,F=0|$e(0|t,0|c,12,0),N=0|S(),n[(c=s)>>2]=F,n[c+4>>2]=N,c=0}if(!c){if(!(t=0|Ze(F,8)))return Ke(G),B=a,0|(G=13);if(!(h=0|Ze(F,8)))return Ke(G),Ke(t),B=a,0|(G=13);n[(I=i)>>2]=0,n[I+4>>2]=0,L=0|n[(I=A)+4>>2],n[(c=f)>>2]=n[I>>2],n[c+4>>2]=L,c=0|U(f,F,N,e,i,t,h);A:do{if(c)Ke(t),Ke(h),Ke(G);else{e:do{if((0|n[d>>2])>0){for(u=A+12|0,l=0;c=0|U((0|n[u>>2])+(l<<3)|0,F,N,e,i,t,h),l=l+1|0,!(0|c);)if((0|l)>=(0|n[d>>2]))break e;Ke(t),Ke(h),Ke(G);break A}}while(0);(0|N)>0|0==(0|N)&F>>>0>0&&ft(0|h,0,F<<3|0),I=0|n[(L=i)+4>>2];e:do{if((0|I)>0|0==(0|I)&(0|n[L>>2])>>>0>0){x=t,M=h,k=t,I=h,L=t,c=t,C=t,R=h,P=h,t=h;t:for(;;){for(b=0,w=0,y=0,T=0,l=0,u=0;;){f=(h=s)+56|0;do{n[h>>2]=0,h=h+4|0}while((0|h)<(0|f));if(0|D(d=0|n[(e=x+(b<<3)|0)>>2],e=0|n[e+4>>2],1,s,0)){f=(h=s)+56|0;do{n[h>>2]=0,h=h+4|0}while((0|h)<(0|f));0|(h=0|Ze(7,4))&&(O(d,e,1,s,h,7,0,0),Ke(h))}for(E=0;;){m=0|n[(v=s+(E<<3)|0)>>2],v=0|n[v+4>>2];r:do{if(0==(0|m)&0==(0|v))h=l,f=u;else{if(p=0|nt(0|m,0|v,0|F,0|N),d=0|S(),!(0==(0|(f=0|n[(e=h=r+(p<<3)|0)>>2]))&0==(0|(e=0|n[e+4>>2])))){g=0,_=0;do{if((0|g)>(0|N)|(0|g)==(0|N)&_>>>0>F>>>0)break t;if((0|f)==(0|m)&(0|e)==(0|v)){h=l,f=u;break r}p=0|rt(0|(h=0|$e(0|p,0|d,1,0)),0|S(),0|F,0|N),d=0|S(),_=0|$e(0|_,0|g,1,0),g=0|S(),f=0|n[(e=h=r+(p<<3)|0)>>2],e=0|n[e+4>>2]}while(!(0==(0|f)&0==(0|e)))}if(0==(0|m)&0==(0|v)){h=l,f=u;break}ee(m,v,o),0|ke(A,G,o)&&(_=0|$e(0|l,0|u,1,0),u=0|S(),n[(g=h)>>2]=m,n[g+4>>2]=v,n[(l=M+(l<<3)|0)>>2]=m,n[l+4>>2]=v,l=_),h=l,f=u}}while(0);if((E=E+1|0)>>>0>=7)break;l=h,u=f}if(b=0|$e(0|b,0|w,1,0),w=0|S(),y=0|$e(0|y,0|T,1,0),T=0|S(),l=0|n[(u=i)>>2],!((0|T)<(0|(u=0|n[u+4>>2]))|(0|T)==(0|u)&y>>>0<l>>>0))break;l=h,u=f}if((0|u)>0|0==(0|u)&l>>>0>0){l=0,u=0;do{n[(T=x+(l<<3)|0)>>2]=0,n[T+4>>2]=0,l=0|$e(0|l,0|u,1,0),u=0|S(),y=0|n[(T=i)+4>>2]}while((0|u)<(0|y)|((0|u)==(0|y)?l>>>0<(0|n[T>>2])>>>0:0))}if(n[(T=i)>>2]=h,n[T+4>>2]=f,!((0|f)>0|0==(0|f)&h>>>0>0))break e;E=t,b=P,w=L,y=R,T=M,t=C,P=c,R=k,C=E,c=b,L=I,I=w,k=y,M=x,x=T}Ke(k),Ke(I),Ke(G),c=1;break A}c=h}while(0);Ke(G),Ke(t),Ke(c),c=0}}while(0);return B=a,0|(G=c)}}return Ke(G),B=a,0|(G=c)},_polygonToCellsExperimental:function(A,e,t,r,i,s){r|=0,i|=0,s|=0;var o,a,c,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0;c=B,B=B+160|0,u=c+64|0,d=c+112|0,_=c,Te(f=c+80|0,A|=0,e|=0,t|=0),ne(u,0|n[(h=f)>>2],0|n[h+4>>2],e),o=0|n[(h=u)>>2],h=0|n[h+4>>2],l=0|n[f+8>>2],n[(p=d+4|0)>>2]=n[f>>2],n[p+4>>2]=n[f+4>>2],n[p+8>>2]=n[f+8>>2],n[p+12>>2]=n[f+12>>2],n[p+16>>2]=n[f+16>>2],n[p+20>>2]=n[f+20>>2],n[p+24>>2]=n[f+24>>2],n[p+28>>2]=n[f+28>>2],n[(p=_)>>2]=o,n[p+4>>2]=h,n[(p=_+8|0)>>2]=l,e=d,t=(A=_+12|0)+36|0;do{n[A>>2]=n[e>>2],A=A+4|0,e=e+4|0}while((0|A)<(0|t));if(n[(d=_+48|0)>>2]=n[u>>2],n[d+4>>2]=n[u+4>>2],n[d+8>>2]=n[u+8>>2],n[d+12>>2]=n[u+12>>2],0==(0|o)&0==(0|h))return B=c,0|(_=l);t=_+16|0,a=_+24|0,f=_+28|0,l=0,u=0,e=o,A=h;do{if(!((0|l)<(0|i)|(0|l)==(0|i)&u>>>0<r>>>0)){g=4;break}if(h=u,u=0|$e(0|u,0|l,1,0),l=0|S(),n[(h=s+(h<<3)|0)>>2]=e,n[h+4>>2]=A,se(d),0==(0|(e=0|n[(A=d)>>2]))&0==(0|(A=0|n[A+4>>2]))){if(Se(t),0==(0|(A=0|n[(e=t)>>2]))&0==(0|(e=0|n[e+4>>2]))){g=10;break}ie(A,e,0|n[f>>2],d),e=0|n[(A=d)>>2],A=0|n[A+4>>2]}n[(h=_)>>2]=e,n[h+4>>2]=A}while(!(0==(0|e)&0==(0|A)));return 4==(0|g)?(0|(e=0|n[(A=_+40|0)>>2])&&Ke(e),n[(g=_+16|0)>>2]=0,n[g+4>>2]=0,n[a>>2]=0,n[_+36>>2]=0,n[f>>2]=-1,n[_+32>>2]=0,n[A>>2]=0,ie(0,0,0,d),n[_>>2]=0,n[_+4>>2]=0,n[p>>2]=0,B=c,0|(_=14)):(10==(0|g)&&(n[_>>2]=0,n[_+4>>2]=0,n[p>>2]=n[a>>2]),_=0|n[p>>2],B=c,0|_)},_readInt64AsDoubleFromPointer:function(A){return+(+((0|n[(A|=0)>>2])>>>0)+4294967296*+(0|n[A+4>>2]))},_res0CellCount:function(){return 122},_round:dt,_sbrk:pt,_sizeOfCellBoundary:function(){return 168},_sizeOfCoordIJ:function(){return 8},_sizeOfGeoLoop:function(){return 8},_sizeOfGeoPolygon:function(){return 16},_sizeOfH3Index:function(){return 8},_sizeOfLatLng:function(){return 16},_sizeOfLinkedGeoPolygon:function(){return 12},_uncompactCells:function(A,e,t,r,i,s,o){A|=0,r|=0,i|=0,s|=0;var a,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0;if(a=B,B=B+16|0,g=a,!((0|(t|=0))>0|0==(0|t)&(e|=0)>>>0>0))return B=a,0|(g=0);if((0|(o|=0))>=16)return B=a,0|(g=12);d=0,p=0,f=0,c=0;A:for(;;){if(h=0|st(0|(l=0|n[(u=A+(d<<3)|0)>>2]),0|(u=0|n[u+4>>2]),52),S(),(15&h|0)>(0|o)){c=12,l=11;break}if(ne(g,l,u,o),0==(0|(u=0|n[(h=g)>>2]))&0==(0|(h=0|n[h+4>>2])))l=f;else{l=f;do{if(!((0|c)<(0|s)|(0|c)==(0|s)&l>>>0<i>>>0)){l=10;break A}n[(f=r+(l<<3)|0)>>2]=u,n[f+4>>2]=h,l=0|$e(0|l,0|c,1,0),c=0|S(),se(g),u=0|n[(f=g)>>2],h=0|n[f+4>>2]}while(!(0==(0|u)&0==(0|h)))}if(d=0|$e(0|d,0|p,1,0),!((0|(p=0|S()))<(0|t)|(0|p)==(0|t)&d>>>0<e>>>0)){c=0,l=11;break}f=l}return 10==(0|l)?(B=a,0|(g=14)):11==(0|l)?(B=a,0|c):0},_uncompactCellsSize:function(A,e,t,r,i){A|=0,e|=0,t|=0,r|=0,i|=0;var s,o,a=0,c=0,l=0,u=0,h=0,f=0;o=B,B=B+16|0,s=o;A:do{if((0|t)>0|0==(0|t)&e>>>0>0){for(h=0,c=0,a=0,f=0;;){if(!(0==(0|(l=0|n[(u=A+(h<<3)|0)>>2]))&0==(0|(u=0|n[u+4>>2]))||(u=0==(0|VA(l,u,r,s)),c=0|$e(0|n[(l=s)>>2],0|n[l+4>>2],0|c,0|a),a=0|S(),u))){a=12;break}if(h=0|$e(0|h,0|f,1,0),!((0|(f=0|S()))<(0|t)|(0|f)==(0|t)&h>>>0<e>>>0))break A}return B=o,0|a}c=0,a=0}while(0);return n[i>>2]=c,n[i+4>>2]=a,B=o,0|(i=0)},_vertexToLatLng:function(A,e,t){t|=0;var r,i,s,o,a=0,c=0;return o=B,B=B+192|0,i=o,s=o+168|0,a=0|st(0|(A|=0),0|(e|=0),56),S(),a&=7,0|(r=0|Ae(A,c=-2130706433&e|134217728,s))?(B=o,0|(c=r)):(e=0|st(0|A,0|e,52),S(),e&=15,0|QA(A,c)?BA(s,e,a,1,i):OA(s,e,a,1,i),c=i+8|0,n[t>>2]=n[c>>2],n[t+4>>2]=n[c+4>>2],n[t+8>>2]=n[c+8>>2],n[t+12>>2]=n[c+12>>2],B=o,0|(c=0))},establishStackSpace:function(A,e){B=A|=0},stackAlloc:function(A){var e;return e=B,B=(B=B+(A|=0)|0)+15&-16,0|e},stackRestore:function(A){B=A|=0},stackSave:function(){return 0|B}}}({Math:Math,Int8Array:Int8Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Float32Array:Float32Array,Float64Array:Float64Array},{a:oA,b:function(A){c=A},c:function(){return c},d:function(A,e,t,r){oA("Assertion failed: "+d(A)+", at: "+[e?d(e):"unknown filename",t,r?d(r):"unknown function"])},e:function(A){return t.___errno_location&&(v[t.___errno_location()>>2]=A),A},f:W,g:function(A,e,t){_.set(_.subarray(e,e+t),A)},h:function(A){var e=W(),t=16777216,r=2130706432;if(A>r)return!1;for(var n=Math.max(e,16777216);n<A;)n=n<=536870912?w(2*n,t):Math.min(w((3*n+2147483648)/4,t),r);return!!H(n)},i:function(A){oA("OOM")},j:V,k:Q,l:H,m:j,n:function(){var A=j();return t.extraStackTrace&&(A+="\n"+t.extraStackTrace()),Q(A)},o:28624,p:28608},p),q=(t.___divdi3=$.___divdi3,t.___muldi3=$.___muldi3,t.___remdi3=$.___remdi3,t.___uremdi3=$.___uremdi3,t._areNeighborCells=$._areNeighborCells,t._bitshift64Ashr=$._bitshift64Ashr,t._bitshift64Lshr=$._bitshift64Lshr,t._bitshift64Shl=$._bitshift64Shl,t._calloc=$._calloc,t._cellAreaKm2=$._cellAreaKm2,t._cellAreaM2=$._cellAreaM2,t._cellAreaRads2=$._cellAreaRads2,t._cellToBoundary=$._cellToBoundary,t._cellToCenterChild=$._cellToCenterChild,t._cellToChildPos=$._cellToChildPos,t._cellToChildren=$._cellToChildren,t._cellToChildrenSize=$._cellToChildrenSize,t._cellToLatLng=$._cellToLatLng,t._cellToLocalIj=$._cellToLocalIj,t._cellToParent=$._cellToParent,t._cellToVertex=$._cellToVertex,t._cellToVertexes=$._cellToVertexes,t._cellsToDirectedEdge=$._cellsToDirectedEdge,t._cellsToLinkedMultiPolygon=$._cellsToLinkedMultiPolygon,t._childPosToCell=$._childPosToCell,t._compactCells=$._compactCells,t._destroyLinkedMultiPolygon=$._destroyLinkedMultiPolygon,t._directedEdgeToBoundary=$._directedEdgeToBoundary,t._directedEdgeToCells=$._directedEdgeToCells,t._edgeLengthKm=$._edgeLengthKm,t._edgeLengthM=$._edgeLengthM,t._edgeLengthRads=$._edgeLengthRads,t._emscripten_replace_memory=$._emscripten_replace_memory),J=(t._free=$._free,t._getBaseCellNumber=$._getBaseCellNumber,t._getDirectedEdgeDestination=$._getDirectedEdgeDestination,t._getDirectedEdgeOrigin=$._getDirectedEdgeOrigin,t._getHexagonAreaAvgKm2=$._getHexagonAreaAvgKm2,t._getHexagonAreaAvgM2=$._getHexagonAreaAvgM2,t._getHexagonEdgeLengthAvgKm=$._getHexagonEdgeLengthAvgKm,t._getHexagonEdgeLengthAvgM=$._getHexagonEdgeLengthAvgM,t._getIcosahedronFaces=$._getIcosahedronFaces,t._getNumCells=$._getNumCells,t._getPentagons=$._getPentagons,t._getRes0Cells=$._getRes0Cells,t._getResolution=$._getResolution,t._greatCircleDistanceKm=$._greatCircleDistanceKm,t._greatCircleDistanceM=$._greatCircleDistanceM,t._greatCircleDistanceRads=$._greatCircleDistanceRads,t._gridDisk=$._gridDisk,t._gridDiskDistances=$._gridDiskDistances,t._gridDistance=$._gridDistance,t._gridPathCells=$._gridPathCells,t._gridPathCellsSize=$._gridPathCellsSize,t._gridRingUnsafe=$._gridRingUnsafe,t._i64Add=$._i64Add,t._i64Subtract=$._i64Subtract,t._isPentagon=$._isPentagon,t._isResClassIII=$._isResClassIII,t._isValidCell=$._isValidCell,t._isValidDirectedEdge=$._isValidDirectedEdge,t._isValidVertex=$._isValidVertex,t._latLngToCell=$._latLngToCell,t._llvm_ctlz_i64=$._llvm_ctlz_i64,t._llvm_maxnum_f64=$._llvm_maxnum_f64,t._llvm_minnum_f64=$._llvm_minnum_f64,t._llvm_round_f64=$._llvm_round_f64,t._localIjToCell=$._localIjToCell,t._malloc=$._malloc,t._maxFaceCount=$._maxFaceCount,t._maxGridDiskSize=$._maxGridDiskSize,t._maxPolygonToCellsSize=$._maxPolygonToCellsSize,t._maxPolygonToCellsSizeExperimental=$._maxPolygonToCellsSizeExperimental,t._memcpy=$._memcpy,t._memset=$._memset,t._originToDirectedEdges=$._originToDirectedEdges,t._pentagonCount=$._pentagonCount,t._polygonToCells=$._polygonToCells,t._polygonToCellsExperimental=$._polygonToCellsExperimental,t._readInt64AsDoubleFromPointer=$._readInt64AsDoubleFromPointer,t._res0CellCount=$._res0CellCount,t._round=$._round,t._sbrk=$._sbrk,t._sizeOfCellBoundary=$._sizeOfCellBoundary,t._sizeOfCoordIJ=$._sizeOfCoordIJ,t._sizeOfGeoLoop=$._sizeOfGeoLoop,t._sizeOfGeoPolygon=$._sizeOfGeoPolygon,t._sizeOfH3Index=$._sizeOfH3Index,t._sizeOfLatLng=$._sizeOfLatLng,t._sizeOfLinkedGeoPolygon=$._sizeOfLinkedGeoPolygon,t._uncompactCells=$._uncompactCells,t._uncompactCellsSize=$._uncompactCellsSize,t._vertexToLatLng=$._vertexToLatLng,t.establishStackSpace=$.establishStackSpace,t.stackAlloc=$.stackAlloc),AA=t.stackRestore=$.stackRestore,eA=t.stackSave=$.stackSave;if(t.asm=$,t.cwrap=function(A,e,t,r){var n=(t=t||[]).every((function(A){return"number"===A}));return"string"!==e&&n&&!r?u(A):function(){return h(A,e,t,arguments)}},t.setValue=function(A,e,t,r){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":g[A>>0]=e;break;case"i16":m[A>>1]=e;break;case"i32":v[A>>2]=e;break;case"i64":N=[e>>>0,(F=e,+M(F)>=1?F>0?(0|I(+B(F/4294967296),4294967295))>>>0:~~+k((F-+(~~F>>>0))/4294967296)>>>0:0)],v[A>>2]=N[0],v[A+4>>2]=N[1];break;case"float":E[A>>2]=e;break;case"double":b[A>>3]=e;break;default:oA("invalid type for setValue: "+t)}},t.getValue=function(A,e,t){switch("*"===(e=e||"i8").charAt(e.length-1)&&(e="i32"),e){case"i1":case"i8":return g[A>>0];case"i16":return m[A>>1];case"i32":case"i64":return v[A>>2];case"float":return E[A>>2];case"double":return b[A>>3];default:oA("invalid type for getValue: "+e)}return null},U){z(U)||(K=U,U=t.locateFile?t.locateFile(K,s):s+K),L++,t.monitorRunDependencies&&t.monitorRunDependencies(L);var tA=function(A){A.byteLength&&(A=new Uint8Array(A)),_.set(A,8),t.memoryInitializerRequest&&delete t.memoryInitializerRequest.response,function(A){if(L--,t.monitorRunDependencies&&t.monitorRunDependencies(L),0==L&&(null!==D&&(clearInterval(D),D=null),O)){var e=O;O=null,e()}}()},rA=function(){n(U,tA,(function(){throw"could not load memory initializer "+U}))},nA=Y(U);if(nA)tA(nA.buffer);else if(t.memoryInitializerRequest){var iA=function(){var A=t.memoryInitializerRequest,e=A.response;if(200!==A.status&&0!==A.status){var r=Y(t.memoryInitializerRequestURL);if(!r)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+A.status+", retrying "+U),void rA();e=r.buffer}tA(e)};t.memoryInitializerRequest.response?setTimeout(iA,0):t.memoryInitializerRequest.addEventListener("load",iA)}else rA()}function sA(A){function e(){Z||(Z=!0,l||(S(R),S(P),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)A=t.postRun.shift(),x.unshift(A);var A;S(x)}()))}A=A||i,L>0||(!function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)A=t.preRun.shift(),C.unshift(A);var A;S(C)}(),L>0||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e()))}function oA(A){throw t.onAbort&&t.onAbort(A),o(A+=""),a(A),l=!0,"abort("+A+"). Build with -s ASSERTIONS=1 for more info."}if(O=function A(){Z||sA(),Z||(O=A)},t.run=sA,t.abort=oA,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return sA(),A}("object"==typeof r?r:{}),n="number",i={0:"Success",1:"The operation failed but a more specific error is not available",2:"Argument was outside of acceptable range",3:"Latitude or longitude arguments were outside of acceptable range",4:"Resolution argument was outside of acceptable range",5:"Cell argument was not valid",6:"Directed edge argument was not valid",7:"Undirected edge argument was not valid",8:"Vertex argument was not valid",9:"Pentagon distortion was encountered",10:"Duplicate input",11:"Cell arguments were not neighbors",12:"Cell arguments had incompatible resolutions",13:"Memory allocation failed",14:"Bounds of provided memory were insufficient",15:"Mode or flags argument was not valid"},s=1e3,o={1e3:"Unknown unit",1001:"Array length out of bounds",1002:"Got unexpected null value for H3 index"};function a(A,e,t){var r=t&&"value"in t,n=new Error((A[e]||"Unknown error")+" (code: "+e+(r?", value: "+t.value:"")+")");return n.code=e,n}function c(A,e){var t=2===arguments.length?{value:e}:{};return a(i,A,t)}function l(A,e){var t=2===arguments.length?{value:e}:{};return a(o,A,t)}function u(A){if(0!==A)throw c(A)}var h={};[["sizeOfH3Index",n],["sizeOfLatLng",n],["sizeOfCellBoundary",n],["sizeOfGeoLoop",n],["sizeOfGeoPolygon",n],["sizeOfLinkedGeoPolygon",n],["sizeOfCoordIJ",n],["readInt64AsDoubleFromPointer",n],["isValidCell",n,[n,n]],["latLngToCell",n,[n,n,n,n]],["cellToLatLng",n,[n,n,n]],["cellToBoundary",n,[n,n,n]],["maxGridDiskSize",n,[n,n]],["gridDisk",n,[n,n,n,n]],["gridDiskDistances",n,[n,n,n,n,n]],["gridRingUnsafe",n,[n,n,n,n]],["maxPolygonToCellsSize",n,[n,n,n,n]],["polygonToCells",n,[n,n,n,n]],["maxPolygonToCellsSizeExperimental",n,[n,n,n,n]],["polygonToCellsExperimental",n,[n,n,n,n,n,n]],["cellsToLinkedMultiPolygon",n,[n,n,n]],["destroyLinkedMultiPolygon",null,[n]],["compactCells",n,[n,n,n,n]],["uncompactCells",n,[n,n,n,n,n,n]],["uncompactCellsSize",n,[n,n,n,n,n]],["isPentagon",n,[n,n]],["isResClassIII",n,[n,n]],["getBaseCellNumber",n,[n,n]],["getResolution",n,[n,n]],["maxFaceCount",n,[n,n,n]],["getIcosahedronFaces",n,[n,n,n]],["cellToParent",n,[n,n,n,n]],["cellToChildren",n,[n,n,n,n]],["cellToCenterChild",n,[n,n,n,n]],["cellToChildrenSize",n,[n,n,n,n]],["cellToChildPos",n,[n,n,n,n]],["childPosToCell",n,[n,n,n,n,n,n]],["areNeighborCells",n,[n,n,n,n,n]],["cellsToDirectedEdge",n,[n,n,n,n,n]],["getDirectedEdgeOrigin",n,[n,n,n]],["getDirectedEdgeDestination",n,[n,n,n]],["isValidDirectedEdge",n,[n,n]],["directedEdgeToCells",n,[n,n,n]],["originToDirectedEdges",n,[n,n,n]],["directedEdgeToBoundary",n,[n,n,n]],["gridDistance",n,[n,n,n,n,n]],["gridPathCells",n,[n,n,n,n,n]],["gridPathCellsSize",n,[n,n,n,n,n]],["cellToLocalIj",n,[n,n,n,n,n,n]],["localIjToCell",n,[n,n,n,n,n]],["getHexagonAreaAvgM2",n,[n,n]],["getHexagonAreaAvgKm2",n,[n,n]],["getHexagonEdgeLengthAvgM",n,[n,n]],["getHexagonEdgeLengthAvgKm",n,[n,n]],["greatCircleDistanceM",n,[n,n]],["greatCircleDistanceKm",n,[n,n]],["greatCircleDistanceRads",n,[n,n]],["cellAreaM2",n,[n,n,n]],["cellAreaKm2",n,[n,n,n]],["cellAreaRads2",n,[n,n,n]],["edgeLengthM",n,[n,n,n]],["edgeLengthKm",n,[n,n,n]],["edgeLengthRads",n,[n,n,n]],["getNumCells",n,[n,n]],["getRes0Cells",n,[n]],["res0CellCount",n],["getPentagons",n,[n,n]],["pentagonCount",n],["cellToVertex",n,[n,n,n,n]],["cellToVertexes",n,[n,n,n]],["vertexToLatLng",n,[n,n,n]],["isValidVertex",n,[n,n]]].forEach((function(A){h[A[0]]=r.cwrap.apply(r,A)}));var f=16,d=h.sizeOfH3Index(),p=h.sizeOfLatLng(),g=h.sizeOfCellBoundary(),_=h.sizeOfGeoPolygon(),m=h.sizeOfGeoLoop(),v=(h.sizeOfLinkedGeoPolygon(),h.sizeOfCoordIJ(),{m:"m",m2:"m2",km:"km",km2:"km2",rads:"rads",rads2:"rads2"});function E(A){if("number"!=typeof A||A<0||A>15||Math.floor(A)!==A)throw c(4,A);return A}function b(A){if(!A)throw l(1002);return A}var w=Math.pow(2,32)-1;function y(A){if(A>w)throw l(1001,A);return A}var T=/[^0-9a-fA-F]/;function S(A){if(Array.isArray(A)&&2===A.length&&Number.isInteger(A[0])&&Number.isInteger(A[1]))return A;if("string"!=typeof A||T.test(A))return[0,0];var e=parseInt(A.substring(0,A.length-8),f);return[parseInt(A.substring(A.length-8),f),e]}function C(A){if(A>=0)return A.toString(f);var e=R(8,(A&=2147483647).toString(f));return e=(parseInt(e[0],f)+8).toString(f)+e.substring(1)}function R(A,e){for(var t=A-e.length,r="",n=0;n<t;n++)r+="0";return r+=e}Math.pow(2,32);function P(A,e,t){for(var n=A.length,i=r._calloc(n,p),s=t?1:0,o=t?0:1,a=0;a<2*n;a+=2)r.HEAPF64.set([A[a/2][s],A[a/2][o]].map(iA),i/8+a);return r.HEAPU32.set([n,i],e/4),e}function x(A,e){var t,n=A.length-1,i=r._calloc(_),s=0+m,o=s+4;if(P(A[0],i+0,e),n>0){t=r._calloc(n,m);for(var a=0;a<n;a++)P(A[a+1],t+m*a,e)}return r.setValue(i+s,n,"i32"),r.setValue(i+o,t,"i32"),i}function M(A){var e=0+m,t=e+4;r._free(r.getValue(A+0+4,"i8*"));var n=r.getValue(A+e,"i32");if(n>0){for(var i=r.getValue(A+t,"i32"),s=0;s<n;s++)r._free(r.getValue(i+m*s+4,"i8*"));r._free(i)}r._free(A)}function k(A,e){void 0===e&&(e=0);var t=r.getValue(A+d*e,"i32"),n=r.getValue(A+d*e+4,"i32");return n?function(A,e){return C(e)+R(8,C(A))}(t,n):null}function B(A,e){return void 0===e&&(e=0),r.getValue(A+8*e,"double")}function I(A){return h.readInt64AsDoubleFromPointer(A)}function L(A,e,t){r.HEAPU32.set(S(A),e/4+2*t)}function D(A,e){for(var t=[],r=0;r<e;r++){var n=k(A,r);null!==n&&t.push(n)}return t}function O(A,e){for(var t=e.length,r=0;r<t;r++)L(e[r],A,r)}function F(A){return 180*r.getValue(A,"double")/Math.PI}function N(A){return[F(A),F(A+8)]}function U(A){return[F(A+8),F(A)]}function G(A,e,t){for(var n=r.getValue(A,"i32"),i=A+8,s=[],o=e?U:N,a=0;a<2*n;a+=2)s.push(o(i+8*a));return t&&s.push(s[0]),s}function z(A){var e=S(A),t=e[0],r=e[1];return Boolean(h.isValidCell(t,r))}function V(A){var e=S(A),t=e[0],r=e[1];return Boolean(h.isPentagon(t,r))}function Q(A){var e=S(A),t=e[0],r=e[1];return h.getBaseCellNumber(t,r)}function j(A){var e=S(A),t=e[0],n=e[1],i=r._malloc(4);try{u(h.maxFaceCount(t,n,i));var s=r.getValue(i,"i32"),o=r._malloc(4*s);try{return u(h.getIcosahedronFaces(t,n,o)),function(A,e){for(var t=[],n=0;n<e;n++){var i=r.getValue(A+4*n,"i32");i>=0&&t.push(i)}return t}(o,s)}finally{r._free(o)}}finally{r._free(i)}}function W(A){var e=S(A),t=e[0],r=e[1];return h.isValidCell(t,r)?h.getResolution(t,r):-1}function H(A,e,t){var n=r._malloc(p);r.HEAPF64.set([A,e].map(iA),n/8);var i=r._malloc(d);try{return u(h.latLngToCell(n,t,i)),b(k(i))}finally{r._free(i),r._free(n)}}function X(A){var e=r._malloc(p),t=S(A),n=t[0],i=t[1];try{return u(h.cellToLatLng(n,i,e)),N(e)}finally{r._free(e)}}function Y(A,e){var t=r._malloc(g),n=S(A),i=n[0],s=n[1];try{return u(h.cellToBoundary(i,s,t)),G(t,e,e)}finally{r._free(t)}}function K(A,e){var t=S(A),n=t[0],i=t[1],s=r._malloc(d);try{return u(h.cellToParent(n,i,e,s)),b(k(s))}finally{r._free(s)}}function Z(A,e){if(!z(A))return[];var t=S(A),n=t[0],i=t[1],s=y(function(A,e){if(!z(A))throw c(5);var t=S(A),n=t[0],i=t[1],s=r._malloc(8);try{return u(h.cellToChildrenSize(n,i,e,s)),I(s)}finally{r._free(s)}}(A,e)),o=r._calloc(s,d);try{return u(h.cellToChildren(n,i,e,o)),D(o,s)}finally{r._free(o)}}function $(A,e){var t=S(A),n=t[0],i=t[1],s=r._malloc(8);try{u(h.maxGridDiskSize(e,s));var o=y(I(s)),a=r._calloc(o,d);try{return u(h.gridDisk(n,i,e,a)),D(a,o)}finally{r._free(a)}}finally{r._free(s)}}function q(A,e,t){if(E(e),t=Boolean(t),0===A.length||0===A[0].length)return[];var n=x("number"==typeof A[0][0]?[A]:A,t),i=r._malloc(8);try{u(h.maxPolygonToCellsSize(n,e,0,i));var s=y(I(i)),o=r._calloc(s,d);try{return u(h.polygonToCells(n,e,0,o)),D(o,s)}finally{r._free(o)}}finally{r._free(i),M(n)}}function J(A,e){if(E(e),!A||!A.length)return[];var t=A.length,n=r._calloc(t,d);O(n,A);var i=r._malloc(8);try{u(h.uncompactCellsSize(n,t,0,e,i));var s=y(I(i)),o=r._calloc(s,d);try{return u(h.uncompactCells(n,t,0,o,s,0,e)),D(o,s)}finally{r._free(n),r._free(o)}}finally{r._free(i)}}function AA(A){var e=S(A),t=e[0],n=e[1],i=r._calloc(6,d);try{return u(h.originToDirectedEdges(t,n,i)),D(i,6)}finally{r._free(i)}}function eA(A,e){var t=S(A),n=t[0],i=t[1],o=r._malloc(8);try{switch(e){case v.m2:u(h.cellAreaM2(n,i,o));break;case v.km2:u(h.cellAreaKm2(n,i,o));break;case v.rads2:u(h.cellAreaRads2(n,i,o));break;default:throw l(s,e)}return B(o)}finally{r._free(o)}}function tA(A,e){var t=S(A),n=t[0],i=t[1],o=r._malloc(8);try{switch(e){case v.m:u(h.edgeLengthM(n,i,o));break;case v.km:u(h.edgeLengthKm(n,i,o));break;case v.rads:u(h.edgeLengthRads(n,i,o));break;default:throw l(s,e)}return B(o)}finally{r._free(o)}}function rA(A,e){E(A);var t=r._malloc(8);try{switch(e){case v.m2:u(h.getHexagonAreaAvgM2(A,t));break;case v.km2:u(h.getHexagonAreaAvgKm2(A,t));break;default:throw l(s,e)}return B(t)}finally{r._free(t)}}function nA(){var A=h.res0CellCount(),e=r._malloc(d*A);try{return u(h.getRes0Cells(e)),D(e,A)}finally{r._free(e)}}function iA(A){return A*Math.PI/180}},7168:(A,e,t)=>{var r;!function(n,i,s,o){"use strict";var a,c=["","webkit","Moz","MS","ms","o"],l=i.createElement("div"),u=Math.round,h=Math.abs,f=Date.now;function d(A,e,t){return setTimeout(b(A,t),e)}function p(A,e,t){return!!Array.isArray(A)&&(g(A,t[e],t),!0)}function g(A,e,t){var r;if(A)if(A.forEach)A.forEach(e,t);else if(A.length!==o)for(r=0;r<A.length;)e.call(t,A[r],r,A),r++;else for(r in A)A.hasOwnProperty(r)&&e.call(t,A[r],r,A)}function _(A,e,t){var r="DEPRECATED METHOD: "+e+"\n"+t+" AT \n";return function(){var e=new Error("get-stack-trace"),t=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=n.console&&(n.console.warn||n.console.log);return i&&i.call(n.console,r,t),A.apply(this,arguments)}}a="function"!=typeof Object.assign?function(A){if(A===o||null===A)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(A),t=1;t<arguments.length;t++){var r=arguments[t];if(r!==o&&null!==r)for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}return e}:Object.assign;var m=_((function(A,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&A[r[n]]===o)&&(A[r[n]]=e[r[n]]),n++;return A}),"extend","Use `assign`."),v=_((function(A,e){return m(A,e,!0)}),"merge","Use `assign`.");function E(A,e,t){var r,n=e.prototype;(r=A.prototype=Object.create(n)).constructor=A,r._super=n,t&&a(r,t)}function b(A,e){return function(){return A.apply(e,arguments)}}function w(A,e){return"function"==typeof A?A.apply(e&&e[0]||o,e):A}function y(A,e){return A===o?e:A}function T(A,e,t){g(P(e),(function(e){A.addEventListener(e,t,!1)}))}function S(A,e,t){g(P(e),(function(e){A.removeEventListener(e,t,!1)}))}function C(A,e){for(;A;){if(A==e)return!0;A=A.parentNode}return!1}function R(A,e){return A.indexOf(e)>-1}function P(A){return A.trim().split(/\s+/g)}function x(A,e,t){if(A.indexOf&&!t)return A.indexOf(e);for(var r=0;r<A.length;){if(t&&A[r][t]==e||!t&&A[r]===e)return r;r++}return-1}function M(A){return Array.prototype.slice.call(A,0)}function k(A,e,t){for(var r=[],n=[],i=0;i<A.length;){var s=e?A[i][e]:A[i];x(n,s)<0&&r.push(A[i]),n[i]=s,i++}return t&&(r=e?r.sort((function(A,t){return A[e]>t[e]})):r.sort()),r}function B(A,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),i=0;i<c.length;){if((r=(t=c[i])?t+n:e)in A)return r;i++}return o}var I=1;function L(A){var e=A.ownerDocument||A;return e.defaultView||e.parentWindow||n}var D="ontouchstart"in n,O=B(n,"PointerEvent")!==o,F=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N="touch",U="mouse",G=24,z=["x","y"],V=["clientX","clientY"];function Q(A,e){var t=this;this.manager=A,this.callback=e,this.element=A.element,this.target=A.options.inputTarget,this.domHandler=function(e){w(A.options.enable,[A])&&t.handler(e)},this.init()}function j(A,e,t){var r=t.pointers.length,n=t.changedPointers.length,i=1&e&&r-n==0,s=12&e&&r-n==0;t.isFirst=!!i,t.isFinal=!!s,i&&(A.session={}),t.eventType=e,function(A,e){var t=A.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=W(e));n>1&&!t.firstMultiple?t.firstMultiple=W(e):1===n&&(t.firstMultiple=!1);var i=t.firstInput,s=t.firstMultiple,a=s?s.center:i.center,c=e.center=H(r);e.timeStamp=f(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=Z(a,c),e.distance=K(a,c),function(A,e){var t=e.center,r=A.offsetDelta||{},n=A.prevDelta||{},i=A.prevInput||{};1!==e.eventType&&4!==i.eventType||(n=A.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=A.offsetDelta={x:t.x,y:t.y});e.deltaX=n.x+(t.x-r.x),e.deltaY=n.y+(t.y-r.y)}(t,e),e.offsetDirection=Y(e.deltaX,e.deltaY);var l=X(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=h(l.x)>h(l.y)?l.x:l.y,e.scale=s?(u=s.pointers,d=r,K(d[0],d[1],V)/K(u[0],u[1],V)):1,e.rotation=s?function(A,e){return Z(e[1],e[0],V)+Z(A[1],A[0],V)}(s.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,function(A,e){var t,r,n,i,s=A.lastInterval||e,a=e.timeStamp-s.timeStamp;if(8!=e.eventType&&(a>25||s.velocity===o)){var c=e.deltaX-s.deltaX,l=e.deltaY-s.deltaY,u=X(a,c,l);r=u.x,n=u.y,t=h(u.x)>h(u.y)?u.x:u.y,i=Y(c,l),A.lastInterval=e}else t=s.velocity,r=s.velocityX,n=s.velocityY,i=s.direction;e.velocity=t,e.velocityX=r,e.velocityY=n,e.direction=i}(t,e);var u,d;var p=A.element;C(e.srcEvent.target,p)&&(p=e.srcEvent.target);e.target=p}(A,t),A.emit("hammer.input",t),A.recognize(t),A.session.prevInput=t}function W(A){for(var e=[],t=0;t<A.pointers.length;)e[t]={clientX:u(A.pointers[t].clientX),clientY:u(A.pointers[t].clientY)},t++;return{timeStamp:f(),pointers:e,center:H(e),deltaX:A.deltaX,deltaY:A.deltaY}}function H(A){var e=A.length;if(1===e)return{x:u(A[0].clientX),y:u(A[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=A[n].clientX,r+=A[n].clientY,n++;return{x:u(t/e),y:u(r/e)}}function X(A,e,t){return{x:e/A||0,y:t/A||0}}function Y(A,e){return A===e?1:h(A)>=h(e)?A<0?2:4:e<0?8:16}function K(A,e,t){t||(t=z);var r=e[t[0]]-A[t[0]],n=e[t[1]]-A[t[1]];return Math.sqrt(r*r+n*n)}function Z(A,e,t){t||(t=z);var r=e[t[0]]-A[t[0]],n=e[t[1]]-A[t[1]];return 180*Math.atan2(n,r)/Math.PI}Q.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(L(this.element),this.evWin,this.domHandler)}};var $={mousedown:1,mousemove:2,mouseup:4},q="mousedown",J="mousemove mouseup";function AA(){this.evEl=q,this.evWin=J,this.pressed=!1,Q.apply(this,arguments)}E(AA,Q,{handler:function(A){var e=$[A.type];1&e&&0===A.button&&(this.pressed=!0),2&e&&1!==A.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[A],changedPointers:[A],pointerType:U,srcEvent:A}))}});var eA={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},tA={2:N,3:"pen",4:U,5:"kinect"},rA="pointerdown",nA="pointermove pointerup pointercancel";function iA(){this.evEl=rA,this.evWin=nA,Q.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}n.MSPointerEvent&&!n.PointerEvent&&(rA="MSPointerDown",nA="MSPointerMove MSPointerUp MSPointerCancel"),E(iA,Q,{handler:function(A){var e=this.store,t=!1,r=A.type.toLowerCase().replace("ms",""),n=eA[r],i=tA[A.pointerType]||A.pointerType,s=i==N,o=x(e,A.pointerId,"pointerId");1&n&&(0===A.button||s)?o<0&&(e.push(A),o=e.length-1):12&n&&(t=!0),o<0||(e[o]=A,this.callback(this.manager,n,{pointers:e,changedPointers:[A],pointerType:i,srcEvent:A}),t&&e.splice(o,1))}});var sA={touchstart:1,touchmove:2,touchend:4,touchcancel:8},oA="touchstart",aA="touchstart touchmove touchend touchcancel";function cA(){this.evTarget=oA,this.evWin=aA,this.started=!1,Q.apply(this,arguments)}function lA(A,e){var t=M(A.touches),r=M(A.changedTouches);return 12&e&&(t=k(t.concat(r),"identifier",!0)),[t,r]}E(cA,Q,{handler:function(A){var e=sA[A.type];if(1===e&&(this.started=!0),this.started){var t=lA.call(this,A,e);12&e&&t[0].length-t[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:t[0],changedPointers:t[1],pointerType:N,srcEvent:A})}}});var uA={touchstart:1,touchmove:2,touchend:4,touchcancel:8},hA="touchstart touchmove touchend touchcancel";function fA(){this.evTarget=hA,this.targetIds={},Q.apply(this,arguments)}function dA(A,e){var t=M(A.touches),r=this.targetIds;if(3&e&&1===t.length)return r[t[0].identifier]=!0,[t,t];var n,i,s=M(A.changedTouches),o=[],a=this.target;if(i=t.filter((function(A){return C(A.target,a)})),1===e)for(n=0;n<i.length;)r[i[n].identifier]=!0,n++;for(n=0;n<s.length;)r[s[n].identifier]&&o.push(s[n]),12&e&&delete r[s[n].identifier],n++;return o.length?[k(i.concat(o),"identifier",!0),o]:void 0}E(fA,Q,{handler:function(A){var e=uA[A.type],t=dA.call(this,A,e);t&&this.callback(this.manager,e,{pointers:t[0],changedPointers:t[1],pointerType:N,srcEvent:A})}});function pA(){Q.apply(this,arguments);var A=b(this.handler,this);this.touch=new fA(this.manager,A),this.mouse=new AA(this.manager,A),this.primaryTouch=null,this.lastTouches=[]}function gA(A,e){1&A?(this.primaryTouch=e.changedPointers[0].identifier,_A.call(this,e)):12&A&&_A.call(this,e)}function _A(A){var e=A.changedPointers[0];if(e.identifier===this.primaryTouch){var t={x:e.clientX,y:e.clientY};this.lastTouches.push(t);var r=this.lastTouches;setTimeout((function(){var A=r.indexOf(t);A>-1&&r.splice(A,1)}),2500)}}function mA(A){for(var e=A.srcEvent.clientX,t=A.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],i=Math.abs(e-n.x),s=Math.abs(t-n.y);if(i<=25&&s<=25)return!0}return!1}E(pA,Q,{handler:function(A,e,t){var r=t.pointerType==N,n=t.pointerType==U;if(!(n&&t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents)){if(r)gA.call(this,e,t);else if(n&&mA.call(this,t))return;this.callback(A,e,t)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var vA=B(l.style,"touchAction"),EA=vA!==o,bA="compute",wA="auto",yA="manipulation",TA="none",SA="pan-x",CA="pan-y",RA=function(){if(!EA)return!1;var A={},e=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(t){A[t]=!e||n.CSS.supports("touch-action",t)})),A}();function PA(A,e){this.manager=A,this.set(e)}PA.prototype={set:function(A){A==bA&&(A=this.compute()),EA&&this.manager.element.style&&RA[A]&&(this.manager.element.style[vA]=A),this.actions=A.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var A=[];return g(this.manager.recognizers,(function(e){w(e.options.enable,[e])&&(A=A.concat(e.getTouchAction()))})),function(A){if(R(A,TA))return TA;var e=R(A,SA),t=R(A,CA);if(e&&t)return TA;if(e||t)return e?SA:CA;if(R(A,yA))return yA;return wA}(A.join(" "))},preventDefaults:function(A){var e=A.srcEvent,t=A.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,n=R(r,TA)&&!RA.none,i=R(r,CA)&&!RA["pan-y"],s=R(r,SA)&&!RA["pan-x"];if(n){var o=1===A.pointers.length,a=A.distance<2,c=A.deltaTime<250;if(o&&a&&c)return}if(!s||!i)return n||i&&6&t||s&&t&G?this.preventSrc(e):void 0}},preventSrc:function(A){this.manager.session.prevented=!0,A.preventDefault()}};var xA=32;function MA(A){this.options=a({},this.defaults,A||{}),this.id=I++,this.manager=null,this.options.enable=y(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function kA(A){return 16&A?"cancel":8&A?"end":4&A?"move":2&A?"start":""}function BA(A){return 16==A?"down":8==A?"up":2==A?"left":4==A?"right":""}function IA(A,e){var t=e.manager;return t?t.get(A):A}function LA(){MA.apply(this,arguments)}function DA(){LA.apply(this,arguments),this.pX=null,this.pY=null}function OA(){LA.apply(this,arguments)}function FA(){MA.apply(this,arguments),this._timer=null,this._input=null}function NA(){LA.apply(this,arguments)}function UA(){LA.apply(this,arguments)}function GA(){MA.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function zA(A,e){return(e=e||{}).recognizers=y(e.recognizers,zA.defaults.preset),new VA(A,e)}MA.prototype={defaults:{},set:function(A){return a(this.options,A),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(A){if(p(A,"recognizeWith",this))return this;var e=this.simultaneous;return e[(A=IA(A,this)).id]||(e[A.id]=A,A.recognizeWith(this)),this},dropRecognizeWith:function(A){return p(A,"dropRecognizeWith",this)||(A=IA(A,this),delete this.simultaneous[A.id]),this},requireFailure:function(A){if(p(A,"requireFailure",this))return this;var e=this.requireFail;return-1===x(e,A=IA(A,this))&&(e.push(A),A.requireFailure(this)),this},dropRequireFailure:function(A){if(p(A,"dropRequireFailure",this))return this;A=IA(A,this);var e=x(this.requireFail,A);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(A){return!!this.simultaneous[A.id]},emit:function(A){var e=this,t=this.state;function r(t){e.manager.emit(t,A)}t<8&&r(e.options.event+kA(t)),r(e.options.event),A.additionalEvent&&r(A.additionalEvent),t>=8&&r(e.options.event+kA(t))},tryEmit:function(A){if(this.canEmit())return this.emit(A);this.state=xA},canEmit:function(){for(var A=0;A<this.requireFail.length;){if(!(33&this.requireFail[A].state))return!1;A++}return!0},recognize:function(A){var e=a({},A);if(!w(this.options.enable,[this,e]))return this.reset(),void(this.state=xA);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(A){},getTouchAction:function(){},reset:function(){}},E(LA,MA,{defaults:{pointers:1},attrTest:function(A){var e=this.options.pointers;return 0===e||A.pointers.length===e},process:function(A){var e=this.state,t=A.eventType,r=6&e,n=this.attrTest(A);return r&&(8&t||!n)?16|e:r||n?4&t?8|e:2&e?4|e:2:xA}}),E(DA,LA,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var A=this.options.direction,e=[];return 6&A&&e.push(CA),A&G&&e.push(SA),e},directionTest:function(A){var e=this.options,t=!0,r=A.distance,n=A.direction,i=A.deltaX,s=A.deltaY;return n&e.direction||(6&e.direction?(n=0===i?1:i<0?2:4,t=i!=this.pX,r=Math.abs(A.deltaX)):(n=0===s?1:s<0?8:16,t=s!=this.pY,r=Math.abs(A.deltaY))),A.direction=n,t&&r>e.threshold&&n&e.direction},attrTest:function(A){return LA.prototype.attrTest.call(this,A)&&(2&this.state||!(2&this.state)&&this.directionTest(A))},emit:function(A){this.pX=A.deltaX,this.pY=A.deltaY;var e=BA(A.direction);e&&(A.additionalEvent=this.options.event+e),this._super.emit.call(this,A)}}),E(OA,LA,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[TA]},attrTest:function(A){return this._super.attrTest.call(this,A)&&(Math.abs(A.scale-1)>this.options.threshold||2&this.state)},emit:function(A){if(1!==A.scale){var e=A.scale<1?"in":"out";A.additionalEvent=this.options.event+e}this._super.emit.call(this,A)}}),E(FA,MA,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[wA]},process:function(A){var e=this.options,t=A.pointers.length===e.pointers,r=A.distance<e.threshold,n=A.deltaTime>e.time;if(this._input=A,!r||!t||12&A.eventType&&!n)this.reset();else if(1&A.eventType)this.reset(),this._timer=d((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&A.eventType)return 8;return xA},reset:function(){clearTimeout(this._timer)},emit:function(A){8===this.state&&(A&&4&A.eventType?this.manager.emit(this.options.event+"up",A):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),E(NA,LA,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[TA]},attrTest:function(A){return this._super.attrTest.call(this,A)&&(Math.abs(A.rotation)>this.options.threshold||2&this.state)}}),E(UA,LA,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return DA.prototype.getTouchAction.call(this)},attrTest:function(A){var e,t=this.options.direction;return 30&t?e=A.overallVelocity:6&t?e=A.overallVelocityX:t&G&&(e=A.overallVelocityY),this._super.attrTest.call(this,A)&&t&A.offsetDirection&&A.distance>this.options.threshold&&A.maxPointers==this.options.pointers&&h(e)>this.options.velocity&&4&A.eventType},emit:function(A){var e=BA(A.offsetDirection);e&&this.manager.emit(this.options.event+e,A),this.manager.emit(this.options.event,A)}}),E(GA,MA,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[yA]},process:function(A){var e=this.options,t=A.pointers.length===e.pointers,r=A.distance<e.threshold,n=A.deltaTime<e.time;if(this.reset(),1&A.eventType&&0===this.count)return this.failTimeout();if(r&&n&&t){if(4!=A.eventType)return this.failTimeout();var i=!this.pTime||A.timeStamp-this.pTime<e.interval,s=!this.pCenter||K(this.pCenter,A.center)<e.posThreshold;if(this.pTime=A.timeStamp,this.pCenter=A.center,s&&i?this.count+=1:this.count=1,this._input=A,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=d((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return xA},failTimeout:function(){return this._timer=d((function(){this.state=xA}),this.options.interval,this),xA},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),zA.VERSION="2.0.7",zA.defaults={domEvents:!1,touchAction:bA,enable:!0,inputTarget:null,inputClass:null,preset:[[NA,{enable:!1}],[OA,{enable:!1},["rotate"]],[UA,{direction:6}],[DA,{direction:6},["swipe"]],[GA],[GA,{event:"doubletap",taps:2},["tap"]],[FA]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function VA(A,e){var t;this.options=a({},zA.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||A,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=A,this.input=new((t=this).options.inputClass||(O?iA:F?fA:D?pA:AA))(t,j),this.touchAction=new PA(this,this.options.touchAction),QA(this,!0),g(this.options.recognizers,(function(A){var e=this.add(new A[0](A[1]));A[2]&&e.recognizeWith(A[2]),A[3]&&e.requireFailure(A[3])}),this)}function QA(A,e){var t,r=A.element;r.style&&(g(A.options.cssProps,(function(n,i){t=B(r.style,i),e?(A.oldCssProps[t]=r.style[t],r.style[t]=n):r.style[t]=A.oldCssProps[t]||""})),e||(A.oldCssProps={}))}VA.prototype={set:function(A){return a(this.options,A),A.touchAction&&this.touchAction.update(),A.inputTarget&&(this.input.destroy(),this.input.target=A.inputTarget,this.input.init()),this},stop:function(A){this.session.stopped=A?2:1},recognize:function(A){var e=this.session;if(!e.stopped){var t;this.touchAction.preventDefaults(A);var r=this.recognizers,n=e.curRecognizer;(!n||n&&8&n.state)&&(n=e.curRecognizer=null);for(var i=0;i<r.length;)t=r[i],2===e.stopped||n&&t!=n&&!t.canRecognizeWith(n)?t.reset():t.recognize(A),!n&&14&t.state&&(n=e.curRecognizer=t),i++}},get:function(A){if(A instanceof MA)return A;for(var e=this.recognizers,t=0;t<e.length;t++)if(e[t].options.event==A)return e[t];return null},add:function(A){if(p(A,"add",this))return this;var e=this.get(A.options.event);return e&&this.remove(e),this.recognizers.push(A),A.manager=this,this.touchAction.update(),A},remove:function(A){if(p(A,"remove",this))return this;if(A=this.get(A)){var e=this.recognizers,t=x(e,A);-1!==t&&(e.splice(t,1),this.touchAction.update())}return this},on:function(A,e){if(A!==o&&e!==o){var t=this.handlers;return g(P(A),(function(A){t[A]=t[A]||[],t[A].push(e)})),this}},off:function(A,e){if(A!==o){var t=this.handlers;return g(P(A),(function(A){e?t[A]&&t[A].splice(x(t[A],e),1):delete t[A]})),this}},emit:function(A,e){this.options.domEvents&&function(A,e){var t=i.createEvent("Event");t.initEvent(A,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}(A,e);var t=this.handlers[A]&&this.handlers[A].slice();if(t&&t.length){e.type=A,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<t.length;)t[r](e),r++}},destroy:function(){this.element&&QA(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(zA,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:xA,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:G,DIRECTION_ALL:30,Manager:VA,Input:Q,TouchAction:PA,TouchInput:fA,MouseInput:AA,PointerEventInput:iA,TouchMouseInput:pA,SingleTouchInput:cA,Recognizer:MA,AttrRecognizer:LA,Tap:GA,Pan:DA,Swipe:UA,Pinch:OA,Rotate:NA,Press:FA,on:T,off:S,each:g,merge:v,extend:m,assign:a,inherit:E,bindFn:b,prefixed:B}),(void 0!==n?n:"undefined"!=typeof self?self:{}).Hammer=zA,(r=function(){return zA}.call(e,t,e,A))===o||(A.exports=r)}(window,document)},8929:(A,e,t)=>{"use strict";t.d(e,{T5:()=>k});var r=t(6540);const n=r.createContext(null);function i(A,e){if(A===e)return!0;if(!A||!e)return!1;if(Array.isArray(A)){if(!Array.isArray(e)||A.length!==e.length)return!1;for(let t=0;t<A.length;t++)if(!i(A[t],e[t]))return!1;return!0}if(Array.isArray(e))return!1;if("object"==typeof A&&"object"==typeof e){const t=Object.keys(A),r=Object.keys(e);if(t.length!==r.length)return!1;for(const n of t){if(!e.hasOwnProperty(n))return!1;if(!i(A[n],e[n]))return!1}return!0}return!1}function s(A,e){if(!A.getProjection)return;const t=A.getProjection();i(t,e.getProjection())||e.setProjection(t)}function o(A){return{longitude:A.center.lng,latitude:A.center.lat,zoom:A.zoom,pitch:A.pitch,bearing:A.bearing,padding:A.padding}}function a(A,e){const t=e.viewState||e;let r=!1;if("longitude"in t&&"latitude"in t){const e=A.center;A.center=new e.constructor(t.longitude,t.latitude),r=r||e!==A.center}if("zoom"in t){const e=A.zoom;A.zoom=t.zoom,r=r||e!==A.zoom}if("bearing"in t){const e=A.bearing;A.bearing=t.bearing,r=r||e!==A.bearing}if("pitch"in t){const e=A.pitch;A.pitch=t.pitch,r=r||e!==A.pitch}return t.padding&&!A.isPaddingEqual(t.padding)&&(r=!0,A.padding=t.padding),r}const c=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function l(A){if(!A)return null;if("string"==typeof A)return A;if("toJS"in A&&(A=A.toJS()),!A.layers)return A;const e={};for(const r of A.layers)e[r.id]=r;const t=A.layers.map((A=>{let t=null;"interactive"in A&&(t=Object.assign({},A),delete t.interactive);const r=e[A.ref];if(r){t=t||Object.assign({},A),delete t.ref;for(const A of c)A in r&&(t[A]=r[A])}return t||A}));return{...A,layers:t}}const u={version:8,sources:{},layers:[]},h={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},f={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},d={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},p=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],g=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class _{constructor(A,e,t){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=A=>{const e=this.props[d[A.type]];e?e(A):"error"===A.type&&console.error(A.error)},this._onPointerEvent=A=>{"mousemove"!==A.type&&"mouseout"!==A.type||this._updateHover(A);const e=this.props[h[A.type]];e&&(this.props.interactiveLayerIds&&"mouseover"!==A.type&&"mouseout"!==A.type&&(A.features=this._hoveredFeatures||this._queryRenderedFeatures(A.point)),e(A),delete A.features)},this._onCameraEvent=A=>{if(!this._internalUpdate){const e=this.props[f[A.type]];e&&e(A)}A.type in this._deferredEvents&&(this._deferredEvents[A.type]=!1)},this._MapClass=A,this.props=e,this._initialize(t)}get map(){return this._map}get transform(){return this._renderTransform}setProps(A){const e=this.props;this.props=A;const t=this._updateSettings(A,e);t&&this._createShadowTransform(this._map);const r=this._updateSize(A),n=this._updateViewState(A,!0);this._updateStyle(A,e),this._updateStyleComponents(A,e),this._updateHandlers(A,e),(t||r||n&&!this._map.isMoving())&&this.redraw()}static reuse(A,e){const t=_.savedMaps.pop();if(!t)return null;const r=t.map,n=r.getContainer();for(e.className=n.className;n.childNodes.length>0;)e.appendChild(n.childNodes[0]);r._container=e;const i=r._resizeObserver;i&&(i.disconnect(),i.observe(e)),t.setProps({...A,styleDiffing:!1}),r.resize();const{initialViewState:s}=A;return s&&(s.bounds?r.fitBounds(s.bounds,{...s.fitBoundsOptions,duration:0}):t._updateViewState(s,!1)),r.isStyleLoaded()?r.fire("load"):r.once("styledata",(()=>r.fire("load"))),r._update(),t}_initialize(A){const{props:e}=this,{mapStyle:t=u}=e,r={...e,...e.initialViewState,accessToken:e.mapboxAccessToken||m()||null,container:A,style:l(t)},n=r.initialViewState||r.viewState||r;if(Object.assign(r,{center:[n.longitude||0,n.latitude||0],zoom:n.zoom||0,pitch:n.pitch||0,bearing:n.bearing||0}),e.gl){const A=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=A,e.gl)}const i=new this._MapClass(r);n.padding&&i.setPadding(n.padding),e.cursor&&(i.getCanvas().style.cursor=e.cursor),this._createShadowTransform(i);const o=i._render;i._render=A=>{this._inRender=!0,o.call(i,A),this._inRender=!1};const a=i._renderTaskQueue.run;i._renderTaskQueue.run=A=>{a.call(i._renderTaskQueue,A),this._onBeforeRepaint()},i.on("render",(()=>this._onAfterRepaint()));const c=i.fire;i.fire=this._fireEvent.bind(this,c),i.on("resize",(()=>{this._renderTransform.resize(i.transform.width,i.transform.height)})),i.on("styledata",(()=>{this._updateStyleComponents(this.props,{}),s(i.transform,this._renderTransform)})),i.on("sourcedata",(()=>this._updateStyleComponents(this.props,{})));for(const s in h)i.on(s,this._onPointerEvent);for(const s in f)i.on(s,this._onCameraEvent);for(const s in d)i.on(s,this._onEvent);this._map=i}recycle(){const A=this.map.getContainer().querySelector("[mapboxgl-children]");null==A||A.remove(),_.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const A=this._map;!this._inRender&&A.style&&(A._frame&&(A._frame.cancel(),A._frame=null),A._render())}_createShadowTransform(A){const e=function(A){const e=A.clone();return e.pixelsToGLUnits=A.pixelsToGLUnits,e}(A.transform);A.painter.transform=e,this._renderTransform=e}_updateSize(A){const{viewState:e}=A;if(e){const A=this._map;if(e.width!==A.transform.width||e.height!==A.transform.height)return A.resize(),!0}return!1}_updateViewState(A,e){if(this._internalUpdate)return!1;const t=this._map,r=this._renderTransform,{zoom:n,pitch:i,bearing:s}=r,c=t.isMoving();c&&(r.cameraElevationReference="sea");const l=a(r,{...o(t.transform),...A});if(c&&(r.cameraElevationReference="ground"),l&&e){const A=this._deferredEvents;A.move=!0,A.zoom||(A.zoom=n!==r.zoom),A.rotate||(A.rotate=s!==r.bearing),A.pitch||(A.pitch=i!==r.pitch)}return c||a(t.transform,A),l}_updateSettings(A,e){const t=this._map;let r=!1;for(const n of p)if(n in A&&!i(A[n],e[n])){r=!0;const e=t[`set${n[0].toUpperCase()}${n.slice(1)}`];null==e||e.call(t,A[n])}return r}_updateStyle(A,e){if(A.cursor!==e.cursor&&(this._map.getCanvas().style.cursor=A.cursor||""),A.mapStyle!==e.mapStyle){const{mapStyle:e=u,styleDiffing:t=!0}=A,r={diff:t};return"localIdeographFontFamily"in A&&(r.localIdeographFontFamily=A.localIdeographFontFamily),this._map.setStyle(l(e),r),!0}return!1}_updateStyleComponents(A,e){const t=this._map;let r=!1;return t.isStyleLoaded()&&("light"in A&&t.setLight&&!i(A.light,e.light)&&(r=!0,t.setLight(A.light)),"fog"in A&&t.setFog&&!i(A.fog,e.fog)&&(r=!0,t.setFog(A.fog)),"terrain"in A&&t.setTerrain&&!i(A.terrain,e.terrain)&&(A.terrain&&!t.getSource(A.terrain.source)||(r=!0,t.setTerrain(A.terrain)))),r}_updateHandlers(A,e){var t,r;const n=this._map;let s=!1;for(const o of g){const a=null===(t=A[o])||void 0===t||t;i(a,null===(r=e[o])||void 0===r||r)||(s=!0,a?n[o].enable(a):n[o].disable())}return s}_queryRenderedFeatures(A){const e=this._map,t=e.transform,{interactiveLayerIds:r=[]}=this.props;try{return e.transform=this._renderTransform,e.queryRenderedFeatures(A,{layers:r.filter(e.getLayer.bind(e))})}catch(n){return[]}finally{e.transform=t}}_updateHover(A){var e;const{props:t}=this;if(t.interactiveLayerIds&&(t.onMouseMove||t.onMouseEnter||t.onMouseLeave)){const t=A.type,r=(null===(e=this._hoveredFeatures)||void 0===e?void 0:e.length)>0,n=this._queryRenderedFeatures(A.point),i=n.length>0;!i&&r&&(A.type="mouseleave",this._onPointerEvent(A)),this._hoveredFeatures=n,i&&!r&&(A.type="mouseenter",this._onPointerEvent(A)),A.type=t}else this._hoveredFeatures=null}_fireEvent(A,e,t){const r=this._map,n=r.transform,i="string"==typeof e?e:e.type;return"move"===i&&this._updateViewState(this.props,!1),i in f&&("object"==typeof e&&(e.viewState=o(n)),this._map.isMoving())?(r.transform=this._renderTransform,A.call(r,e,t),r.transform=n,r):(A.call(r,e,t),r)}_onBeforeRepaint(){const A=this._map;this._internalUpdate=!0;for(const t in this._deferredEvents)this._deferredEvents[t]&&A.fire(t);this._internalUpdate=!1;const e=this._map.transform;A.transform=this._renderTransform,this._onAfterRepaint=()=>{s(this._renderTransform,e),A.transform=e}}}function m(){let A=null;if("undefined"!=typeof location){const e=/access_token=([^&\/]*)/.exec(location.search);A=e&&e[1]}try{A=A||process.env.MapboxAccessToken}catch(e){}try{A=A||process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(t){}return A}_.savedMaps=[];const v=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function E(A){if(!A)return null;const e=A.map,t={getMap:()=>e,getCenter:()=>A.transform.center,getZoom:()=>A.transform.zoom,getBearing:()=>A.transform.bearing,getPitch:()=>A.transform.pitch,getPadding:()=>A.transform.padding,getBounds:()=>A.transform.getBounds(),project:t=>{const r=e.transform;e.transform=A.transform;const n=e.project(t);return e.transform=r,n},unproject:t=>{const r=e.transform;e.transform=A.transform;const n=e.unproject(t);return e.transform=r,n},queryTerrainElevation:(t,r)=>{const n=e.transform;e.transform=A.transform;const i=e.queryTerrainElevation(t,r);return e.transform=n,i},queryRenderedFeatures:(t,r)=>{const n=e.transform;e.transform=A.transform;const i=e.queryRenderedFeatures(t,r);return e.transform=n,i}};for(const r of function(A){const e=new Set;let t=A;for(;t;){for(const r of Object.getOwnPropertyNames(t))"_"!==r[0]&&"function"==typeof A[r]&&"fire"!==r&&"setEventedParent"!==r&&e.add(r);t=Object.getPrototypeOf(t)}return Array.from(e)}(e))r in t||v.includes(r)||(t[r]=e[r].bind(e));return t}const b="undefined"!=typeof document?r.useLayoutEffect:r.useEffect,w=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];const y=r.createContext(null);function T(A,e,t){const i=(0,r.useContext)(n),[s,o]=(0,r.useState)(null),a=(0,r.useRef)(),{current:c}=(0,r.useRef)({mapLib:null,map:null});(0,r.useEffect)((()=>{const e=A.mapLib;let r,n=!0;return Promise.resolve(e||t).then((e=>{if(!n)return;if(!e)throw new Error("Invalid mapLib");const t="Map"in e?e:e.default;if(!t.Map)throw new Error("Invalid mapLib");if(function(A,e){for(const r of w)r in e&&(A[r]=e[r]);const{RTLTextPlugin:t="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=e;t&&A.getRTLTextPluginStatus&&"unavailable"===A.getRTLTextPluginStatus()&&A.setRTLTextPlugin(t,(A=>{A&&console.error(A)}),!0)}(t,A),t.supported&&!t.supported(A))throw new Error("Map is not supported by this browser");A.reuseMaps&&(r=_.reuse(A,a.current)),r||(r=new _(t.Map,A,a.current)),c.map=E(r),c.mapLib=t,o(r),null==i||i.onMapMount(c.map,A.id)})).catch((e=>{const{onError:t}=A;t?t({type:"error",target:null,originalEvent:null,error:e}):console.error(e)})),()=>{n=!1,r&&(null==i||i.onMapUnmount(A.id),A.reuseMaps?r.recycle():r.destroy())}}),[]),b((()=>{s&&s.setProps(A)})),(0,r.useImperativeHandle)(e,(()=>c.map),[s]);const l=(0,r.useMemo)((()=>({position:"relative",width:"100%",height:"100%",...A.style})),[A.style]);return r.createElement("div",{id:A.id,ref:a,style:l},s&&r.createElement(y.Provider,{value:c},r.createElement("div",{"mapboxgl-children":"",style:{height:"100%"}},A.children)))}var S=t(961);const C=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function R(A,e){if(!A||!e)return;const t=A.style;for(const r in e){const A=e[r];Number.isFinite(A)&&!C.test(r)?t[r]=`${A}px`:t[r]=A}}(0,r.memo)((0,r.forwardRef)((function(A,e){const{map:t,mapLib:n}=(0,r.useContext)(y),i=(0,r.useRef)({props:A});i.current.props=A;const s=(0,r.useMemo)((()=>{let e=!1;r.Children.forEach(A.children,(A=>{A&&(e=!0)}));const t={...A,element:e?document.createElement("div"):null},o=new n.Marker(t);return o.setLngLat([A.longitude,A.latitude]),o.getElement().addEventListener("click",(A=>{var e,t;null===(t=(e=i.current.props).onClick)||void 0===t||t.call(e,{type:"click",target:o,originalEvent:A})})),o.on("dragstart",(A=>{var e,t;const r=A;r.lngLat=s.getLngLat(),null===(t=(e=i.current.props).onDragStart)||void 0===t||t.call(e,r)})),o.on("drag",(A=>{var e,t;const r=A;r.lngLat=s.getLngLat(),null===(t=(e=i.current.props).onDrag)||void 0===t||t.call(e,r)})),o.on("dragend",(A=>{var e,t;const r=A;r.lngLat=s.getLngLat(),null===(t=(e=i.current.props).onDragEnd)||void 0===t||t.call(e,r)})),o}),[]);(0,r.useEffect)((()=>(s.addTo(t.getMap()),()=>{s.remove()})),[]);const{longitude:o,latitude:a,offset:c,style:l,draggable:u=!1,popup:h=null,rotation:f=0,rotationAlignment:d="auto",pitchAlignment:p="auto"}=A;return(0,r.useEffect)((()=>{R(s.getElement(),l)}),[l]),(0,r.useImperativeHandle)(e,(()=>s),[]),s.getLngLat().lng===o&&s.getLngLat().lat===a||s.setLngLat([o,a]),c&&!function(A,e){const t=Array.isArray(A)?A[0]:A?A.x:0,r=Array.isArray(A)?A[1]:A?A.y:0,n=Array.isArray(e)?e[0]:e?e.x:0,i=Array.isArray(e)?e[1]:e?e.y:0;return t===n&&r===i}(s.getOffset(),c)&&s.setOffset(c),s.isDraggable()!==u&&s.setDraggable(u),s.getRotation()!==f&&s.setRotation(f),s.getRotationAlignment()!==d&&s.setRotationAlignment(d),s.getPitchAlignment()!==p&&s.setPitchAlignment(p),s.getPopup()!==h&&s.setPopup(h),(0,S.createPortal)(A.children,s.getElement())})));function P(A){return new Set(A?A.trim().split(/\s+/):[])}(0,r.memo)((0,r.forwardRef)((function(A,e){const{map:t,mapLib:n}=(0,r.useContext)(y),s=(0,r.useMemo)((()=>document.createElement("div")),[]),o=(0,r.useRef)({props:A});o.current.props=A;const a=(0,r.useMemo)((()=>{const e={...A},t=new n.Popup(e);return t.setLngLat([A.longitude,A.latitude]),t.once("open",(A=>{var e,t;null===(t=(e=o.current.props).onOpen)||void 0===t||t.call(e,A)})),t}),[]);if((0,r.useEffect)((()=>{const A=A=>{var e,t;null===(t=(e=o.current.props).onClose)||void 0===t||t.call(e,A)};return a.on("close",A),a.setDOMContent(s).addTo(t.getMap()),()=>{a.off("close",A),a.isOpen()&&a.remove()}}),[]),(0,r.useEffect)((()=>{R(a.getElement(),A.style)}),[A.style]),(0,r.useImperativeHandle)(e,(()=>a),[]),a.isOpen()&&(a.getLngLat().lng===A.longitude&&a.getLngLat().lat===A.latitude||a.setLngLat([A.longitude,A.latitude]),A.offset&&!i(a.options.offset,A.offset)&&a.setOffset(A.offset),a.options.anchor===A.anchor&&a.options.maxWidth===A.maxWidth||(a.options.anchor=A.anchor,a.setMaxWidth(A.maxWidth)),a.options.className!==A.className)){const e=P(a.options.className),t=P(A.className);for(const A of e)t.has(A)||a.removeClassName(A);for(const A of t)e.has(A)||a.addClassName(A);a.options.className=A.className}return(0,S.createPortal)(A.children,s)})));const x=function(A,e,t,n){const i=(0,r.useContext)(y),s=(0,r.useMemo)((()=>A(i)),[]);return(0,r.useEffect)((()=>{const A=n||t||e,r="function"==typeof e&&"function"==typeof t?e:null,o="function"==typeof t?t:"function"==typeof e?e:null,{map:a}=i;return a.hasControl(s)||(a.addControl(s,null==A?void 0:A.position),r&&r(i)),()=>{o&&o(i),a.hasControl(s)&&a.removeControl(s)}}),[]),s};(0,r.memo)((function(A){const e=x((({mapLib:e})=>new e.AttributionControl(A)),{position:A.position});return(0,r.useEffect)((()=>{R(e._container,A.style)}),[A.style]),null}));(0,r.memo)((function(A){const e=x((({mapLib:e})=>new e.FullscreenControl({container:A.containerId&&document.getElementById(A.containerId)})),{position:A.position});return(0,r.useEffect)((()=>{R(e._controlContainer,A.style)}),[A.style]),null}));(0,r.memo)((0,r.forwardRef)((function(A,e){const t=(0,r.useRef)({props:A}),n=x((({mapLib:e})=>{const r=new e.GeolocateControl(A),n=r._setupUI;return r._setupUI=A=>{r._container.hasChildNodes()||n(A)},r.on("geolocate",(A=>{var e,r;null===(r=(e=t.current.props).onGeolocate)||void 0===r||r.call(e,A)})),r.on("error",(A=>{var e,r;null===(r=(e=t.current.props).onError)||void 0===r||r.call(e,A)})),r.on("outofmaxbounds",(A=>{var e,r;null===(r=(e=t.current.props).onOutOfMaxBounds)||void 0===r||r.call(e,A)})),r.on("trackuserlocationstart",(A=>{var e,r;null===(r=(e=t.current.props).onTrackUserLocationStart)||void 0===r||r.call(e,A)})),r.on("trackuserlocationend",(A=>{var e,r;null===(r=(e=t.current.props).onTrackUserLocationEnd)||void 0===r||r.call(e,A)})),r}),{position:A.position});return t.current.props=A,(0,r.useImperativeHandle)(e,(()=>n),[]),(0,r.useEffect)((()=>{R(n._container,A.style)}),[A.style]),null})));(0,r.memo)((function(A){const e=x((({mapLib:e})=>new e.NavigationControl(A)),{position:A.position});return(0,r.useEffect)((()=>{R(e._container,A.style)}),[A.style]),null}));(0,r.memo)((function(A){const e=x((({mapLib:e})=>new e.ScaleControl(A)),{position:A.position}),t=(0,r.useRef)(A),n=t.current;t.current=A;const{style:i}=A;return void 0!==A.maxWidth&&A.maxWidth!==n.maxWidth&&(e.options.maxWidth=A.maxWidth),void 0!==A.unit&&A.unit!==n.unit&&e.setUnit(A.unit),(0,r.useEffect)((()=>{R(e._container,i)}),[i]),null}));const M=t.e(842).then(t.t.bind(t,8461,23)),k=r.forwardRef((function(A,e){return T(A,e,M)}))},3540:(A,e,t)=>{"use strict";t.d(e,{Ay:()=>je});var r=function(){return r=Object.assign||function(A){for(var e,t=1,r=arguments.length;t<r;t++)for(var n in e=arguments[t])Object.prototype.hasOwnProperty.call(e,n)&&(A[n]=e[n]);return A},r.apply(this,arguments)};Object.create;function n(A,e,t){if(t||2===arguments.length)for(var r,n=0,i=e.length;n<i;n++)!r&&n in e||(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return A.concat(r||Array.prototype.slice.call(e))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var i=t(6540),s=t(2833),o=t.n(s),a="-ms-",c="-moz-",l="-webkit-",u="comm",h="rule",f="decl",d="@keyframes",p=Math.abs,g=String.fromCharCode,_=Object.assign;function m(A){return A.trim()}function v(A,e){return(A=e.exec(A))?A[0]:A}function E(A,e,t){return A.replace(e,t)}function b(A,e,t){return A.indexOf(e,t)}function w(A,e){return 0|A.charCodeAt(e)}function y(A,e,t){return A.slice(e,t)}function T(A){return A.length}function S(A){return A.length}function C(A,e){return e.push(A),A}function R(A,e){return A.filter((function(A){return!v(A,e)}))}var P=1,x=1,M=0,k=0,B=0,I="";function L(A,e,t,r,n,i,s,o){return{value:A,root:e,parent:t,type:r,props:n,children:i,line:P,column:x,length:s,return:"",siblings:o}}function D(A,e){return _(L("",null,null,"",null,null,0,A.siblings),A,{length:-A.length},e)}function O(A){for(;A.root;)A=D(A.root,{children:[A]});C(A,A.siblings)}function F(){return B=k>0?w(I,--k):0,x--,10===B&&(x=1,P--),B}function N(){return B=k<M?w(I,k++):0,x++,10===B&&(x=1,P++),B}function U(){return w(I,k)}function G(){return k}function z(A,e){return y(I,A,e)}function V(A){switch(A){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Q(A){return P=x=1,M=T(I=A),k=0,[]}function j(A){return I="",A}function W(A){return m(z(k-1,Y(91===A?A+2:40===A?A+1:A)))}function H(A){for(;(B=U())&&B<33;)N();return V(A)>2||V(B)>3?"":" "}function X(A,e){for(;--e&&N()&&!(B<48||B>102||B>57&&B<65||B>70&&B<97););return z(A,G()+(e<6&&32==U()&&32==N()))}function Y(A){for(;N();)switch(B){case A:return k;case 34:case 39:34!==A&&39!==A&&Y(B);break;case 40:41===A&&Y(A);break;case 92:N()}return k}function K(A,e){for(;N()&&A+B!==57&&(A+B!==84||47!==U()););return"/*"+z(e,k-1)+"*"+g(47===A?A:N())}function Z(A){for(;!V(U());)N();return z(A,k)}function $(A,e){for(var t="",r=0;r<A.length;r++)t+=e(A[r],r,A,e)||"";return t}function q(A,e,t,r){switch(A.type){case"@layer":if(A.children.length)break;case"@import":case f:return A.return=A.return||A.value;case u:return"";case d:return A.return=A.value+"{"+$(A.children,r)+"}";case h:if(!T(A.value=A.props.join(",")))return""}return T(t=$(A.children,r))?A.return=A.value+"{"+t+"}":""}function J(A,e,t){switch(function(A,e){return 45^w(A,0)?(((e<<2^w(A,0))<<2^w(A,1))<<2^w(A,2))<<2^w(A,3):0}(A,e)){case 5103:return l+"print-"+A+A;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return l+A+A;case 4789:return c+A+A;case 5349:case 4246:case 4810:case 6968:case 2756:return l+A+c+A+a+A+A;case 5936:switch(w(A,e+11)){case 114:return l+A+a+E(A,/[svh]\w+-[tblr]{2}/,"tb")+A;case 108:return l+A+a+E(A,/[svh]\w+-[tblr]{2}/,"tb-rl")+A;case 45:return l+A+a+E(A,/[svh]\w+-[tblr]{2}/,"lr")+A}case 6828:case 4268:case 2903:return l+A+a+A+A;case 6165:return l+A+a+"flex-"+A+A;case 5187:return l+A+E(A,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+A;case 5443:return l+A+a+"flex-item-"+E(A,/flex-|-self/g,"")+(v(A,/flex-|baseline/)?"":a+"grid-row-"+E(A,/flex-|-self/g,""))+A;case 4675:return l+A+a+"flex-line-pack"+E(A,/align-content|flex-|-self/g,"")+A;case 5548:return l+A+a+E(A,"shrink","negative")+A;case 5292:return l+A+a+E(A,"basis","preferred-size")+A;case 6060:return l+"box-"+E(A,"-grow","")+l+A+a+E(A,"grow","positive")+A;case 4554:return l+E(A,/([^-])(transform)/g,"$1-webkit-$2")+A;case 6187:return E(E(E(A,/(zoom-|grab)/,l+"$1"),/(image-set)/,l+"$1"),A,"")+A;case 5495:case 3959:return E(A,/(image-set\([^]*)/,l+"$1$`$1");case 4968:return E(E(A,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+l+A+A;case 4200:if(!v(A,/flex-|baseline/))return a+"grid-column-align"+y(A,e)+A;break;case 2592:case 3360:return a+E(A,"template-","")+A;case 4384:case 3616:return t&&t.some((function(A,t){return e=t,v(A.props,/grid-\w+-end/)}))?~b(A+(t=t[e].value),"span",0)?A:a+E(A,"-start","")+A+a+"grid-row-span:"+(~b(t,"span",0)?v(t,/\d+/):+v(t,/\d+/)-+v(A,/\d+/))+";":a+E(A,"-start","")+A;case 4896:case 4128:return t&&t.some((function(A){return v(A.props,/grid-\w+-start/)}))?A:a+E(E(A,"-end","-span"),"span ","")+A;case 4095:case 3583:case 4068:case 2532:return E(A,/(.+)-inline(.+)/,l+"$1$2")+A;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(T(A)-1-e>6)switch(w(A,e+1)){case 109:if(45!==w(A,e+4))break;case 102:return E(A,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+c+(108==w(A,e+3)?"$3":"$2-$3"))+A;case 115:return~b(A,"stretch",0)?J(E(A,"stretch","fill-available"),e,t)+A:A}break;case 5152:case 5920:return E(A,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(e,t,r,n,i,s,o){return a+t+":"+r+o+(n?a+t+"-span:"+(i?s:+s-+r)+o:"")+A}));case 4949:if(121===w(A,e+6))return E(A,":",":"+l)+A;break;case 6444:switch(w(A,45===w(A,14)?18:11)){case 120:return E(A,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+l+(45===w(A,14)?"inline-":"")+"box$3$1"+l+"$2$3$1"+a+"$2box$3")+A;case 100:return E(A,":",":"+a)+A}break;case 5719:case 2647:case 2135:case 3927:case 2391:return E(A,"scroll-","scroll-snap-")+A}return A}function AA(A,e,t,r){if(A.length>-1&&!A.return)switch(A.type){case f:return void(A.return=J(A.value,A.length,t));case d:return $([D(A,{value:E(A.value,"@","@"+l)})],r);case h:if(A.length)return function(A,e){return A.map(e).join("")}(t=A.props,(function(e){switch(v(e,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":O(D(A,{props:[E(e,/:(read-\w+)/,":-moz-$1")]})),O(D(A,{props:[e]})),_(A,{props:R(t,r)});break;case"::placeholder":O(D(A,{props:[E(e,/:(plac\w+)/,":-webkit-input-$1")]})),O(D(A,{props:[E(e,/:(plac\w+)/,":-moz-$1")]})),O(D(A,{props:[E(e,/:(plac\w+)/,a+"input-$1")]})),O(D(A,{props:[e]})),_(A,{props:R(t,r)})}return""}))}}function eA(A){return j(tA("",null,null,null,[""],A=Q(A),0,[0],A))}function tA(A,e,t,r,n,i,s,o,a){for(var c=0,l=0,u=s,h=0,f=0,d=0,_=1,m=1,v=1,y=0,S="",R=n,P=i,x=r,M=S;m;)switch(d=y,y=N()){case 40:if(108!=d&&58==w(M,u-1)){-1!=b(M+=E(W(y),"&","&\f"),"&\f",p(c?o[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:M+=W(y);break;case 9:case 10:case 13:case 32:M+=H(d);break;case 92:M+=X(G()-1,7);continue;case 47:switch(U()){case 42:case 47:C(nA(K(N(),G()),e,t,a),a);break;default:M+="/"}break;case 123*_:o[c++]=T(M)*v;case 125*_:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+l:-1==v&&(M=E(M,/\f/g,"")),f>0&&T(M)-u&&C(f>32?iA(M+";",r,t,u-1,a):iA(E(M," ","")+";",r,t,u-2,a),a);break;case 59:M+=";";default:if(C(x=rA(M,e,t,c,l,n,o,S,R=[],P=[],u,i),i),123===y)if(0===l)tA(M,e,x,x,R,i,u,o,P);else switch(99===h&&110===w(M,3)?100:h){case 100:case 108:case 109:case 115:tA(A,x,x,r&&C(rA(A,x,x,0,0,n,o,S,n,R=[],u,P),P),n,P,u,o,r?R:P);break;default:tA(M,x,x,x,[""],P,0,o,P)}}c=l=f=0,_=v=1,S=M="",u=s;break;case 58:u=1+T(M),f=d;default:if(_<1)if(123==y)--_;else if(125==y&&0==_++&&125==F())continue;switch(M+=g(y),y*_){case 38:v=l>0?1:(M+="\f",-1);break;case 44:o[c++]=(T(M)-1)*v,v=1;break;case 64:45===U()&&(M+=W(N())),h=U(),l=u=T(S=M+=Z(G())),y++;break;case 45:45===d&&2==T(M)&&(_=0)}}return i}function rA(A,e,t,r,n,i,s,o,a,c,l,u){for(var f=n-1,d=0===n?i:[""],g=S(d),_=0,v=0,b=0;_<r;++_)for(var w=0,T=y(A,f+1,f=p(v=s[_])),C=A;w<g;++w)(C=m(v>0?d[w]+" "+T:E(T,/&\f/g,d[w])))&&(a[b++]=C);return L(A,e,t,0===n?h:o,a,c,l,u)}function nA(A,e,t,r){return L(A,e,t,u,g(B),y(A,2,-2),0,r)}function iA(A,e,t,r,n){return L(A,e,t,f,y(A,0,r),y(A,r+1,-1),r,n)}var sA={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},oA="undefined"!=typeof process&&void 0!==process.env&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",aA="active",cA="data-styled-version",lA="6.1.11",uA="/*!sc*/\n",hA="undefined"!=typeof window&&"HTMLElement"in window,fA=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env&&void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&("false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY)),dA=(new Set,Object.freeze([])),pA=Object.freeze({});function gA(A,e,t){return void 0===t&&(t=pA),A.theme!==t.theme&&A.theme||e||t.theme}var _A=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),mA=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,vA=/(^-|-$)/g;function EA(A){return A.replace(mA,"-").replace(vA,"")}var bA=/(a)(d)/gi,wA=function(A){return String.fromCharCode(A+(A>25?39:97))};function yA(A){var e,t="";for(e=Math.abs(A);e>52;e=e/52|0)t=wA(e%52)+t;return(wA(e%52)+t).replace(bA,"$1-$2")}var TA,SA=function(A,e){for(var t=e.length;t;)A=33*A^e.charCodeAt(--t);return A},CA=function(A){return SA(5381,A)};function RA(A){return yA(CA(A)>>>0)}function PA(A){return A.displayName||A.name||"Component"}function xA(A){return"string"==typeof A&&!0}var MA="function"==typeof Symbol&&Symbol.for,kA=MA?Symbol.for("react.memo"):60115,BA=MA?Symbol.for("react.forward_ref"):60112,IA={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},LA={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},DA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},OA=((TA={})[BA]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},TA[kA]=DA,TA);function FA(A){return("type"in(e=A)&&e.type.$$typeof)===kA?DA:"$$typeof"in A?OA[A.$$typeof]:IA;var e}var NA=Object.defineProperty,UA=Object.getOwnPropertyNames,GA=Object.getOwnPropertySymbols,zA=Object.getOwnPropertyDescriptor,VA=Object.getPrototypeOf,QA=Object.prototype;function jA(A,e,t){if("string"!=typeof e){if(QA){var r=VA(e);r&&r!==QA&&jA(A,r,t)}var n=UA(e);GA&&(n=n.concat(GA(e)));for(var i=FA(A),s=FA(e),o=0;o<n.length;++o){var a=n[o];if(!(a in LA||t&&t[a]||s&&a in s||i&&a in i)){var c=zA(e,a);try{NA(A,a,c)}catch(A){}}}}return A}function WA(A){return"function"==typeof A}function HA(A){return"object"==typeof A&&"styledComponentId"in A}function XA(A,e){return A&&e?"".concat(A," ").concat(e):A||e||""}function YA(A,e){if(0===A.length)return"";for(var t=A[0],r=1;r<A.length;r++)t+=e?e+A[r]:A[r];return t}function KA(A){return null!==A&&"object"==typeof A&&A.constructor.name===Object.name&&!("props"in A&&A.$$typeof)}function ZA(A,e,t){if(void 0===t&&(t=!1),!t&&!KA(A)&&!Array.isArray(A))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)A[r]=ZA(A[r],e[r]);else if(KA(e))for(var r in e)A[r]=ZA(A[r],e[r]);return A}function $A(A,e){Object.defineProperty(A,"toString",{value:e})}function qA(A){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(A," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var JA=function(){function A(A){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=A}return A.prototype.indexOfGroup=function(A){for(var e=0,t=0;t<A;t++)e+=this.groupSizes[t];return e},A.prototype.insertRules=function(A,e){if(A>=this.groupSizes.length){for(var t=this.groupSizes,r=t.length,n=r;A>=n;)if((n<<=1)<0)throw qA(16,"".concat(A));this.groupSizes=new Uint32Array(n),this.groupSizes.set(t),this.length=n;for(var i=r;i<n;i++)this.groupSizes[i]=0}for(var s=this.indexOfGroup(A+1),o=(i=0,e.length);i<o;i++)this.tag.insertRule(s,e[i])&&(this.groupSizes[A]++,s++)},A.prototype.clearGroup=function(A){if(A<this.length){var e=this.groupSizes[A],t=this.indexOfGroup(A),r=t+e;this.groupSizes[A]=0;for(var n=t;n<r;n++)this.tag.deleteRule(t)}},A.prototype.getGroup=function(A){var e="";if(A>=this.length||0===this.groupSizes[A])return e;for(var t=this.groupSizes[A],r=this.indexOfGroup(A),n=r+t,i=r;i<n;i++)e+="".concat(this.tag.getRule(i)).concat(uA);return e},A}(),Ae=new Map,ee=new Map,te=1,re=function(A){if(Ae.has(A))return Ae.get(A);for(;ee.has(te);)te++;var e=te++;return Ae.set(A,e),ee.set(e,A),e},ne=function(A,e){te=e+1,Ae.set(A,e),ee.set(e,A)},ie="style[".concat(oA,"][").concat(cA,'="').concat(lA,'"]'),se=new RegExp("^".concat(oA,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),oe=function(A,e,t){for(var r,n=t.split(","),i=0,s=n.length;i<s;i++)(r=n[i])&&A.registerName(e,r)},ae=function(A,e){for(var t,r=(null!==(t=e.textContent)&&void 0!==t?t:"").split(uA),n=[],i=0,s=r.length;i<s;i++){var o=r[i].trim();if(o){var a=o.match(se);if(a){var c=0|parseInt(a[1],10),l=a[2];0!==c&&(ne(l,c),oe(A,l,a[3]),A.getTag().insertRules(c,n)),n.length=0}else n.push(o)}}};function ce(){return t.nc}var le=function(A){var e=document.head,t=A||e,r=document.createElement("style"),n=function(A){var e=Array.from(A.querySelectorAll("style[".concat(oA,"]")));return e[e.length-1]}(t),i=void 0!==n?n.nextSibling:null;r.setAttribute(oA,aA),r.setAttribute(cA,lA);var s=ce();return s&&r.setAttribute("nonce",s),t.insertBefore(r,i),r},ue=function(){function A(A){this.element=le(A),this.element.appendChild(document.createTextNode("")),this.sheet=function(A){if(A.sheet)return A.sheet;for(var e=document.styleSheets,t=0,r=e.length;t<r;t++){var n=e[t];if(n.ownerNode===A)return n}throw qA(17)}(this.element),this.length=0}return A.prototype.insertRule=function(A,e){try{return this.sheet.insertRule(e,A),this.length++,!0}catch(A){return!1}},A.prototype.deleteRule=function(A){this.sheet.deleteRule(A),this.length--},A.prototype.getRule=function(A){var e=this.sheet.cssRules[A];return e&&e.cssText?e.cssText:""},A}(),he=function(){function A(A){this.element=le(A),this.nodes=this.element.childNodes,this.length=0}return A.prototype.insertRule=function(A,e){if(A<=this.length&&A>=0){var t=document.createTextNode(e);return this.element.insertBefore(t,this.nodes[A]||null),this.length++,!0}return!1},A.prototype.deleteRule=function(A){this.element.removeChild(this.nodes[A]),this.length--},A.prototype.getRule=function(A){return A<this.length?this.nodes[A].textContent:""},A}(),fe=function(){function A(A){this.rules=[],this.length=0}return A.prototype.insertRule=function(A,e){return A<=this.length&&(this.rules.splice(A,0,e),this.length++,!0)},A.prototype.deleteRule=function(A){this.rules.splice(A,1),this.length--},A.prototype.getRule=function(A){return A<this.length?this.rules[A]:""},A}(),de=hA,pe={isServer:!hA,useCSSOMInjection:!fA},ge=function(){function A(A,e,t){void 0===A&&(A=pA),void 0===e&&(e={});var n=this;this.options=r(r({},pe),A),this.gs=e,this.names=new Map(t),this.server=!!A.isServer,!this.server&&hA&&de&&(de=!1,function(A){for(var e=document.querySelectorAll(ie),t=0,r=e.length;t<r;t++){var n=e[t];n&&n.getAttribute(oA)!==aA&&(ae(A,n),n.parentNode&&n.parentNode.removeChild(n))}}(this)),$A(this,(function(){return function(A){for(var e=A.getTag(),t=e.length,r="",n=function(t){var n=function(A){return ee.get(A)}(t);if(void 0===n)return"continue";var i=A.names.get(n),s=e.getGroup(t);if(void 0===i||0===s.length)return"continue";var o="".concat(oA,".g").concat(t,'[id="').concat(n,'"]'),a="";void 0!==i&&i.forEach((function(A){A.length>0&&(a+="".concat(A,","))})),r+="".concat(s).concat(o,'{content:"').concat(a,'"}').concat(uA)},i=0;i<t;i++)n(i);return r}(n)}))}return A.registerId=function(A){return re(A)},A.prototype.reconstructWithOptions=function(e,t){return void 0===t&&(t=!0),new A(r(r({},this.options),e),this.gs,t&&this.names||void 0)},A.prototype.allocateGSInstance=function(A){return this.gs[A]=(this.gs[A]||0)+1},A.prototype.getTag=function(){return this.tag||(this.tag=(A=function(A){var e=A.useCSSOMInjection,t=A.target;return A.isServer?new fe(t):e?new ue(t):new he(t)}(this.options),new JA(A)));var A},A.prototype.hasNameForId=function(A,e){return this.names.has(A)&&this.names.get(A).has(e)},A.prototype.registerName=function(A,e){if(re(A),this.names.has(A))this.names.get(A).add(e);else{var t=new Set;t.add(e),this.names.set(A,t)}},A.prototype.insertRules=function(A,e,t){this.registerName(A,e),this.getTag().insertRules(re(A),t)},A.prototype.clearNames=function(A){this.names.has(A)&&this.names.get(A).clear()},A.prototype.clearRules=function(A){this.getTag().clearGroup(re(A)),this.clearNames(A)},A.prototype.clearTag=function(){this.tag=void 0},A}(),_e=/&/g,me=/^\s*\/\/.*$/gm;function ve(A,e){return A.map((function(A){return"rule"===A.type&&(A.value="".concat(e," ").concat(A.value),A.value=A.value.replaceAll(",",",".concat(e," ")),A.props=A.props.map((function(A){return"".concat(e," ").concat(A)}))),Array.isArray(A.children)&&"@keyframes"!==A.type&&(A.children=ve(A.children,e)),A}))}function Ee(A){var e,t,r,n=void 0===A?pA:A,i=n.options,s=void 0===i?pA:i,o=n.plugins,a=void 0===o?dA:o,c=function(A,r,n){return n.startsWith(t)&&n.endsWith(t)&&n.replaceAll(t,"").length>0?".".concat(e):A},l=a.slice();l.push((function(A){A.type===h&&A.value.includes("&")&&(A.props[0]=A.props[0].replace(_e,t).replace(r,c))})),s.prefix&&l.push(AA),l.push(q);var u=function(A,n,i,o){void 0===n&&(n=""),void 0===i&&(i=""),void 0===o&&(o="&"),e=o,t=n,r=new RegExp("\\".concat(t,"\\b"),"g");var a=A.replace(me,""),c=eA(i||n?"".concat(i," ").concat(n," { ").concat(a," }"):a);s.namespace&&(c=ve(c,s.namespace));var u,h,f,d=[];return $(c,(u=l.concat((f=function(A){return d.push(A)},function(A){A.root||(A=A.return)&&f(A)})),h=S(u),function(A,e,t,r){for(var n="",i=0;i<h;i++)n+=u[i](A,e,t,r)||"";return n})),d};return u.hash=a.length?a.reduce((function(A,e){return e.name||qA(15),SA(A,e.name)}),5381).toString():"",u}var be=new ge,we=Ee(),ye=i.createContext({shouldForwardProp:void 0,styleSheet:be,stylis:we}),Te=(ye.Consumer,i.createContext(void 0));function Se(){return(0,i.useContext)(ye)}function Ce(A){var e=(0,i.useState)(A.stylisPlugins),t=e[0],r=e[1],n=Se().styleSheet,s=(0,i.useMemo)((function(){var e=n;return A.sheet?e=A.sheet:A.target&&(e=e.reconstructWithOptions({target:A.target},!1)),A.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[A.disableCSSOMInjection,A.sheet,A.target,n]),a=(0,i.useMemo)((function(){return Ee({options:{namespace:A.namespace,prefix:A.enableVendorPrefixes},plugins:t})}),[A.enableVendorPrefixes,A.namespace,t]);(0,i.useEffect)((function(){o()(t,A.stylisPlugins)||r(A.stylisPlugins)}),[A.stylisPlugins]);var c=(0,i.useMemo)((function(){return{shouldForwardProp:A.shouldForwardProp,styleSheet:s,stylis:a}}),[A.shouldForwardProp,s,a]);return i.createElement(ye.Provider,{value:c},i.createElement(Te.Provider,{value:a},A.children))}var Re=function(){function A(A,e){var t=this;this.inject=function(A,e){void 0===e&&(e=we);var r=t.name+e.hash;A.hasNameForId(t.id,r)||A.insertRules(t.id,r,e(t.rules,r,"@keyframes"))},this.name=A,this.id="sc-keyframes-".concat(A),this.rules=e,$A(this,(function(){throw qA(12,String(t.name))}))}return A.prototype.getName=function(A){return void 0===A&&(A=we),this.name+A.hash},A}(),Pe=function(A){return A>="A"&&A<="Z"};function xe(A){for(var e="",t=0;t<A.length;t++){var r=A[t];if(1===t&&"-"===r&&"-"===A[0])return A;Pe(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var Me=function(A){return null==A||!1===A||""===A},ke=function(A){var e,t,r=[];for(var i in A){var s=A[i];A.hasOwnProperty(i)&&!Me(s)&&(Array.isArray(s)&&s.isCss||WA(s)?r.push("".concat(xe(i),":"),s,";"):KA(s)?r.push.apply(r,n(n(["".concat(i," {")],ke(s),!1),["}"],!1)):r.push("".concat(xe(i),": ").concat((e=i,null==(t=s)||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||e in sA||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return r};function Be(A,e,t,r){return Me(A)?[]:HA(A)?[".".concat(A.styledComponentId)]:WA(A)?!WA(n=A)||n.prototype&&n.prototype.isReactComponent||!e?[A]:Be(A(e),e,t,r):A instanceof Re?t?(A.inject(t,r),[A.getName(r)]):[A]:KA(A)?ke(A):Array.isArray(A)?Array.prototype.concat.apply(dA,A.map((function(A){return Be(A,e,t,r)}))):[A.toString()];var n}function Ie(A){for(var e=0;e<A.length;e+=1){var t=A[e];if(WA(t)&&!HA(t))return!1}return!0}var Le=CA(lA),De=function(){function A(A,e,t){this.rules=A,this.staticRulesId="",this.isStatic=(void 0===t||t.isStatic)&&Ie(A),this.componentId=e,this.baseHash=SA(Le,e),this.baseStyle=t,ge.registerId(e)}return A.prototype.generateAndInjectStyles=function(A,e,t){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(A,e,t):"";if(this.isStatic&&!t.hash)if(this.staticRulesId&&e.hasNameForId(this.componentId,this.staticRulesId))r=XA(r,this.staticRulesId);else{var n=YA(Be(this.rules,A,e,t)),i=yA(SA(this.baseHash,n)>>>0);if(!e.hasNameForId(this.componentId,i)){var s=t(n,".".concat(i),void 0,this.componentId);e.insertRules(this.componentId,i,s)}r=XA(r,i),this.staticRulesId=i}else{for(var o=SA(this.baseHash,t.hash),a="",c=0;c<this.rules.length;c++){var l=this.rules[c];if("string"==typeof l)a+=l;else if(l){var u=YA(Be(l,A,e,t));o=SA(o,u+c),a+=u}}if(a){var h=yA(o>>>0);e.hasNameForId(this.componentId,h)||e.insertRules(this.componentId,h,t(a,".".concat(h),void 0,this.componentId)),r=XA(r,h)}}return r},A}(),Oe=i.createContext(void 0);Oe.Consumer;var Fe={};new Set;function Ne(A,e,t){var n=HA(A),s=A,o=!xA(A),a=e.attrs,c=void 0===a?dA:a,l=e.componentId,u=void 0===l?function(A,e){var t="string"!=typeof A?"sc":EA(A);Fe[t]=(Fe[t]||0)+1;var r="".concat(t,"-").concat(RA(lA+t+Fe[t]));return e?"".concat(e,"-").concat(r):r}(e.displayName,e.parentComponentId):l,h=e.displayName,f=void 0===h?function(A){return xA(A)?"styled.".concat(A):"Styled(".concat(PA(A),")")}(A):h,d=e.displayName&&e.componentId?"".concat(EA(e.displayName),"-").concat(e.componentId):e.componentId||u,p=n&&s.attrs?s.attrs.concat(c).filter(Boolean):c,g=e.shouldForwardProp;if(n&&s.shouldForwardProp){var _=s.shouldForwardProp;if(e.shouldForwardProp){var m=e.shouldForwardProp;g=function(A,e){return _(A,e)&&m(A,e)}}else g=_}var v=new De(t,d,n?s.componentStyle:void 0);function E(A,e){return function(A,e,t){var n=A.attrs,s=A.componentStyle,o=A.defaultProps,a=A.foldedComponentIds,c=A.styledComponentId,l=A.target,u=i.useContext(Oe),h=Se(),f=A.shouldForwardProp||h.shouldForwardProp,d=gA(e,u,o)||pA,p=function(A,e,t){for(var n,i=r(r({},e),{className:void 0,theme:t}),s=0;s<A.length;s+=1){var o=WA(n=A[s])?n(i):n;for(var a in o)i[a]="className"===a?XA(i[a],o[a]):"style"===a?r(r({},i[a]),o[a]):o[a]}return e.className&&(i.className=XA(i.className,e.className)),i}(n,e,d),g=p.as||l,_={};for(var m in p)void 0===p[m]||"$"===m[0]||"as"===m||"theme"===m&&p.theme===d||("forwardedAs"===m?_.as=p.forwardedAs:f&&!f(m,g)||(_[m]=p[m]));var v=function(A,e){var t=Se();return A.generateAndInjectStyles(e,t.styleSheet,t.stylis)}(s,p),E=XA(a,c);return v&&(E+=" "+v),p.className&&(E+=" "+p.className),_[xA(g)&&!_A.has(g)?"class":"className"]=E,_.ref=t,(0,i.createElement)(g,_)}(b,A,e)}E.displayName=f;var b=i.forwardRef(E);return b.attrs=p,b.componentStyle=v,b.displayName=f,b.shouldForwardProp=g,b.foldedComponentIds=n?XA(s.foldedComponentIds,s.styledComponentId):"",b.styledComponentId=d,b.target=n?s.target:A,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(A){this._foldedDefaultProps=n?function(A){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var r=0,n=e;r<n.length;r++)ZA(A,n[r],!0);return A}({},s.defaultProps,A):A}}),$A(b,(function(){return".".concat(b.styledComponentId)})),o&&jA(b,A,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function Ue(A,e){for(var t=[A[0]],r=0,n=e.length;r<n;r+=1)t.push(e[r],A[r+1]);return t}var Ge=function(A){return Object.assign(A,{isCss:!0})};function ze(A){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(WA(A)||KA(A))return Ge(Be(Ue(dA,n([A],e,!0))));var r=A;return 0===e.length&&1===r.length&&"string"==typeof r[0]?Be(r):Ge(Be(Ue(r,e)))}function Ve(A,e,t){if(void 0===t&&(t=pA),!e)throw qA(1,e);var i=function(r){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return A(e,t,ze.apply(void 0,n([r],i,!1)))};return i.attrs=function(n){return Ve(A,e,r(r({},t),{attrs:Array.prototype.concat(t.attrs,n).filter(Boolean)}))},i.withConfig=function(n){return Ve(A,e,r(r({},t),n))},i}var Qe=function(A){return Ve(Ne,A)},je=Qe;_A.forEach((function(A){je[A]=Qe(A)}));!function(){function A(A,e){this.rules=A,this.componentId=e,this.isStatic=Ie(A),ge.registerId(this.componentId+1)}A.prototype.createStyles=function(A,e,t,r){var n=r(YA(Be(this.rules,e,t,r)),""),i=this.componentId+A;t.insertRules(i,i,n)},A.prototype.removeStyles=function(A,e){e.clearRules(this.componentId+A)},A.prototype.renderStyles=function(A,e,t,r){A>2&&ge.registerId(this.componentId+A),this.removeStyles(A,t),this.createStyles(A,e,t,r)}}();(function(){function A(){var A=this;this._emitSheetCSS=function(){var e=A.instance.toString(),t=ce(),r=YA([t&&'nonce="'.concat(t,'"'),"".concat(oA,'="true"'),"".concat(cA,'="').concat(lA,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(e,"</style>")},this.getStyleTags=function(){if(A.sealed)throw qA(2);return A._emitSheetCSS()},this.getStyleElement=function(){var e;if(A.sealed)throw qA(2);var t=((e={})[oA]="",e[cA]=lA,e.dangerouslySetInnerHTML={__html:A.instance.toString()},e),n=ce();return n&&(t.nonce=n),[i.createElement("style",r({},t,{key:"sc-0-0"}))]},this.seal=function(){A.sealed=!0},this.instance=new ge({isServer:!0}),this.sealed=!1}A.prototype.collectStyles=function(A){if(this.sealed)throw qA(2);return i.createElement(Ce,{sheet:this.instance},A)},A.prototype.interleaveWithNodeStream=function(A){throw qA(3)}})(),"__sc-".concat(oA,"__")},3681:(A,e,t)=>{"use strict";t.d(e,{ZA:()=>_});var r=t(6540);function n(A,e,t){if(t||2===arguments.length)for(var r,n=0,i=e.length;n<i;n++)!r&&n in e||(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return A.concat(r||Array.prototype.slice.call(e))}var i="[\xa0]";function s(A){var e,t={};return new URLSearchParams((void 0===(e=A)&&(e=""),!e||0!==e.indexOf("?")&&0!==e.indexOf("#")?e:e.slice(1))).forEach((function(A,e){if(e in t.constructor.prototype)return console.warn('parseQueryState | invalid key "'.concat(e,'" will be ignored'));if(e in t){var r=t[e];Array.isArray(r)?r.push(A):t[e]=[r,A]}else t[e]=A})),Object.keys(t).length?t:null}function o(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];var t=Object.assign.apply(Object,n([{}],A,!1)),r=new URLSearchParams;return Object.entries(t).forEach((function(A){var e=A[0],t=A[1];null!=t&&(Array.isArray(t)?t.length?t.forEach((function(A){r.append(e,A||"")})):r.append(e,i):r.append(e,t))})),r.sort(),r.toString()}function a(A){if(Array.isArray(A))return A.map((function(A){return A.toString()}));if(A||""===A||!1===A||0===A){if(A instanceof Date)return A.toJSON();switch(typeof A){case"string":case"number":case"boolean":return A.toString()}}return null}function c(A,e){var t,r=typeof e;if(Array.isArray(e))return A===i?[]:[].concat(A);if("string"!=typeof A&&!Array.isArray(A))return null;if(e instanceof Date){var n=new Date(A.toString());if(!isNaN(n.valueOf()))return n}switch(r){case"string":return A.toString();case"number":return(t=Number(A))||0===t?t:null;case"boolean":if("true"===A)return!0;if("false"===A)return!1}return null}var l=function(){return l=Object.assign||function(A){for(var e,t=1,r=arguments.length;t<r;t++)for(var n in e=arguments[t])Object.prototype.hasOwnProperty.call(e,n)&&(A[n]=e[n]);return A},l.apply(this,arguments)},u="undefined"!=typeof window&&"location"in window&&"history"in window;function h(A){var e=(void 0===A?{}:A).disabled,t=!(void 0!==e&&e)&&u,n=(0,r.useMemo)((function(){return{getQueryString:function(){return t?window.location.hash:""},setQueryString:function(A,e){var r=e.method,n=void 0===r?"replace":r;if(t){window.history["replace"===n?"replaceState":"pushState"](window.history.state,"","#"+A);var s=document.createEvent("CustomEvent");s.initEvent("hashchange",!1,!1),window.dispatchEvent(s),i((function(A){return A+1}))}}}}),[t]),i=(0,r.useState)(0)[1];return(0,r.useEffect)((function(){if(t){var A=function(){i((function(A){return A+1}))};return window.addEventListener("hashchange",A,!1),function(){return window.removeEventListener("hashchange",A,!1)}}}),[t]),n}var f="undefined"==typeof window||"undefined"==typeof document?r.useEffect:r.useLayoutEffect;function d(A){var e=(0,r.useRef)(A);return f((function(){e.current=A}),[A]),e}var p=Object.freeze({});function g(A,e,t,n,i){var u,f,g=Object.assign({},p,i,"object"==typeof n?n:null),_=g.queryStringInterface,m=h(_?{disabled:!0}:void 0),v=_||m,E=(0,r.useState)((function(){return n&&"function"==typeof n?n(t):t}))[0];if(f=E,null===(0,r.useMemo)((function(){return a(f)}),[f]))throw new Error("unsupported defaultValue");var b=d({activeQSI:v,defaultValue:E,mergedQueryStateOpts:g,reducer:e}),w=(0,r.useCallback)((function(e){var t,r=b.current.activeQSI,n=s(r.getQueryString())||{},i=l(l({},n),((t={})[A]=null,t));r.setQueryString(o(i),e),y((function(A){return A+1}))}),[A,b]),y=(0,r.useState)(0)[1],T=(0,r.useCallback)((function(e,t){var r;void 0===t&&(t={});var n=b.current,i=n.activeQSI,u=n.defaultValue,h=n.mergedQueryStateOpts,f=n.reducer,d=h.stripDefaults,p=void 0===d||d,g=s(i.getQueryString())||{},_=A in g?c(g[A],u):u;if(null===e)return w(t);var m,v,E=f(null!=_?_:u,e);if(null===a(E)&&console.warn("value of "+JSON.stringify(E)+' is not supported. "'+A+'" will reset to default value of:',u),p){if(Array.isArray(u)&&(m=E,v=u,JSON.stringify(m)===JSON.stringify(v)))return w(t);if(E===u)return w(t)}i.setQueryString(o(l(l({},g),((r={})[A]=a(E),r))),t),y((function(A){return A+1}))}),[A,b,w]),S=s(v.getQueryString())||{};return[null!==(u=A in S?c(S[A],E):E)&&void 0!==u?u:E,T]}function _(A,e,t){void 0===t&&(t={});var n=(0,r.useCallback)((function(A,e){return e&&"function"==typeof e?e(A):e}),[]);return"function"==typeof e?g(A,n,void 0,e,t):g(A,n,e,t)}"undefined"!=typeof window&&window;Object.freeze({});Object.freeze({})},5276:(A,e,t)=>{"use strict";function r(A,e){return e||(e=A.slice(0)),A.raw=e,A}t.d(e,{A:()=>r})},7277:(A,e,t)=>{"use strict";t.d(e,{A:()=>s,k:()=>i});var r=t(8277);let n={};function i(A){n=A}function s(A,e,t,i){r.A.level>0&&n[A]&&n[A].call(null,e,t,i)}},6704:(A,e,t)=>{"use strict";t.d(e,{Kx:()=>i,p5:()=>s,qY:()=>o,rf:()=>n});var r=t(8277);const n={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(n,"IDENTITY",{get:()=>(r.A.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const i={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},s={common:0,meters:1,pixels:2},o={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}}},1420:(A,e,t)=>{"use strict";t.d(e,{A:()=>jA});var r=t(6049),n=t(6704),i=t(3912);const s=i.UE;function o(A,e){return{attribute:A,format:e.size>1?`${e.type}x${e.size}`:e.type,byteOffset:e.offset||0}}function a(A){return A.stride||A.size*A.bytesPerElement}var c=t(8457),l=t(453),u=t(8277);function h(A,e){e.offset&&u.A.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const t=a(A),r=(void 0!==e.vertexOffset?e.vertexOffset:A.vertexOffset||0)*t+(e.elementOffset||0)*A.bytesPerElement+(A.offset||0);return{...e,offset:r,stride:t}}var f=t(1829),d=t(1729),p=t(5801);const g=[],_=[[0,1/0]];const m={interpolation:{duration:0,easing:A=>A},spring:{stiffness:.05,damping:.5}};function v(A,e){if(!A)return null;Number.isFinite(A)&&(A={type:"interpolation",duration:A});const t=A.type||"interpolation";return{...m[t],...e,...A,type:t}}class E extends class{constructor(A,e,t){this._buffer=null,this.device=A,this.id=e.id||"",this.size=e.size||1;const r=e.logicalType||e.type,n="float64"===r;let s,{defaultValue:o}=e;o=Number.isFinite(o)?[o]:o||new Array(this.size).fill(0),s=n?"float32":!r&&e.isIndexed?"uint32":r||"float32";let a=function(A){switch(A){case"float64":return Float64Array;case"uint8":case"unorm8":return Uint8ClampedArray;default:return(0,i.Y0)(A)}}(r||s);this.doublePrecision=n,n&&!1===e.fp64&&(a=Float32Array),this.value=null,this.settings={...e,defaultType:a,defaultValue:o,logicalType:r,type:s,normalized:s.includes("norm"),size:this.size,bytesPerElement:a.BYTES_PER_ELEMENT},this.state={...t,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}}get isConstant(){return this.state.constant}get buffer(){return this._buffer}get byteOffset(){const A=this.getAccessor();return A.vertexOffset?A.vertexOffset*a(A):0}get numInstances(){return this.state.numInstances}set numInstances(A){this.state.numInstances=A}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),c.A.release(this.state.allocatedValue)}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(A=this.id,e=null){const t={};if(this.state.constant){const r=this.value;if(e){const n=h(this.getAccessor(),e),i=n.offset/r.BYTES_PER_ELEMENT,s=n.size||this.size;t[A]=r.subarray(i,i+s)}else t[A]=r}else t[A]=this.getBuffer();return this.doublePrecision&&(this.value instanceof Float64Array?t[`${A}64Low`]=t[A]:t[`${A}64Low`]=new Float32Array(this.size)),t}_getBufferLayout(A=this.id,e=null){const t=this.getAccessor(),r=[],n={name:this.id,byteStride:a(t),attributes:r};if(this.doublePrecision){const n=function(A,e){const t=h(A,e);return{high:t,low:{...t,offset:t.offset+4*A.size}}}(t,e||{});r.push(o(A,{...t,...n.high}),o(`${A}64Low`,{...t,...n.low}))}else if(e){const n=h(t,e);r.push(o(A,{...t,...n}))}else r.push(o(A,t));return n}setAccessor(A){this.state.bufferAccessor=A}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let A=null;if(this.state.constant&&this.value){const e=Array.from(this.value);A=[e,e]}else{const{value:e,numInstances:t,size:r}=this,n=t*r;if(e&&n&&e.length>=n){const t=new Array(r).fill(1/0),i=new Array(r).fill(-1/0);for(let A=0;A<n;)for(let n=0;n<r;n++){const r=e[A++];r<t[n]&&(t[n]=r),r>i[n]&&(i[n]=r)}A=[t,i]}}return this.state.bounds=A,A}setData(A){const{state:e}=this;let t;t=ArrayBuffer.isView(A)?{value:A}:A instanceof r.h?{buffer:A}:A;const n={...this.settings,...t};if(ArrayBuffer.isView(t.value)){if(!t.type){if(this.doublePrecision&&t.value instanceof Float64Array)n.type="float32";else{const A=s(t.value);n.type=n.normalized?A.replace("int","norm"):A}}n.bytesPerElement=t.value.BYTES_PER_ELEMENT,n.stride=a(n)}if(e.bounds=null,t.constant){let A=t.value;A=this._normalizeValue(A,[],0),this.settings.normalized&&(A=this.normalizeConstant(A));if(!(!e.constant||!this._areValuesEqual(A,this.value)))return!1;e.externalBuffer=null,e.constant=!0,this.value=ArrayBuffer.isView(A)?A:new Float32Array(A)}else if(t.buffer){const A=t.buffer;e.externalBuffer=A,e.constant=!1,this.value=t.value||null}else if(t.value){this._checkExternalBuffer(t);let A=t.value;e.externalBuffer=null,e.constant=!1,this.value=A;let{buffer:r}=this;const i=a(n),s=(n.vertexOffset||0)*i;if(this.doublePrecision&&A instanceof Float64Array&&(A=(0,l.cT)(A,n)),this.settings.isIndexed){const e=this.settings.defaultType;A.constructor!==e&&(A=new e(A))}const o=A.byteLength+s+2*i;(!r||r.byteLength<o)&&(r=this._createBuffer(o)),r.write(A,s)}return this.setAccessor(n),!0}updateSubBuffer(A={}){this.state.bounds=null;const e=this.value,{startOffset:t=0,endOffset:r}=A;this.buffer.write(this.doublePrecision&&e instanceof Float64Array?(0,l.cT)(e,{size:this.size,startIndex:t,endIndex:r}):e.subarray(t,r),t*e.BYTES_PER_ELEMENT+this.byteOffset)}allocate(A,e=!1){const{state:t}=this,r=t.allocatedValue,n=c.A.allocate(r,A+1,{size:this.size,type:this.settings.defaultType,copy:e});this.value=n;const{byteOffset:i}=this;let{buffer:s}=this;return(!s||s.byteLength<n.byteLength+i)&&(s=this._createBuffer(n.byteLength+i),e&&r&&s.write(r instanceof Float64Array?(0,l.cT)(r,this):r,i)),t.allocatedValue=n,t.constant=!1,t.externalBuffer=null,this.setAccessor(this.settings),!0}_checkExternalBuffer(A){const{value:e}=A;if(!ArrayBuffer.isView(e))throw new Error(`Attribute ${this.id} value is not TypedArray`);const t=this.settings.defaultType;let r=!1;if(this.doublePrecision&&(r=e.BYTES_PER_ELEMENT<4),r)throw new Error(`Attribute ${this.id} does not support ${e.constructor.name}`);e instanceof t||!this.settings.normalized||"normalized"in A||u.A.warn(`Attribute ${this.id} is normalized`)()}normalizeConstant(A){switch(this.settings.type){case"snorm8":return new Float32Array(A).map((A=>(A+128)/255*2-1));case"snorm16":return new Float32Array(A).map((A=>(A+32768)/65535*2-1));case"unorm8":return new Float32Array(A).map((A=>A/255));case"unorm16":return new Float32Array(A).map((A=>A/65535));default:return A}}_normalizeValue(A,e,t){const{defaultValue:r,size:n}=this.settings;if(Number.isFinite(A))return e[t]=A,e;if(!A){let A=n;for(;--A>=0;)e[t+A]=r[A];return e}switch(n){case 4:e[t+3]=Number.isFinite(A[3])?A[3]:r[3];case 3:e[t+2]=Number.isFinite(A[2])?A[2]:r[2];case 2:e[t+1]=Number.isFinite(A[1])?A[1]:r[1];case 1:e[t+0]=Number.isFinite(A[0])?A[0]:r[0];break;default:let i=n;for(;--i>=0;)e[t+i]=Number.isFinite(A[i])?A[i]:r[i]}return e}_areValuesEqual(A,e){if(!A||!e)return!1;const{size:t}=this;for(let r=0;r<t;r++)if(A[r]!==e[r])return!1;return!0}_createBuffer(A){this._buffer&&this._buffer.destroy();const{isIndexed:e,type:t}=this.settings;return this._buffer=this.device.createBuffer({...this._buffer?.props,id:this.id,usage:e?r.h.INDEX:r.h.VERTEX,indexType:e?t:void 0,byteLength:A}),this._buffer}}{constructor(A,e){super(A,e,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,layoutChanged:!1,updateRanges:_}),this.constant=!1,this.settings.update=e.update||(e.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(A){this.state.startIndices=A}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:A=!1}={}){const e=this.state.needsRedraw;return this.state.needsRedraw=e&&!A,e}layoutChanged(){return this.state.layoutChanged}setAccessor(A){var e,t;this.state.layoutChanged||=(e=A,t=this.getAccessor(),!(e.type===t.type&&e.size===t.size&&a(e)===a(t)&&(e.offset||0)===(t.offset||0))),super.setAccessor(A)}getUpdateTriggers(){const{accessor:A}=this.settings;return[this.id].concat("function"!=typeof A&&A||[])}supportsTransition(){return Boolean(this.settings.transition)}getTransitionSetting(A){if(!A||!this.supportsTransition())return null;const{accessor:e}=this.settings,t=this.settings.transition;return v(Array.isArray(e)?A[e.find((e=>A[e]))]:A[e],t)}setNeedsUpdate(A=this.id,e){if(this.state.needsUpdate=this.state.needsUpdate||A,this.setNeedsRedraw(A),e){const{startRow:A=0,endRow:t=1/0}=e;this.state.updateRanges=function(A,e){if(A===_)return A;if(e[0]<0&&(e[0]=0),e[0]>=e[1])return A;const t=[],r=A.length;let n=0;for(let i=0;i<r;i++){const r=A[i];r[1]<e[0]?(t.push(r),n=i+1):r[0]>e[1]?t.push(r):e=[Math.min(r[0],e[0]),Math.max(r[1],e[1])]}return t.splice(n,0,e),t}(this.state.updateRanges,[A,t])}else this.state.updateRanges=_}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=g}setNeedsRedraw(A=this.id){this.state.needsRedraw=this.state.needsRedraw||A}allocate(A){const{state:e,settings:t}=this;return!t.noAlloc&&(!!t.update&&(super.allocate(A,e.updateRanges!==_),!0))}updateBuffer({numInstances:A,data:e,props:t,context:r}){if(!this.needsUpdate())return!1;const{state:{updateRanges:n},settings:{update:i,noAlloc:s}}=this;let o=!0;if(i){for(const[s,o]of n)i.call(r,this,{data:e,startRow:s,endRow:o,props:t,numInstances:A});if(this.value)if(this.constant||!this.buffer||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[e,t]of n){const r=Number.isFinite(e)?this.getVertexOffset(e):0,n=Number.isFinite(t)?this.getVertexOffset(t):s||!Number.isFinite(A)?this.value.length:A*this.size;super.updateSubBuffer({startOffset:r,endOffset:n})}else;this._checkAttributeArray()}else o=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),o}setConstantValue(A){if(void 0===A||"function"==typeof A)return!1;return this.setData({constant:!0,value:A})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0}setExternalBuffer(A){const{state:e}=this;return A?(this.clearNeedsUpdate(),e.lastExternalBuffer===A||(e.lastExternalBuffer=A,this.setNeedsRedraw(),this.setData(A)),!0):(e.lastExternalBuffer=null,!1)}setBinaryValue(A,e=null){const{state:t,settings:r}=this;if(!A)return t.binaryValue=null,t.binaryAccessor=null,!1;if(r.noAlloc)return!1;if(t.binaryValue===A)return this.clearNeedsUpdate(),!0;t.binaryValue=A,this.setNeedsRedraw();if(r.transform||e!==this.startIndices){ArrayBuffer.isView(A)&&(A={value:A});const n=A;(0,f.A)(ArrayBuffer.isView(n.value),`invalid ${r.accessor}`);const i=Boolean(n.size)&&n.size!==this.size;return t.binaryAccessor=(0,d.I)(n.value,{size:n.size||this.size,stride:n.stride,offset:n.offset,startIndices:e,nested:i}),!1}return this.clearNeedsUpdate(),this.setData(A),!0}getVertexOffset(A){const{startIndices:e}=this;return(e?A<e.length?e[A]:this.numInstances:A)*this.size}getValue(){const A=this.settings.shaderAttributes,e=super.getValue();if(!A)return e;for(const t in A)Object.assign(e,super.getValue(t,A[t]));return e}getBufferLayout(A){this.state.layoutChanged=!1;const e=this.settings.shaderAttributes,t=super._getBufferLayout(),{stepMode:r}=this.settings;if(t.stepMode="dynamic"===r?A?A.isInstanced?"instance":"vertex":"instance":r??"vertex",!e)return t;for(const n in e){const A=super._getBufferLayout(n,e[n]);t.attributes.push(...A.attributes)}return t}_autoUpdater(A,{data:e,startRow:t,endRow:r,props:n,numInstances:i}){if(A.constant)return;const{settings:s,state:o,value:a,size:c,startIndices:l}=A,{accessor:u,transform:h}=s,g=o.binaryAccessor||("function"==typeof u?u:n[u]);(0,f.A)("function"==typeof g,`accessor "${u}" is not a function`);let _=A.getVertexOffset(t);const{iterable:m,objectInfo:v}=(0,d.X)(e,t,r);for(const f of m){v.index++;let e=g(f,v);if(h&&(e=h.call(this,e)),l){const t=(v.index<l.length-1?l[v.index+1]:i)-l[v.index];if(e&&Array.isArray(e[0])){let t=_;for(const r of e)A._normalizeValue(r,a,t),t+=c}else e&&e.length>c?a.set(e,_):(A._normalizeValue(e,v.target,0),(0,p.R)({target:a,source:v.target,start:_,count:t}));_+=t*c}else A._normalizeValue(e,a,_),_+=c}}_validateAttributeUpdaters(){const{settings:A}=this;if(!(A.noAlloc||"function"==typeof A.update))throw new Error(`Attribute ${this.id} missing update or accessor`)}_checkAttributeArray(){const{value:A}=this,e=Math.min(4,this.size);if(A&&A.length>=e){let t=!0;switch(e){case 4:t=t&&Number.isFinite(A[3]);case 3:t=t&&Number.isFinite(A[2]);case 2:t=t&&Number.isFinite(A[1]);case 1:t=t&&Number.isFinite(A[0]);break;default:t=!1}if(!t)throw new Error(`Illegal attribute generated for ${this.id}`)}}}var b=t(251),w=t(7277),y=t(290);function T(A){const{input:e,inputChannels:t,output:r}=A||{};if(!e)return"#version 300 es\nout vec4 transform_output;\nvoid main() {\ntransform_output = vec4(0);\n}";if(!t)throw new Error("inputChannels");return`#version 300 es\nin ${function(A){switch(A){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`invalid channels: ${A}`)}}(t)} ${e};\nout vec4 ${r};\nvoid main() {\n  ${r} = ${function(A,e){switch(e){case 1:return`vec4(${A}, 0.0, 0.0, 1.0)`;case 2:return`vec4(${A}, 0.0, 1.0)`;case 3:return`vec4(${A}, 1.0)`;case 4:return A;default:throw new Error(`invalid channels: ${e}`)}}(e,t)};\n}`}var S=t(457);class C{device;model;transformFeedback;static isSupported(A){return"webgl"===A?.info?.type}constructor(A,e=S.K.defaultProps){(0,y.v)(C.isSupported(A),"BufferTransform not yet implemented on WebGPU"),this.device=A,this.model=new S.K(this.device,{id:e.id||"buffer-transform-model",fs:e.fs||T(),topology:e.topology||"point-list",...e}),this.transformFeedback=this.device.createTransformFeedback({layout:this.model.pipeline.shaderLayout,buffers:e.feedbackBuffers}),this.model.setTransformFeedback(this.transformFeedback),Object.seal(this)}destroy(){this.model&&this.model.destroy()}delete(){this.destroy()}run(A){const e=this.device.beginRenderPass(A);this.model.draw(e),e.end()}update(...A){console.warn("TextureTransform#update() not implemented")}getBuffer(A){return this.transformFeedback.getBuffer(A)}readAsync(A){const e=this.getBuffer(A);if(e instanceof r.h)return e.readAsync();const{buffer:t,byteOffset:n=0,byteLength:i=t.byteLength}=e;return t.readAsync(n,i)}}function R(A,e=[],t=0){const r=Math.fround(A),n=A-r;return e[t]=r,e[t+1]=n,e}function P(A){return A-Math.fround(A)}function x(A){const e=new Float32Array(32);for(let t=0;t<4;++t)for(let r=0;r<4;++r){const n=4*t+r;R(A[4*r+t],e,2*n)}return e}const M={ONE:1};const k={name:"fp64-arithmetic",vs:"uniform float ONE;\nvec2 split(float a) {\nconst float SPLIT = 4097.0;\nfloat t = a * SPLIT;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\nfloat a_hi = t * ONE - (t - a);\nfloat a_lo = a * ONE - a_hi;\n#else\nfloat a_hi = t - (t - a);\nfloat a_lo = a - a_hi;\n#endif\nreturn vec2(a_hi, a_lo);\n}\nvec2 split2(vec2 a) {\nvec2 b = split(a.x);\nb.y += a.y;\nreturn b;\n}\nvec2 quickTwoSum(float a, float b) {\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\nfloat sum = (a + b) * ONE;\nfloat err = b - (sum - a) * ONE;\n#else\nfloat sum = a + b;\nfloat err = b - (sum - a);\n#endif\nreturn vec2(sum, err);\n}\nvec2 twoSum(float a, float b) {\nfloat s = (a + b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\nfloat v = (s * ONE - a) * ONE;\nfloat err = (a - (s - v) * ONE) * ONE * ONE * ONE + (b - v);\n#else\nfloat v = s - a;\nfloat err = (a - (s - v)) + (b - v);\n#endif\nreturn vec2(s, err);\n}\nvec2 twoSub(float a, float b) {\nfloat s = (a - b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\nfloat v = (s * ONE - a) * ONE;\nfloat err = (a - (s - v) * ONE) * ONE * ONE * ONE - (b + v);\n#else\nfloat v = s - a;\nfloat err = (a - (s - v)) - (b + v);\n#endif\nreturn vec2(s, err);\n}\nvec2 twoSqr(float a) {\nfloat prod = a * a;\nvec2 a_fp64 = split(a);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\nfloat err = ((a_fp64.x * a_fp64.x - prod) * ONE + 2.0 * a_fp64.x *\na_fp64.y * ONE * ONE) + a_fp64.y * a_fp64.y * ONE * ONE * ONE;\n#else\nfloat err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;\n#endif\nreturn vec2(prod, err);\n}\nvec2 twoProd(float a, float b) {\nfloat prod = a * b;\nvec2 a_fp64 = split(a);\nvec2 b_fp64 = split(b);\nfloat err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +\na_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;\nreturn vec2(prod, err);\n}\nvec2 sum_fp64(vec2 a, vec2 b) {\nvec2 s, t;\ns = twoSum(a.x, b.x);\nt = twoSum(a.y, b.y);\ns.y += t.x;\ns = quickTwoSum(s.x, s.y);\ns.y += t.y;\ns = quickTwoSum(s.x, s.y);\nreturn s;\n}\nvec2 sub_fp64(vec2 a, vec2 b) {\nvec2 s, t;\ns = twoSub(a.x, b.x);\nt = twoSub(a.y, b.y);\ns.y += t.x;\ns = quickTwoSum(s.x, s.y);\ns.y += t.y;\ns = quickTwoSum(s.x, s.y);\nreturn s;\n}\nvec2 mul_fp64(vec2 a, vec2 b) {\nvec2 prod = twoProd(a.x, b.x);\nprod.y += a.x * b.y;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\nprod = split2(prod);\n#endif\nprod = quickTwoSum(prod.x, prod.y);\nprod.y += a.y * b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\nprod = split2(prod);\n#endif\nprod = quickTwoSum(prod.x, prod.y);\nreturn prod;\n}\nvec2 div_fp64(vec2 a, vec2 b) {\nfloat xn = 1.0 / b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\nvec2 yn = mul_fp64(a, vec2(xn, 0));\n#else\nvec2 yn = a * xn;\n#endif\nfloat diff = (sub_fp64(a, mul_fp64(b, yn))).x;\nvec2 prod = twoProd(xn, diff);\nreturn sum_fp64(yn, prod);\n}\nvec2 sqrt_fp64(vec2 a) {\nif (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);\nif (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\nfloat x = 1.0 / sqrt(a.x);\nfloat yn = a.x * x;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\nvec2 yn_sqr = twoSqr(yn) * ONE;\n#else\nvec2 yn_sqr = twoSqr(yn);\n#endif\nfloat diff = sub_fp64(a, yn_sqr).x;\nvec2 prod = twoProd(x * 0.5, diff);\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\nreturn sum_fp64(split(yn), prod);\n#else\nreturn sum_fp64(vec2(yn, 0.0), prod);\n#endif\n}\n",getUniforms:function(){return M},fp64ify:R,fp64LowPart:P,fp64ifyMatrix4:x};function B(A){const{source:e,target:t,start:r=0,size:n,getData:i}=A,s=A.end||t.length,o=e.length,a=s-r;if(o>a)return void t.set(e.subarray(0,a),r);if(t.set(e,r),!i)return;let c=o;for(;c<a;){const A=i(c,e);for(let e=0;e<n;e++)t[r+c]=A[e]||0,c++}}function I(A){switch(A){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`No defined attribute type for size "${A}"`)}}function L(A){switch(A){case 1:return"float32";case 2:return"float32x2";case 3:return"float32x3";case 4:return"float32x4";default:throw new Error("invalid type size")}}function D(A){A.push(A.shift())}function O({device:A,source:e,target:t}){return(!t||t.byteLength<e.byteLength)&&(t?.destroy(),t=A.createBuffer({byteLength:e.byteLength,usage:e.usage})),t}function F({device:A,buffer:e,attribute:t,fromLength:r,toLength:n,fromStartIndices:i,getData:s=(A=>A)}){const o=t.doublePrecision&&t.value instanceof Float64Array?2:1,a=t.size*o,c=t.byteOffset,l=t.settings.bytesPerElement<4?c/t.settings.bytesPerElement*4:c,u=t.startIndices,h=i&&u,f=t.isConstant;if(!h&&e&&r>=n)return e;const d=t.value instanceof Float64Array?Float32Array:t.value.constructor,p=f?t.value:new d(t.getBuffer().readSyncWebGL(c,n*d.BYTES_PER_ELEMENT).buffer);if(t.settings.normalized&&!f){const A=s;s=(e,r)=>t.normalizeConstant(A(e,r))}const g=f?(A,e)=>s(p,e):(A,e)=>s(p.subarray(A+c,A+c+a),e),_=e?new Float32Array(e.readSyncWebGL(l,4*r).buffer):new Float32Array(0),m=new Float32Array(n);return function({source:A,target:e,size:t,getData:r,sourceStartIndices:n,targetStartIndices:i}){if(!n||!i)return B({source:A,target:e,size:t,getData:r}),e;let s=0,o=0;const a=r&&((A,e)=>r(A+o,e)),c=Math.min(n.length,i.length);for(let l=1;l<c;l++){const r=n[l]*t,c=i[l]*t;B({source:A.subarray(s,r),target:e,start:o,end:c,size:t,getData:a}),s=r,o=c}o<e.length&&B({source:[],target:e,start:o,size:t,getData:a})}({source:_,target:m,sourceStartIndices:i,targetStartIndices:u,size:a,getData:g}),(!e||e.byteLength<m.byteLength+l)&&(e?.destroy(),e=A.createBuffer({byteLength:m.byteLength+l,usage:35050})),e.write(m,l),e}var N=t(707);class U{constructor({device:A,attribute:e,timeline:t}){this.buffers=[],this.currentLength=0,this.device=A,this.transition=new N.A(t),this.attribute=e,this.attributeInTransition=function(A){const{device:e,settings:t,value:r}=A,n=new E(e,t);return n.setData({value:r instanceof Float64Array?new Float64Array(0):new Float32Array(0),normalized:t.normalized}),n}(e),this.currentStartIndices=e.startIndices}get inProgress(){return this.transition.inProgress}start(A,e,t=1/0){this.settings=A,this.currentStartIndices=this.attribute.startIndices,this.currentLength=function(A,e){const{doublePrecision:t,settings:r,value:n,size:i}=A,s=t&&n instanceof Float64Array?2:1;let o=0;const{shaderAttributes:a}=A.settings;if(a)for(const c of Object.values(a))o=Math.max(o,c.vertexOffset??0);return(r.noAlloc?n.length:(e+o)*i)*s}(this.attribute,e),this.transition.start({...A,duration:t})}update(){const A=this.transition.update();return A&&this.onUpdate(),A}setBuffer(A){this.attributeInTransition.setData({buffer:A,normalized:this.attribute.settings.normalized,value:this.attributeInTransition.value})}cancel(){this.transition.cancel()}delete(){this.cancel();for(const A of this.buffers)A.destroy();this.buffers.length=0}}const G="#version 300 es\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nin ATTRIBUTE_TYPE aFrom;\nin ATTRIBUTE_TYPE aTo;\nout ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n",z="#version 300 es\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nin ATTRIBUTE_TYPE aFrom;\nin ATTRIBUTE_TYPE aFrom64Low;\nin ATTRIBUTE_TYPE aTo;\nin ATTRIBUTE_TYPE aTo64Low;\nout ATTRIBUTE_TYPE vCurrent;\nout ATTRIBUTE_TYPE vCurrent64Low;\n\nvec2 mix_fp64(vec2 a, vec2 b, float x) {\n  vec2 range = sub_fp64(b, a);\n  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));\n}\n\nvoid main(void) {\n  for (int i=0; i<ATTRIBUTE_SIZE; i++) {\n    vec2 value = mix_fp64(vec2(aFrom[i], aFrom64Low[i]), vec2(aTo[i], aTo64Low[i]), time);\n    vCurrent[i] = value.x;\n    vCurrent64Low[i] = value.y;\n  }\n  gl_Position = vec4(0.0);\n}\n";function V(A){return A.doublePrecision&&A.value instanceof Float64Array}const Q="#version 300 es\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nin ATTRIBUTE_TYPE aPrev;\nin ATTRIBUTE_TYPE aCur;\nin ATTRIBUTE_TYPE aTo;\nout ATTRIBUTE_TYPE vNext;\nout float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",j="#version 300 es\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nin float vIsTransitioningFlag;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  fragColor = vec4(1.0);\n}";const W={interpolation:class extends U{constructor({device:A,attribute:e,timeline:t}){super({device:A,attribute:e,timeline:t}),this.type="interpolation",this.transform=function(A,e){const t=e.size,r=I(t),n=L(t),i=e.getBufferLayout();if(V(e))return new C(A,{vs:z,bufferLayout:[{name:"aFrom",byteStride:8*t,attributes:[{attribute:"aFrom",format:n,byteOffset:0},{attribute:"aFrom64Low",format:n,byteOffset:4*t}]},{name:"aTo",byteStride:8*t,attributes:[{attribute:"aTo",format:n,byteOffset:0},{attribute:"aTo64Low",format:n,byteOffset:4*t}]}],modules:[k],defines:{ATTRIBUTE_TYPE:r,ATTRIBUTE_SIZE:t},moduleSettings:{},varyings:["vCurrent","vCurrent64Low"],bufferMode:35980,disableWarnings:!0});return new C(A,{vs:G,bufferLayout:[{name:"aFrom",format:n},{name:"aTo",format:i.attributes[0].format}],defines:{ATTRIBUTE_TYPE:r},varyings:["vCurrent"],disableWarnings:!0})}(A,e)}start(A,e){const t=this.currentLength,r=this.currentStartIndices;if(super.start(A,e,A.duration),A.duration<=0)return void this.transition.cancel();const{buffers:n,attribute:i}=this;D(n),n[0]=F({device:this.device,buffer:n[0],attribute:i,fromLength:t,toLength:this.currentLength,fromStartIndices:r,getData:A.enter}),n[1]=O({device:this.device,source:n[0],target:n[1]}),this.setBuffer(n[1]);const{transform:s}=this,o=s.model;let a=Math.floor(this.currentLength/i.size);V(i)&&(a/=2),o.setVertexCount(a),i.isConstant?(o.setAttributes({aFrom:n[0]}),o.setConstantAttributes({aTo:i.value})):o.setAttributes({aFrom:n[0],aTo:i.getBuffer()}),s.transformFeedback.setBuffers({vCurrent:n[1]})}onUpdate(){const{duration:A,easing:e}=this.settings,{time:t}=this.transition;let r=t/A;e&&(r=e(r));const{model:n}=this.transform;n.setUniforms({time:r}),this.transform.run({discard:!0})}delete(){super.delete(),this.transform.destroy()}},spring:class extends U{constructor({device:A,attribute:e,timeline:t}){super({device:A,attribute:e,timeline:t}),this.type="spring",this.texture=function(A){return A.createTexture({data:new Uint8Array(4),format:"rgba8unorm",mipmaps:!1,width:1,height:1})}(A),this.framebuffer=function(A,e){return A.createFramebuffer({id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,colorAttachments:[e]})}(A,this.texture),this.transform=function(A,e){const t=I(e.size),r=L(e.size);return new C(A,{vs:Q,fs:j,bufferLayout:[{name:"aPrev",format:r},{name:"aCur",format:r},{name:"aTo",format:e.getBufferLayout().attributes[0].format}],varyings:["vNext"],defines:{ATTRIBUTE_TYPE:t},parameters:{depthCompare:"always",blendColorOperation:"max",blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaOperation:"max",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one"}})}(A,e)}start(A,e){const t=this.currentLength,r=this.currentStartIndices;super.start(A,e);const{buffers:n,attribute:i}=this;for(let o=0;o<2;o++)n[o]=F({device:this.device,buffer:n[o],attribute:i,fromLength:t,toLength:this.currentLength,fromStartIndices:r,getData:A.enter});n[2]=O({device:this.device,source:n[0],target:n[2]}),this.setBuffer(n[1]);const{model:s}=this.transform;s.setVertexCount(Math.floor(this.currentLength/i.size)),i.isConstant?s.setConstantAttributes({aTo:i.value}):s.setAttributes({aTo:i.getBuffer()})}onUpdate(){const{buffers:A,transform:e,framebuffer:t,transition:r}=this,n=this.settings;e.model.setAttributes({aPrev:A[0],aCur:A[1]}),e.transformFeedback.setBuffers({vNext:A[2]}),e.model.setUniforms({stiffness:n.stiffness,damping:n.damping}),e.run({framebuffer:t,discard:!1,parameters:{viewport:[0,0,1,1]},clearColor:[0,0,0,0]}),D(A),this.setBuffer(A[1]);this.device.readPixelsToArrayWebGL(t)[0]>0||r.end()}delete(){super.delete(),this.transform.destroy(),this.texture.destroy(),this.framebuffer.destroy()}}};class H{constructor(A,{id:e,timeline:t}){if(!A)throw new Error("AttributeTransitionManager is constructed without device");this.id=e,this.device=A,this.timeline=t,this.transitions={},this.needsRedraw=!1,this.numInstances=1}finalize(){for(const A in this.transitions)this._removeTransition(A)}update({attributes:A,transitions:e,numInstances:t}){this.numInstances=t||1;for(const r in A){const t=A[r],n=t.getTransitionSetting(e);n&&this._updateAttribute(r,t,n)}for(const r in this.transitions){const t=A[r];t&&t.getTransitionSetting(e)||this._removeTransition(r)}}hasAttribute(A){const e=this.transitions[A];return e&&e.inProgress}getAttributes(){const A={};for(const e in this.transitions){const t=this.transitions[e];t.inProgress&&(A[e]=t.attributeInTransition)}return A}run(){if(0===this.numInstances)return!1;for(const e in this.transitions){this.transitions[e].update()&&(this.needsRedraw=!0)}const A=this.needsRedraw;return this.needsRedraw=!1,A}_removeTransition(A){this.transitions[A].delete(),delete this.transitions[A]}_updateAttribute(A,e,t){const r=this.transitions[A];let n=!r||r.type!==t.type;if(n){r&&this._removeTransition(A);const i=W[t.type];i?this.transitions[A]=new i({attribute:e,timeline:this.timeline,device:this.device}):(u.A.error(`unsupported transition type '${t.type}'`)(),n=!1)}(n||e.needsRedraw())&&(this.needsRedraw=!0,this.transitions[A].start(t,this.numInstances))}}const X="attributeManager.invalidate";class Y{constructor(A,{id:e="attribute-manager",stats:t,timeline:r}={}){this.mergeBoundsMemoized=(0,b.A)(l._Z),this.id=e,this.device=A,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=t,this.attributeTransitionManager=new H(A,{id:`${e}-transitions`,timeline:r}),Object.seal(this)}finalize(){for(const A in this.attributes)this.attributes[A].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(A={clearRedrawFlags:!1}){const e=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!A.clearRedrawFlags,e&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(A){this._add(A)}addInstanced(A){this._add(A,{stepMode:"instance"})}remove(A){for(const e of A)void 0!==this.attributes[e]&&(this.attributes[e].delete(),delete this.attributes[e])}invalidate(A,e){const t=this._invalidateTrigger(A,e);(0,w.A)(X,this,A,t)}invalidateAll(A){for(const e in this.attributes)this.attributes[e].setNeedsUpdate(e,A);(0,w.A)(X,this,"all")}update({data:A,numInstances:e,startIndices:t=null,transitions:r,props:n={},buffers:i={},context:s={}}){let o=!1;(0,w.A)("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const a in this.attributes){const r=this.attributes[a],c=r.settings.accessor;r.startIndices=t,r.numInstances=e,n[a]&&u.A.removed(`props.${a}`,`data.attributes.${a}`)(),r.setExternalBuffer(i[a])||r.setBinaryValue("string"==typeof c?i[c]:void 0,A.startIndices)||"string"==typeof c&&!i[c]&&r.setConstantValue(n[c])||r.needsUpdate()&&(o=!0,this._updateAttribute({attribute:r,numInstances:e,data:A,props:n,context:s})),this.needsRedraw=this.needsRedraw||r.needsRedraw()}o&&(0,w.A)("attributeManager.updateEnd",this,e),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:e,transitions:r})}updateTransition(){const{attributeTransitionManager:A}=this,e=A.run();return this.needsRedraw=this.needsRedraw||e,e}getAttributes(){return{...this.attributes,...this.attributeTransitionManager.getAttributes()}}getBounds(A){const e=A.map((A=>this.attributes[A]?.getBounds()));return this.mergeBoundsMemoized(e)}getChangedAttributes(A={clearChangedFlags:!1}){const{attributes:e,attributeTransitionManager:t}=this,r={...t.getAttributes()};for(const n in e){const i=e[n];i.needsRedraw(A)&&!t.hasAttribute(n)&&(r[n]=i)}return r}getBufferLayouts(A){return Object.values(this.getAttributes()).map((e=>e.getBufferLayout(A)))}_add(A,e){for(const t in A){const r=A[t],n={...r,id:t,size:(r.isIndexed?1:r.size)||1,...e};this.attributes[t]=new E(this.device,n)}this._mapUpdateTriggersToAttributes()}_mapUpdateTriggersToAttributes(){const A={};for(const e in this.attributes){this.attributes[e].getUpdateTriggers().forEach((t=>{A[t]||(A[t]=[]),A[t].push(e)}))}this.updateTriggers=A}_invalidateTrigger(A,e){const{attributes:t,updateTriggers:r}=this,n=r[A];return n&&n.forEach((A=>{const r=t[A];r&&r.setNeedsUpdate(r.id,e)})),n}_updateAttribute(A){const{attribute:e,numInstances:t}=A;if((0,w.A)("attribute.updateStart",e),e.constant)return void e.setConstantValue(e.value);e.allocate(t)&&(0,w.A)("attribute.allocate",e,t);e.updateBuffer(A)&&(this.needsRedraw=!0,(0,w.A)("attribute.updateEnd",e,t))}}var K=t(4315);class Z extends N.A{get value(){return this._value}_onUpdate(){const{time:A,settings:{fromValue:e,toValue:t,duration:r,easing:n}}=this,i=n(A/r);this._value=(0,K.Cc)(e,t,i)}}const $=1e-5;function q(A,e,t,r,n){const i=e-A;return(t-e)*n+-i*r+i+e}function J(A,e){if(Array.isArray(A)){let t=0;for(let r=0;r<A.length;r++){const n=A[r]-e[r];t+=n*n}return Math.sqrt(t)}return Math.abs(A-e)}class AA extends N.A{get value(){return this._currValue}_onUpdate(){const{fromValue:A,toValue:e,damping:t,stiffness:r}=this.settings,{_prevValue:n=A,_currValue:i=A}=this;let s=function(A,e,t,r,n){if(Array.isArray(t)){const i=[];for(let s=0;s<t.length;s++)i[s]=q(A[s],e[s],t[s],r,n);return i}return q(A,e,t,r,n)}(n,i,e,t,r);const o=J(s,e),a=J(s,i);o<$&&a<$&&(s=e,this.end()),this._prevValue=i,this._currValue=s}}const eA={interpolation:Z,spring:AA};class tA{constructor(A){this.transitions=new Map,this.timeline=A}get active(){return this.transitions.size>0}add(A,e,t,r){const{transitions:n}=this;if(n.has(A)){const t=n.get(A),{value:r=t.settings.fromValue}=t;e=r,this.remove(A)}if(!(r=v(r)))return;const i=eA[r.type];if(!i)return void u.A.error(`unsupported transition type '${r.type}'`)();const s=new i(this.timeline);s.start({...r,fromValue:e,toValue:t}),n.set(A,s)}remove(A){const{transitions:e}=this;e.has(A)&&(e.get(A).cancel(),e.delete(A))}update(){const A={};for(const[e,t]of this.transitions)t.update(),A[e]=t.value,t.inProgress||this.remove(e);return A}clear(){for(const A of this.transitions.keys())this.remove(A)}}var rA=t(8427);function nA(A,e){const t=sA({newProps:A,oldProps:e,propTypes:A[rA.fW],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),r=function(A,e){if(null===e)return"oldProps is null, initial diff";let t=!1;const{dataComparator:r,_dataDiff:n}=A;r?r(A.data,e.data)||(t="Data comparator detected a change"):A.data!==e.data&&(t="A new data container was supplied");t&&n&&(t=n(A.data,e.data)||t);return t}(A,e);let n=!1;return r||(n=function(A,e){if(null===e)return{all:!0};if("all"in A.updateTriggers){if(cA(A,e,"all"))return{all:!0}}const t={};let r=!1;for(const n in A.updateTriggers)if("all"!==n){cA(A,e,n)&&(t[n]=!0,r=!0)}return!!r&&t}(A,e)),{dataChanged:r,propsChanged:t,updateTriggersChanged:n,extensionsChanged:aA(A,e),transitionsChanged:iA(A,e)}}function iA(A,e){if(!A.transitions)return!1;const t={},r=A[rA.fW];let n=!1;for(const i in A.transitions){const s=r[i],o=s&&s.type;("number"===o||"color"===o||"array"===o)&&oA(A[i],e[i],s)&&(t[i]=!0,n=!0)}return!!n&&t}function sA({newProps:A,oldProps:e,ignoreProps:t={},propTypes:r={},triggerName:n="props"}){if(e===A)return!1;if("object"!=typeof A||null===A)return`${n} changed shallowly`;if("object"!=typeof e||null===e)return`${n} changed shallowly`;for(const i of Object.keys(A))if(!(i in t)){if(!(i in e))return`${n}.${i} added`;const t=oA(A[i],e[i],r[i]);if(t)return`${n}.${i} ${t}`}for(const i of Object.keys(e))if(!(i in t)){if(!(i in A))return`${n}.${i} dropped`;if(!Object.hasOwnProperty.call(A,i)){const t=oA(A[i],e[i],r[i]);if(t)return`${n}.${i} ${t}`}}return!1}function oA(A,e,t){let r=t&&t.equal;return r&&!r(A,e,t)?"changed deeply":r||(r=A&&e&&A.equals,!r||r.call(A,e))?r||e===A?null:"changed shallowly":"changed deeply"}function aA(A,e){if(null===e)return!0;const t=e.extensions,{extensions:r}=A;if(r===t)return!1;if(!t||!r)return!0;if(r.length!==t.length)return!0;for(let n=0;n<r.length;n++)if(!r[n].equals(t[n]))return!0;return!1}function cA(A,e,t){let r=A.updateTriggers[t];r=null==r?{}:r;let n=e.updateTriggers[t];n=null==n?{}:n;return sA({oldProps:n,newProps:r,triggerName:t})}function lA(A){if(null===(e=A)||"object"!=typeof e)throw new Error("count(): argument not an object");var e;if("function"==typeof A.count)return A.count();if(Number.isFinite(A.size))return A.size;if(Number.isFinite(A.length))return A.length;if(function(A){return null!==A&&"object"==typeof A&&A.constructor===Object}(A))return Object.keys(A).length;throw new Error("count(): argument not a container")}var uA=t(6938),hA=t(8624),fA=t(6992),dA=t(7964),pA=t(6425),gA=t(9451);const _A=[0,0,0];function mA(A,e,t=!1){const r=e.projectPosition(A);if(t&&e instanceof fA.A){const[t,n,i=0]=A,s=e.getDistanceScales([t,n]);r[2]=i*s.unitsPerMeter[2]}return r}function vA(A,{viewport:e,modelMatrix:t,coordinateSystem:r,coordinateOrigin:i,offsetMode:s}){let[o,a,c=0]=A;switch(t&&([o,a,c]=dA.Z0([],[o,a,c,1],t)),r){case n.rf.LNGLAT:return mA([o,a,c],e,s);case n.rf.LNGLAT_OFFSETS:return mA([o+i[0],a+i[1],c+(i[2]||0)],e,s);case n.rf.METER_OFFSETS:return mA((0,gA.dT)(i,[o,a,c]),e,s);case n.rf.CARTESIAN:default:return e.isGeospatial?[o+i[0],a+i[1],c+i[2]]:e.projectPosition([o,a,c])}}function EA(A,e){const{viewport:t,coordinateSystem:r,coordinateOrigin:i,modelMatrix:s,fromCoordinateSystem:o,fromCoordinateOrigin:a}=function(A){const{viewport:e,modelMatrix:t,coordinateOrigin:r}=A;let{coordinateSystem:i,fromCoordinateSystem:s,fromCoordinateOrigin:o}=A;return i===n.rf.DEFAULT&&(i=e.isGeospatial?n.rf.LNGLAT:n.rf.CARTESIAN),void 0===s&&(s=i),void 0===o&&(o=r),{viewport:e,coordinateSystem:i,coordinateOrigin:r,modelMatrix:t,fromCoordinateSystem:s,fromCoordinateOrigin:o}}(e),{autoOffset:c=!0}=e,{geospatialOrigin:l=_A,shaderCoordinateOrigin:u=_A,offsetMode:h=!1}=c?(0,hA.o)(t,r,i):{},f=vA(A,{viewport:t,modelMatrix:s,coordinateSystem:o,coordinateOrigin:a,offsetMode:h});if(h){const A=t.projectPosition(l||u);pA.jb(f,f,A)}return f}var bA=t(5428);const wA={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},yA={};var TA=t(688);const SA={boolean:{validate:(A,e)=>!0,equal:(A,e,t)=>Boolean(A)===Boolean(e)},number:{validate:(A,e)=>Number.isFinite(A)&&(!("max"in e)||A<=e.max)&&(!("min"in e)||A>=e.min)},color:{validate:(A,e)=>e.optional&&!A||PA(A)&&(3===A.length||4===A.length),equal:(A,e,t)=>(0,TA.b)(A,e,1)},accessor:{validate(A,e){const t=xA(A);return"function"===t||t===xA(e.value)},equal:(A,e,t)=>"function"==typeof e||(0,TA.b)(A,e,1)},array:{validate:(A,e)=>e.optional&&!A||PA(A),equal(A,e,t){const{compare:r}=t,n=Number.isInteger(r)?r:r?1:0;return r?(0,TA.b)(A,e,n):A===e}},object:{equal(A,e,t){if(t.ignore)return!0;const{compare:r}=t,n=Number.isInteger(r)?r:r?1:0;return r?(0,TA.b)(A,e,n):A===e}},function:{validate:(A,e)=>e.optional&&!A||"function"==typeof A,equal:(A,e,t)=>!t.compare&&!1!==t.ignore||A===e},data:{transform:(A,e,t)=>{if(!A)return A;const{dataTransform:r}=t.props;return r?r(A):"string"==typeof A.shape&&A.shape.endsWith("-table")&&Array.isArray(A.data)?A.data:A}},image:{transform:(A,e,t)=>{const r=t.context;return r&&r.device?function(A,e,t,r){if(t instanceof bA.g)return t;t.constructor&&"Object"!==t.constructor.name&&(t={data:t});let n=null;t.compressed&&(n={minFilter:"linear",mipmapFilter:t.data.length>1?"nearest":"linear"});const i=e.createTexture({...t,sampler:{...wA,...n,...r}});return yA[i.id]=A,i}(t.id,r.device,A,{...e.parameters,...t.props.textureParameters}):null},release:(A,e,t)=>{var r,n;r=t.id,(n=A)&&n instanceof bA.g&&yA[n.id]===r&&(n.delete(),delete yA[n.id])}}};function CA(A,e){switch(xA(e)){case"object":return RA(A,e);case"array":return RA(A,{type:"array",value:e,compare:!1});case"boolean":return RA(A,{type:"boolean",value:e});case"number":return RA(A,{type:"number",value:e});case"function":return RA(A,{type:"function",value:e,compare:!0});default:return{name:A,type:"unknown",value:e}}}function RA(A,e){return"type"in e?{name:A,...SA[e.type],...e}:"value"in e?{name:A,type:xA(e.value),...e}:{name:A,type:"object",value:e}}function PA(A){return Array.isArray(A)||ArrayBuffer.isView(A)}function xA(A){return PA(A)?"array":null===A?"null":typeof A}function MA(A,e){let t="_mergedDefaultProps";if(e)for(const n of e){const A=n.constructor;A&&(t+=`:${A.extensionName||A.name}`)}const r=IA(A,t);return r||(A[t]=function(A,e){if(!A.prototype)return null;const t=MA(Object.getPrototypeOf(A)),r=function(A){const e={},t={},r={};for(const[n,i]of Object.entries(A)){const A=i?.deprecatedFor;if(A)r[n]=Array.isArray(A)?A:[A];else{const A=CA(n,i);e[n]=A,t[n]=A.value}}return{propTypes:e,defaultProps:t,deprecatedProps:r}}(IA(A,"defaultProps")||{}),n=Object.assign(Object.create(null),t,r.defaultProps),i=Object.assign(Object.create(null),t?.[rA.fW],r.propTypes),s=Object.assign(Object.create(null),t?.[rA.uH],r.deprecatedProps);for(const o of e){const A=MA(o.constructor);A&&(Object.assign(n,A),Object.assign(i,A[rA.fW]),Object.assign(s,A[rA.uH]))}(function(A,e){const t=function(A){const e=A.componentName;e||u.A.warn(`${A.name}.componentName not specified`)();return e||A.name}(e);Object.defineProperties(A,{id:{writable:!0,value:t}})})(n,A),function(A,e){const t={},r={};for(const n in e){const A=e[n],{name:i,value:s}=A;A.async&&(t[i]=s,r[i]=kA(i))}A[rA.jA]=t,A[rA.YN]={},Object.defineProperties(A,r)}(n,i),function(A,e){for(const t in e)Object.defineProperty(A,t,{enumerable:!1,set(A){const r=`${this.id}: ${t}`;for(const n of e[t])BA(this,n)||(this[n]=A);u.A.deprecated(r,e[t].join("/"))()}})}(n,s),n[rA.fW]=i,n[rA.uH]=s,0!==e.length||BA(A,"_propTypes")||(A._propTypes=i);return n}(A,e||[]))}function kA(A){return{enumerable:!0,set(e){"string"==typeof e||e instanceof Promise||(0,d.Td)(e)?this[rA.YN][A]=e:this[rA.vf][A]=e},get(){if(this[rA.vf]){if(A in this[rA.vf]){return this[rA.vf][A]||this[rA.jA][A]}if(A in this[rA.YN]){const e=this[rA.r3]&&this[rA.r3].internalState;if(e&&e.hasAsyncProp(A))return e.getAsyncProp(A)||this[rA.jA][A]}}return this[rA.jA][A]}}}function BA(A,e){return Object.prototype.hasOwnProperty.call(A,e)}function IA(A,e){return BA(A,e)&&A[e]}let LA=0;class DA{static{this.componentName="Component"}static{this.defaultProps={}}constructor(...A){this.props=function(A,e){let t;for(let i=e.length-1;i>=0;i--){const A=e[i];"extensions"in A&&(t=A.extensions)}const r=MA(A.constructor,t),n=Object.create(r);n[rA.r3]=A,n[rA.YN]={},n[rA.vf]={};for(let i=0;i<e.length;++i){const A=e[i];for(const e in A)n[e]=A[e]}return Object.freeze(n),n}(this,A),this.id=this.props.id,this.count=LA++}clone(A){const{props:e}=this,t={};for(const r in e[rA.jA])r in e[rA.vf]?t[r]=e[rA.vf][r]:r in e[rA.YN]&&(t[r]=e[rA.YN][r]);return new this.constructor({...e,...t,...A})}}const OA=Object.freeze({});class FA extends class{constructor(A){this.component=A,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const A in this.asyncProps){const e=this.asyncProps[A];e&&e.type&&e.type.release&&e.type.release(e.resolvedValue,e.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}getOldProps(){return this.oldAsyncProps||this.oldProps||OA}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}hasAsyncProp(A){return A in this.asyncProps}getAsyncProp(A){const e=this.asyncProps[A];return e&&e.resolvedValue}isAsyncPropLoading(A){if(A){const e=this.asyncProps[A];return Boolean(e&&e.pendingLoadCount>0&&e.pendingLoadCount!==e.resolvedLoadCount)}for(const e in this.asyncProps)if(this.isAsyncPropLoading(e))return!0;return!1}reloadAsyncProp(A,e){this._watchPromise(A,Promise.resolve(e))}setAsyncProps(A){this.component=A[rA.r3]||this.component;const e=A[rA.vf]||{},t=A[rA.YN]||A,r=A[rA.jA]||{};for(const n in e){const A=e[n];this._createAsyncPropData(n,r[n]),this._updateAsyncProp(n,A),e[n]=this.getAsyncProp(n)}for(const n in t){const A=t[n];this._createAsyncPropData(n,r[n]),this._updateAsyncProp(n,A)}}_fetch(A,e){return null}_onResolve(A,e){}_onError(A,e){}_updateAsyncProp(A,e){this._didAsyncInputValueChange(A,e)&&("string"==typeof e&&(e=this._fetch(A,e)),e instanceof Promise?this._watchPromise(A,e):(0,d.Td)(e)?this._resolveAsyncIterable(A,e):this._setPropValue(A,e))}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const A in this.asyncProps)Object.defineProperty(this.oldAsyncProps,A,{enumerable:!0,value:this.oldProps[A]})}}_didAsyncInputValueChange(A,e){const t=this.asyncProps[A];return e!==t.resolvedValue&&e!==t.lastValue&&(t.lastValue=e,!0)}_setPropValue(A,e){this._freezeAsyncOldProps();const t=this.asyncProps[A];t&&(e=this._postProcessValue(t,e),t.resolvedValue=e,t.pendingLoadCount++,t.resolvedLoadCount=t.pendingLoadCount)}_setAsyncPropValue(A,e,t){const r=this.asyncProps[A];r&&t>=r.resolvedLoadCount&&void 0!==e&&(this._freezeAsyncOldProps(),r.resolvedValue=e,r.resolvedLoadCount=t,this.onAsyncPropUpdated(A,e))}_watchPromise(A,e){const t=this.asyncProps[A];if(t){t.pendingLoadCount++;const r=t.pendingLoadCount;e.then((e=>{this.component&&(e=this._postProcessValue(t,e),this._setAsyncPropValue(A,e,r),this._onResolve(A,e))})).catch((e=>{this._onError(A,e)}))}}async _resolveAsyncIterable(A,e){if("data"!==A)return void this._setPropValue(A,e);const t=this.asyncProps[A];if(!t)return;t.pendingLoadCount++;const r=t.pendingLoadCount;let n=[],i=0;for await(const s of e){if(!this.component)return;const{dataTransform:e}=this.component.props;n=e?e(s,n):n.concat(s),Object.defineProperty(n,"__diff",{enumerable:!1,value:[{startRow:i,endRow:n.length}]}),i=n.length,this._setAsyncPropValue(A,n,r)}this._onResolve(A,n)}_postProcessValue(A,e){const t=A.type;return t&&this.component&&(t.release&&t.release(A.resolvedValue,t,this.component),t.transform)?t.transform(e,t,this.component):e}_createAsyncPropData(A,e){if(!this.asyncProps[A]){const t=this.component&&this.component.props[rA.fW];this.asyncProps[A]={type:t&&t[A],lastValue:null,resolvedValue:e,pendingLoadCount:0,resolvedLoadCount:0}}}}{constructor({attributeManager:A,layer:e}){super(e),this.attributeManager=A,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}_fetch(A,e){const t=this.layer,r=t?.props.fetch;return r?r(e,{propName:A,layer:t}):super._fetch(A,e)}_onResolve(A,e){const t=this.layer;if(t){const r=t.props.onDataLoad;"data"===A&&r&&r(e,{propName:A,layer:t})}}_onError(A,e){const t=this.layer;t&&t.raiseError(e,`loading ${A} of ${this.layer}`)}}var NA=t(2240);const UA=2**24-1,GA=Object.freeze([]),zA=(0,b.A)((({oldViewport:A,viewport:e})=>A.equals(e)));let VA=new Uint8ClampedArray(0);const QA={data:{type:"data",value:GA,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:A=>A&&A.__diff,optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:(A,{propName:e,layer:t,loaders:r,loadOptions:n,signal:i})=>{const{resourceManager:s}=t.context;n=n||t.getLoadOptions(),r=r||t.props.loaders,i&&(n={...n,fetch:{...n?.fetch,signal:i}});let o=s.contains(A);return o||n||(s.add({resourceId:A,data:(0,NA.H)(A,r),persistent:!1}),o=!0),o?s.subscribe({resourceId:A,onChange:A=>t.internalState?.reloadAsyncProp(e,A),consumerId:t.id,requestId:e}):(0,NA.H)(A,r,n)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:n.rf.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:({layerIndex:A})=>[0,100*-A]},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class jA extends DA{constructor(){super(...arguments),this.internalState=null,this.lifecycle=rA.VD.NO_STATE,this.parent=null}static{this.defaultProps=QA}static{this.layerName="Layer"}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}get root(){let A=this;for(;A.parent;)A=A.parent;return A}toString(){return`${this.constructor.layerName||this.constructor.name}({id: '${this.props.id}'})`}project(A){(0,f.A)(this.internalState);const e=this.internalState.viewport||this.context.viewport,t=vA(A,{viewport:e,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[r,n,i]=(0,gA.VJ)(t,e.pixelProjectionMatrix);return 2===A.length?[r,n]:[r,n,i]}unproject(A){(0,f.A)(this.internalState);return(this.internalState.viewport||this.context.viewport).unproject(A)}projectPosition(A,e){(0,f.A)(this.internalState);return EA(A,{viewport:this.internalState.viewport||this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...e})}get isComposite(){return!1}setState(A){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,A),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){const A=this.state;return A&&(A.models||A.model&&[A.model])||[]}setModuleParameters(A){for(const e of this.getModels())e.updateModuleSettings(A)}setShaderModuleProps(...A){for(const e of this.getModels())e.shaderInputs.setProps(...A)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:A}=this.props;return A===n.rf.DEFAULT||A===n.rf.LNGLAT||A===n.rf.CARTESIAN}onHover(A,e){return this.props.onHover&&this.props.onHover(A,e)||!1}onClick(A,e){return this.props.onClick&&this.props.onClick(A,e)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(A,e=[]){return e[0]=A+1&255,e[1]=A+1>>8&255,e[2]=A+1>>8>>8&255,e}decodePickingColor(A){(0,f.A)(A instanceof Uint8Array);const[e,t,r]=A;return e+256*t+65536*r-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:lA(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){return this.getAttributeManager()?.getBounds(["positions","instancePositions"])}getShaders(A){A=(0,uA.n)(A,{disableWarnings:!0,modules:this.context.defaultShaderModules});for(const e of this.props.extensions)A=(0,uA.n)(A,e.getShaders.call(this,e));return A}shouldUpdateState(A){return A.changeFlags.propsOrDataChanged}updateState(A){const e=this.getAttributeManager(),{dataChanged:t}=A.changeFlags;if(t&&e)if(Array.isArray(t))for(const r of t)e.invalidateAll(r);else e.invalidateAll();if(e){const{props:t}=A,r=this.internalState.hasPickingBuffer,n=Number.isInteger(t.highlightedObjectIndex)||t.pickable||t.extensions.some((A=>A.getNeedsPickingBuffer.call(this,A)));if(r!==n){this.internalState.hasPickingBuffer=n;const{pickingColors:A,instancePickingColors:t}=e.attributes,r=A||t;r&&(n&&r.constant&&(r.constant=!1,e.invalidate(r.id)),r.value||n||(r.constant=!0,r.value=[0,0,0]))}}}finalizeState(A){for(const t of this.getModels())t.destroy();const e=this.getAttributeManager();e&&e.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(A){for(const e of this.getModels())e.draw(A)}getPickingInfo({info:A,mode:e,sourceLayer:t}){const{index:r}=A;return r>=0&&Array.isArray(this.props.data)&&(A.object=this.props.data[r]),A}raiseError(A,e){e&&(A=new Error(`${e}: ${A.message}`,{cause:A})),this.props.onError?.(A)||this.context?.onError?.(A,this)}getNeedsRedraw(A={clearRedrawFlags:!1}){return this._getNeedsRedraw(A)}needsUpdate(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}hasUniformTransition(){return this.internalState?.uniformTransitions.active||!1}activateViewport(A){if(!this.internalState)return;const e=this.internalState.viewport;this.internalState.viewport=A,e&&zA({oldViewport:e,viewport:A})||(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(A="all"){const e=this.getAttributeManager();e&&("all"===A?e.invalidateAll():e.invalidate(A))}updateAttributes(A){let e=!1;for(const t in A)A[t].layoutChanged()&&(e=!0);for(const t of this.getModels())this._setModelAttributes(t,A,e)}_updateAttributes(){const A=this.getAttributeManager();if(!A)return;const e=this.props,t=this.getNumInstances(),r=this.getStartIndices();A.update({data:e.data,numInstances:t,startIndices:r,props:e,transitions:e.transitions,buffers:e.data.attributes,context:this});const n=A.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(n)}_updateAttributeTransition(){const A=this.getAttributeManager();A&&A.updateTransition()}_updateUniformTransition(){const{uniformTransitions:A}=this.internalState;if(A.active){const e=A.update(),t=Object.create(this.props);for(const A in e)Object.defineProperty(t,A,{value:e[A]});return t}return this.props}calculateInstancePickingColors(A,{numInstances:e}){if(A.constant)return;const t=Math.floor(VA.length/4);if(this.internalState.usesPickingColorCache=!0,t<e){e>UA&&u.A.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),VA=c.A.allocate(VA,e,{size:4,copy:!0,maxCount:Math.max(e,UA)});const A=Math.floor(VA.length/4),r=[];for(let e=t;e<A;e++)this.encodePickingColor(e,r),VA[4*e+0]=r[0],VA[4*e+1]=r[1],VA[4*e+2]=r[2]}A.value=VA.subarray(0,4*e)}_setModelAttributes(A,e,t=!1){if(!Object.keys(e).length)return;if(t){const t=this.getAttributeManager();A.setBufferLayout(t.getBufferLayouts(A)),e=t.getAttributes()}const n=A.userData?.excludeAttributes||{},i={},s={};for(const o in e){if(n[o])continue;const t=e[o].getValue();for(const n in t){const a=t[n];a instanceof r.h?e[o].settings.isIndexed?A.setIndexBuffer(a):i[n]=a:a&&(s[n]=a)}}A.setAttributes(i),A.setConstantAttributes(s)}disablePickingIndex(A){const e=this.props.data;if(!("attributes"in e))return void this._disablePickingIndex(A);const{pickingColors:t,instancePickingColors:r}=this.getAttributeManager().attributes,n=t||r,i=n&&e.attributes&&e.attributes[n.id];if(i&&i.value){const t=i.value,r=this.encodePickingColor(A);for(let A=0;A<e.length;A++){const e=n.getVertexOffset(A);t[e]===r[0]&&t[e+1]===r[1]&&t[e+2]===r[2]&&this._disablePickingIndex(A)}}else this._disablePickingIndex(A)}_disablePickingIndex(A){const{pickingColors:e,instancePickingColors:t}=this.getAttributeManager().attributes,r=e||t;if(!r)return;const n=r.getVertexOffset(A),i=r.getVertexOffset(A+1);r.buffer.write(new Uint8Array(i-n),n)}restorePickingColors(){const{pickingColors:A,instancePickingColors:e}=this.getAttributeManager().attributes,t=A||e;t&&(this.internalState.usesPickingColorCache&&t.value.buffer!==VA.buffer&&(t.value=VA.subarray(0,t.value.length)),t.updateSubBuffer({startOffset:0}))}_initialize(){(0,f.A)(!this.internalState),(0,f.A)(Number.isFinite(this.props.coordinateSystem)),(0,w.A)("layer.initialize",this);const A=this._getAttributeManager();A&&A.addInstanced({instancePickingColors:{type:"uint8",size:4,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new FA({attributeManager:A,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(u.A.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),A)}),this.internalState.uniformTransitions=new tA(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const e of this.props.extensions)e.initializeState.call(this,this.context,e);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(A){(0,w.A)("layer.matched",this,this===A);const{state:e,internalState:t}=A;this!==A&&(this.internalState=t,this.state=e,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const A=this.needsUpdate();if((0,w.A)("layer.update",this,A),!A)return;const e=this.props,t=this.context,r=this.internalState,n=t.viewport,i=this._updateUniformTransition();r.propsInTransition=i,t.viewport=r.viewport||n,this.props=i;try{const A=this._getUpdateParams(),i=this.getModels();if(t.device)this.updateState(A);else try{this.updateState(A)}catch(s){}for(const e of this.props.extensions)e.updateState.call(this,A,e);const o=this.getModels()[0]!==i[0];this._postUpdate(A,o)}finally{t.viewport=n,this.props=e,this._clearChangeFlags(),r.needsUpdate=!1,r.resetOldProps()}}_finalize(){(0,w.A)("layer.finalize",this),this.finalizeState(this.context);for(const A of this.props.extensions)A.finalizeState.call(this,this.context,A)}_drawLayer({renderPass:A,moduleParameters:e=null,uniforms:t={},parameters:r={}}){this._updateAttributeTransition();const n=this.props,i=this.context;this.props=this.internalState.propsInTransition||n;const s=this.props.opacity;t.opacity=Math.pow(s,1/2.2);try{if(e){const{isActive:A,isAttribute:t}=e.picking;this.setModuleParameters(e),this.setShaderModuleProps({picking:{isActive:A,isAttribute:t}})}const{getPolygonOffset:s}=this.props,o=s&&s(t)||[0,0];i.device.setParametersWebGL({polygonOffset:o});for(const A of this.getModels())A.setParameters(r);i.device.withParametersWebGL(r,(()=>{const n={renderPass:A,moduleParameters:e,uniforms:t,parameters:r,context:i};for(const A of this.props.extensions)A.draw.call(this,n,A);this.draw(n)}))}finally{this.props=n}}getChangeFlags(){return this.internalState?.changeFlags}setChangeFlags(A){if(!this.internalState)return;const{changeFlags:e}=this.internalState;for(const r in A)if(A[r]){let t=!1;if("dataChanged"===r){const n=A[r],i=e[r];n&&Array.isArray(i)&&(e.dataChanged=Array.isArray(n)?i.concat(n):n,t=!0)}e[r]||(e[r]=A[r],t=!0),t&&(0,w.A)("layer.changeFlag",this,r,A)}const t=Boolean(e.dataChanged||e.updateTriggersChanged||e.propsChanged||e.extensionsChanged);e.propsOrDataChanged=t,e.somethingChanged=t||e.viewportChanged||e.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(A,e){const t=nA(A,e);if(t.updateTriggersChanged)for(const r in t.updateTriggersChanged)t.updateTriggersChanged[r]&&this.invalidateAttribute(r);if(t.transitionsChanged)for(const r in t.transitionsChanged)this.internalState.uniformTransitions.add(r,e[r],A[r],A.transitions?.[r]);return this.setChangeFlags(t)}validateProps(){!function(A){const e=A[rA.fW];for(const t in e){const r=e[t],{validate:n}=r;if(n&&!n(A[t],r))throw new Error(`Invalid prop ${t}: ${A[t]}`)}}(this.props)}updateAutoHighlight(A){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(A)}_updateAutoHighlight(A){const e={highlightedObjectColor:A.picked?A.color:null},{highlightColor:t}=this.props;A.picked&&"function"==typeof t&&(e.highlightColor=t(A)),this.setShaderModuleProps({picking:e}),this.setNeedsRedraw()}_getAttributeManager(){const A=this.context;return new Y(A.device,{id:this.props.id,stats:A.stats,timeline:A.timeline})}_postUpdate(A,e){const{props:t,oldProps:r}=A;this.setNeedsRedraw(),this._updateAttributes();const n=this.state.model;n?.isInstanced&&n.setInstanceCount(this.getNumInstances());const{autoHighlight:i,highlightedObjectIndex:s,highlightColor:o}=t;if(e||r.autoHighlight!==i||r.highlightedObjectIndex!==s||r.highlightColor!==o){const A={};i||(A.highlightedObjectColor=null),Array.isArray(o)&&(A.highlightColor=o),(e||s!==r.highlightedObjectIndex)&&(A.highlightedObjectColor=Number.isFinite(s)&&s>=0?this.encodePickingColor(s):null),this.setShaderModuleProps({picking:A})}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(A){if(!this.internalState)return!1;let e=!1;e=e||this.internalState.needsRedraw&&this.id;const t=this.getAttributeManager(),r=!!t&&t.getNeedsRedraw(A);if(e=e||r,e)for(const n of this.props.extensions)n.onNeedsRedraw.call(this,n);return this.internalState.needsRedraw=this.internalState.needsRedraw&&!A.clearRedrawFlags,e}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}},8427:(A,e,t)=>{"use strict";t.d(e,{VD:()=>r,YN:()=>a,fW:()=>i,jA:()=>o,r3:()=>n,uH:()=>s,vf:()=>c});const r={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},n=Symbol.for("component"),i=Symbol.for("propTypes"),s=Symbol.for("deprecatedProps"),o=Symbol.for("asyncPropDefaults"),a=Symbol.for("asyncPropOriginal"),c=Symbol.for("asyncPropResolved")},6690:(A,e,t)=>{"use strict";t.d(e,{A:()=>l});const r={name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\nfloat sin_taylor_fp32(float a) {\nfloat r, s, t, x;\nif (a == 0.0) {\nreturn 0.0;\n}\nx = -a * a;\ns = a;\nr = a;\nr = r * x;\nt = r * INVERSE_FACTORIAL_3;\ns = s + t;\nr = r * x;\nt = r * INVERSE_FACTORIAL_5;\ns = s + t;\nr = r * x;\nt = r * INVERSE_FACTORIAL_7;\ns = s + t;\nr = r * x;\nt = r * INVERSE_FACTORIAL_9;\ns = s + t;\nreturn s;\n}\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\nif (a == 0.0) {\nsin_t = 0.0;\ncos_t = 1.0;\n}\nsin_t = sin_taylor_fp32(a);\ncos_t = sqrt(1.0 - sin_t * sin_t);\n}\nfloat tan_taylor_fp32(float a) {\nfloat sin_a;\nfloat cos_a;\nif (a == 0.0) {\nreturn 0.0;\n}\nfloat z = floor(a / TWO_PI);\nfloat r = a - TWO_PI * z;\nfloat t;\nfloat q = floor(r / PI_2 + 0.5);\nint j = int(q);\nif (j < -2 || j > 2) {\nreturn 1.0 / 0.0;\n}\nt = r - PI_2 * q;\nq = floor(t / PI_16 + 0.5);\nint k = int(q);\nint abs_k = int(abs(float(k)));\nif (abs_k > 4) {\nreturn 1.0 / 0.0;\n} else {\nt = t - PI_16 * q;\n}\nfloat u = 0.0;\nfloat v = 0.0;\nfloat sin_t, cos_t;\nfloat s, c;\nsincos_taylor_fp32(t, sin_t, cos_t);\nif (k == 0) {\ns = sin_t;\nc = cos_t;\n} else {\nif (abs(float(abs_k) - 1.0) < 0.5) {\nu = COS_TABLE_0;\nv = SIN_TABLE_0;\n} else if (abs(float(abs_k) - 2.0) < 0.5) {\nu = COS_TABLE_1;\nv = SIN_TABLE_1;\n} else if (abs(float(abs_k) - 3.0) < 0.5) {\nu = COS_TABLE_2;\nv = SIN_TABLE_2;\n} else if (abs(float(abs_k) - 4.0) < 0.5) {\nu = COS_TABLE_3;\nv = SIN_TABLE_3;\n}\nif (k > 0) {\ns = u * sin_t + v * cos_t;\nc = u * cos_t - v * sin_t;\n} else {\ns = u * sin_t - v * cos_t;\nc = u * cos_t + v * sin_t;\n}\n}\nif (j == 0) {\nsin_a = s;\ncos_a = c;\n} else if (j == 1) {\nsin_a = c;\ncos_a = -s;\n} else if (j == -1) {\nsin_a = -c;\ncos_a = s;\n} else {\nsin_a = -s;\ncos_a = -c;\n}\nreturn sin_a / cos_a;\n}\n#endif\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nreturn tan_taylor_fp32(a);\n#else\nreturn tan(a);\n#endif\n}\n"},n="#define SMOOTH_EDGE_RADIUS 0.5",i={name:"geometry",vs:`\n${n}\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n`,fs:`\n${n}\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n`};var s=t(6704);const o=`${Object.keys(s.rf).map((A=>`const int COORDINATE_SYSTEM_${A} = ${s.rf[A]};`)).join("")}\n${Object.keys(s.Kx).map((A=>`const int PROJECTION_MODE_${A} = ${s.Kx[A]};`)).join("")}\n${Object.keys(s.p5).map((A=>`const int UNIT_${A.toUpperCase()} = ${s.p5[A]};`)).join("")}\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0;\nconst float GLOBE_RADIUS = 256.0;\nfloat project_size_at_latitude(float lat) {\nfloat y = clamp(lat, -89.9, 89.9);\nreturn 1.0 / cos(radians(y));\n}\nfloat project_size() {\nif (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\nproject_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\nproject_uPseudoMeters == false) {\nif (geometry.position.w == 0.0) {\nreturn project_size_at_latitude(geometry.worldPosition.y);\n}\nfloat y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\nfloat y2 = y * y;\nfloat y4 = y2 * y2;\nfloat y6 = y4 * y2;\nreturn 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n}\nreturn 1.0;\n}\nfloat project_size_at_latitude(float meters, float lat) {\nreturn meters * project_uCommonUnitsPerMeter.z * project_size_at_latitude(lat);\n}\nfloat project_size(float meters) {\nreturn meters * project_uCommonUnitsPerMeter.z * project_size();\n}\nvec2 project_size(vec2 meters) {\nreturn meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\nvec3 project_size(vec3 meters) {\nreturn meters * project_uCommonUnitsPerMeter * project_size();\n}\nvec4 project_size(vec4 meters) {\nreturn vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\nmat3 project_get_orientation_matrix(vec3 up) {\nvec3 uz = normalize(up);\nvec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\nvec3 uy = cross(uz, ux);\nreturn mat3(ux, uy, uz);\n}\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\nif (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\ntransform = project_get_orientation_matrix(commonPosition);\nreturn true;\n}\nreturn false;\n}\nvec3 project_normal(vec3 vector) {\nvec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\nvec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\nmat3 rotation;\nif (project_needs_rotation(geometry.position.xyz, rotation)) {\nn = rotation * n;\n}\nreturn n;\n}\nvec4 project_offset_(vec4 offset) {\nfloat dy = offset.y;\nvec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\nreturn vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\nvec2 project_mercator_(vec2 lnglat) {\nfloat x = lnglat.x;\nif (project_uWrapLongitude) {\nx = mod(x + 180., 360.0) - 180.;\n}\nfloat y = clamp(lnglat.y, -89.9, 89.9);\nreturn vec2(\nradians(x) + PI,\nPI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n) * WORLD_SCALE;\n}\nvec3 project_globe_(vec3 lnglatz) {\nfloat lambda = radians(lnglatz.x);\nfloat phi = radians(lnglatz.y);\nfloat cosPhi = cos(phi);\nfloat D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\nreturn vec3(\nsin(lambda) * cosPhi,\n-cos(lambda) * cosPhi,\nsin(phi)\n) * D;\n}\nvec4 project_position(vec4 position, vec3 position64Low) {\nvec4 position_world = project_uModelMatrix * position;\nif (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\nif (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\nreturn vec4(\nproject_mercator_(position_world.xy),\nproject_size_at_latitude(position_world.z, position_world.y),\nposition_world.w\n);\n}\nif (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\nposition_world.xyz += project_uCoordinateOrigin;\n}\n}\nif (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\nif (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\nreturn vec4(\nproject_globe_(position_world.xyz),\nposition_world.w\n);\n}\n}\nif (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\nif (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\nif (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\nreturn vec4(\nproject_mercator_(position_world.xy) - project_uCommonOrigin.xy,\nproject_size(position_world.z),\nposition_world.w\n);\n}\n}\n}\nif (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n(project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n(project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\nproject_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\nposition_world.xyz -= project_uCoordinateOrigin;\n}\nreturn project_offset_(position_world) + project_offset_(project_uModelMatrix * vec4(position64Low, 0.0));\n}\nvec4 project_position(vec4 position) {\nreturn project_position(position, ZERO_64_LOW);\n}\nvec3 project_position(vec3 position, vec3 position64Low) {\nvec4 projected_position = project_position(vec4(position, 1.0), position64Low);\nreturn projected_position.xyz;\n}\nvec3 project_position(vec3 position) {\nvec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\nreturn projected_position.xyz;\n}\nvec2 project_position(vec2 position) {\nvec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\nreturn projected_position.xy;\n}\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\nreturn viewProjectionMatrix * position + center;\n}\nvec4 project_common_position_to_clipspace(vec4 position) {\nreturn project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\nvec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\nreturn offset * project_uFocalDistance;\n}\nfloat project_size_to_pixel(float meters) {\nreturn project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\nif (unit == UNIT_METERS) return project_size_to_pixel(size);\nif (unit == UNIT_COMMON) return size * project_uScale;\nreturn size;\n}\nfloat project_pixel_size(float pixels) {\nreturn pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\nreturn pixels / project_uScale;\n}\n`;var a=t(8624);const c={};const l={name:"project",dependencies:[r,i],vs:o,getUniforms:function(A=c){return"viewport"in A?(0,a.a)(A):{}}}},8624:(A,e,t)=>{"use strict";t.d(e,{a:()=>d,o:()=>f});var r=t(7964),n=t(3348),i=t(6704),s=t(251);const o=[0,0,0,0],a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],l=[0,0,0],u=[0,0,0],h=(0,s.A)((function({viewport:A,devicePixelRatio:e,coordinateSystem:t,coordinateOrigin:s}){const{projectionCenter:u,viewProjectionMatrix:h,originCommon:d,cameraPosCommon:p,shaderCoordinateOrigin:g,geospatialOrigin:_}=function(A,e,t){const{viewMatrixUncentered:i,projectionMatrix:s}=A;let{viewMatrix:c,viewProjectionMatrix:l}=A,u=o,h=o,d=A.cameraPosition;const{geospatialOrigin:p,shaderCoordinateOrigin:g,offsetMode:_}=f(A,e,t);_&&(h=A.projectPosition(p||g),d=[d[0]-h[0],d[1]-h[1],d[2]-h[2]],h[3]=1,u=r.Z0([],h,l),c=i||c,l=n.lw([],s,c),l=n.lw([],l,a));return{viewMatrix:c,viewProjectionMatrix:l,projectionCenter:u,originCommon:h,cameraPosCommon:d,shaderCoordinateOrigin:g,geospatialOrigin:p}}(A,t,s),m=A.getDistanceScales(),v=[A.width*e,A.height*e],E=r.Z0([],[0,0,-A.focalDistance,1],A.projectionMatrix)[3]||1,b={project_uCoordinateSystem:t,project_uProjectionMode:A.projectionMode,project_uCoordinateOrigin:g,project_uCommonOrigin:d.slice(0,3),project_uCenter:u,project_uPseudoMeters:Boolean(A._pseudoMeters),project_uViewportSize:v,project_uDevicePixelRatio:e,project_uFocalDistance:E,project_uCommonUnitsPerMeter:m.unitsPerMeter,project_uCommonUnitsPerWorldUnit:m.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:l,project_uScale:A.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:h,project_uModelMatrix:c,project_uCameraPosition:p};if(_){const e=A.getDistanceScales(_);switch(t){case i.rf.METER_OFFSETS:b.project_uCommonUnitsPerWorldUnit=e.unitsPerMeter,b.project_uCommonUnitsPerWorldUnit2=e.unitsPerMeter2;break;case i.rf.LNGLAT:case i.rf.LNGLAT_OFFSETS:A._pseudoMeters||(b.project_uCommonUnitsPerMeter=e.unitsPerMeter),b.project_uCommonUnitsPerWorldUnit=e.unitsPerDegree,b.project_uCommonUnitsPerWorldUnit2=e.unitsPerDegree2;break;case i.rf.CARTESIAN:b.project_uCommonUnitsPerWorldUnit=[1,1,e.unitsPerMeter[2]],b.project_uCommonUnitsPerWorldUnit2=[0,0,e.unitsPerMeter2[2]]}}return b}));function f(A,e,t=u){t.length<3&&(t=[t[0],t[1],0]);let r,n=t,s=!0;switch(r=e===i.rf.LNGLAT_OFFSETS||e===i.rf.METER_OFFSETS?t:A.isGeospatial?[Math.fround(A.longitude),Math.fround(A.latitude),0]:null,A.projectionMode){case i.Kx.WEB_MERCATOR:e!==i.rf.LNGLAT&&e!==i.rf.CARTESIAN||(r=[0,0,0],s=!1);break;case i.Kx.WEB_MERCATOR_AUTO_OFFSET:e===i.rf.LNGLAT?n=r:e===i.rf.CARTESIAN&&(n=[Math.fround(A.center[0]),Math.fround(A.center[1]),0],r=A.unprojectPosition(n),n[0]-=t[0],n[1]-=t[1],n[2]-=t[2]);break;case i.Kx.IDENTITY:n=A.position.map(Math.fround),n[2]=n[2]||0;break;case i.Kx.GLOBE:s=!1,r=null;break;default:s=!1}return{geospatialOrigin:r,shaderCoordinateOrigin:n,offsetMode:s}}function d({viewport:A,devicePixelRatio:e=1,modelMatrix:t=null,coordinateSystem:r=i.rf.DEFAULT,coordinateOrigin:n=u,autoWrapLongitude:s=!1}){r===i.rf.DEFAULT&&(r=A.isGeospatial?i.rf.LNGLAT:i.rf.CARTESIAN);const o=h({viewport:A,devicePixelRatio:e,coordinateSystem:r,coordinateOrigin:n});return o.project_uWrapLongitude=s,o.project_uModelMatrix=t||c,o}},4299:(A,e,t)=>{"use strict";t.d(e,{A:()=>a});var r=t(9873),n=t(4315),i=t(9451);const s={bearing:0,pitch:0,position:[0,0,0]},o={speed:1.2,curve:1.414};class a extends r.A{constructor(A={}){super({compare:["longitude","latitude","zoom","bearing","pitch","position"],extract:["width","height","longitude","latitude","zoom","bearing","pitch","position"],required:["width","height","latitude","longitude","zoom"]}),this.opts={...o,...A}}interpolateProps(A,e,t){const r=(0,i.rj)(A,e,t,this.opts);for(const i in s)r[i]=(0,n.Cc)(A[i]||s[i],e[i]||s[i],t);return r}getDuration(A,e){let{transitionDuration:t}=e;return"auto"===t&&(t=(0,i.v7)(A,e,this.opts)),t}}},9873:(A,e,t)=>{"use strict";t.d(e,{A:()=>i});var r=t(4315),n=t(1829);class i{constructor(A){const{compare:e,extract:t,required:r}=A;this._propsToCompare=e,this._propsToExtract=t||e,this._requiredProps=r}arePropsEqual(A,e){for(const t of this._propsToCompare)if(!(t in A)||!(t in e)||!(0,r.aI)(A[t],e[t]))return!1;return!0}initializeProps(A,e){const t={},r={};for(const n of this._propsToExtract)(n in A||n in e)&&(t[n]=A[n],r[n]=e[n]);return this._checkRequiredProps(t),this._checkRequiredProps(r),{start:t,end:r}}getDuration(A,e){return e.transitionDuration}_checkRequiredProps(A){this._requiredProps&&this._requiredProps.forEach((e=>{const t=A[e];(0,n.A)(Number.isFinite(t)||Array.isArray(t),`${e} is required for transition`)}))}}},707:(A,e,t)=>{"use strict";t.d(e,{A:()=>r});class r{constructor(A){this._inProgress=!1,this._handle=null,this.time=0,this.settings={duration:0},this._timeline=A}get inProgress(){return this._inProgress}start(A){this.cancel(),this.settings=A,this._inProgress=!0,this.settings.onStart?.(this)}end(){this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,this.settings.onEnd?.(this))}cancel(){this._inProgress&&(this.settings.onInterrupt?.(this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){if(!this._inProgress)return!1;if(null===this._handle){const{_timeline:A,settings:e}=this;this._handle=A.addChannel({delay:A.getTime(),duration:e.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),this.settings.onUpdate?.(this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}},1829:(A,e,t)=>{"use strict";function r(A,e){if(!A)throw new Error(e||"deck.gl: assertion failed.")}t.d(e,{A:()=>r})},688:(A,e,t)=>{"use strict";function r(A,e,t){if(A===e)return!0;if(!t||!A||!e)return!1;if(Array.isArray(A)){if(!Array.isArray(e)||A.length!==e.length)return!1;for(let n=0;n<A.length;n++)if(!r(A[n],e[n],t-1))return!1;return!0}if(Array.isArray(e))return!1;if("object"==typeof A&&"object"==typeof e){const n=Object.keys(A),i=Object.keys(e);if(n.length!==i.length)return!1;for(const s of n){if(!e.hasOwnProperty(s))return!1;if(!r(A[s],e[s],t-1))return!1}return!0}return!1}t.d(e,{b:()=>r})},5801:(A,e,t)=>{"use strict";function r(A,e=(()=>!0)){return Array.isArray(A)?n(A,e,[]):e(A)?[A]:[]}function n(A,e,t){let r=-1;for(;++r<A.length;){const i=A[r];Array.isArray(i)?n(i,e,t):e(i)&&t.push(i)}return t}function i({target:A,source:e,start:t=0,count:r=1}){const n=e.length,i=r*n;let s=0;for(let o=t;s<n;s++)A[o++]=e[s];for(;s<i;)s<i-s?(A.copyWithin(t+s,t,t+s),s*=2):(A.copyWithin(t+s,t,t+i-s),s=i);return A}t.d(e,{B:()=>r,R:()=>i})},1729:(A,e,t)=>{"use strict";t.d(e,{I:()=>o,Td:()=>s,X:()=>i});const r=[],n=[];function i(A,e=0,t=1/0){let i=r;const s={index:-1,data:A,target:[]};return A?"function"==typeof A[Symbol.iterator]?i=A:A.length>0&&(n.length=A.length,i=n):i=r,(e>0||Number.isFinite(t))&&(i=(Array.isArray(i)?i:Array.from(i)).slice(e,t),s.index=e-1),{iterable:i,objectInfo:s}}function s(A){return A&&A[Symbol.asyncIterator]}function o(A,e){const{size:t,stride:r,offset:n,startIndices:i,nested:s}=e,o=A.BYTES_PER_ELEMENT,a=r?r/o:t,c=n?n/o:0,l=Math.floor((A.length-c)/a);return(e,{index:r,target:n})=>{if(!i){const e=r*a+c;for(let r=0;r<t;r++)n[r]=A[e+r];return n}const o=i[r],u=i[r+1]||l;let h;if(s){h=new Array(u-o);for(let e=o;e<u;e++){const r=e*a+c;n=new Array(t);for(let e=0;e<t;e++)n[e]=A[r+e];h[e-o]=n}}else if(a===t)h=A.subarray(o*t+c,u*t+c);else{h=new A.constructor((u-o)*t);let e=0;for(let r=o;r<u;r++){const n=r*a+c;for(let r=0;r<t;r++)h[e++]=A[n+r]}}return h}}},8277:(A,e,t)=>{"use strict";t.d(e,{A:()=>r});const r=new(t(5335).t)({id:"deck"})},453:(A,e,t)=>{"use strict";t.d(e,{$M:()=>i,Vl:()=>s,_Z:()=>h,cT:()=>u,on:()=>o});var r=t(8457),n=t(5427);function i(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function s(A){return[A[12],A[13],A[14]]}function o(A){return{left:c(A[3]+A[0],A[7]+A[4],A[11]+A[8],A[15]+A[12]),right:c(A[3]-A[0],A[7]-A[4],A[11]-A[8],A[15]-A[12]),bottom:c(A[3]+A[1],A[7]+A[5],A[11]+A[9],A[15]+A[13]),top:c(A[3]-A[1],A[7]-A[5],A[11]-A[9],A[15]-A[13]),near:c(A[3]+A[2],A[7]+A[6],A[11]+A[10],A[15]+A[14]),far:c(A[3]-A[2],A[7]-A[6],A[11]-A[10],A[15]-A[14])}}const a=new n.P;function c(A,e,t,r){a.set(A,e,t);const i=a.len();return{distance:r/i,normal:new n.P(-A/i,-e/i,-t/i)}}let l;function u(A,e){const{size:t=1,startIndex:n=0}=e,i=void 0!==e.endIndex?e.endIndex:A.length,s=(i-n)/t;l=r.A.allocate(l,s,{type:Float32Array,size:2*t});let o=n,a=0;for(;o<i;){for(let e=0;e<t;e++){const r=A[o++];l[a+e]=r,l[a+e+t]=(c=r)-Math.fround(c)}a+=2*t}var c;return l.subarray(0,s*t*2)}function h(A){let e=null,t=!1;for(const r of A)r&&(e?(t||(e=[[e[0][0],e[0][1]],[e[1][0],e[1][1]]],t=!0),e[0][0]=Math.min(e[0][0],r[0][0]),e[0][1]=Math.min(e[0][1],r[0][1]),e[1][0]=Math.max(e[1][0],r[1][0]),e[1][1]=Math.max(e[1][1],r[1][1])):e=r);return e}},251:(A,e,t)=>{"use strict";function r(A,e){if(A===e)return!0;if(Array.isArray(A)){const t=A.length;if(!e||e.length!==t)return!1;for(let r=0;r<t;r++)if(A[r]!==e[r])return!1;return!0}return!1}function n(A){let e,t={};return n=>{for(const i in n)if(!r(n[i],t[i])){e=A(n),t=n;break}return e}}t.d(e,{A:()=>n})},6938:(A,e,t)=>{"use strict";function r(A,e){if(!e)return A;const t={...A,...e};if("defines"in e&&(t.defines={...A.defines,...e.defines}),"modules"in e&&(t.modules=(A.modules||[]).concat(e.modules),e.modules.some((A=>"project64"===A.name)))){const A=t.modules.findIndex((A=>"project32"===A.name));A>=0&&t.modules.splice(A,1)}if("inject"in e)if(A.inject){const r={...A.inject};for(const A in e.inject)r[A]=(r[A]||"")+e.inject[A];t.inject=r}else t.inject=e.inject;return t}t.d(e,{n:()=>r})},8457:(A,e,t)=>{"use strict";t.d(e,{A:()=>r});const r=new class{constructor(A={}){this._pool=[],this.opts={overAlloc:2,poolSize:100},this.setOptions(A)}setOptions(A){Object.assign(this.opts,A)}allocate(A,e,{size:t=1,type:r,padding:n=0,copy:i=!1,initialize:s=!1,maxCount:o}){const a=r||A&&A.constructor||Float32Array,c=e*t+n;if(ArrayBuffer.isView(A)){if(c<=A.length)return A;if(c*A.BYTES_PER_ELEMENT<=A.buffer.byteLength)return new a(A.buffer,0,c)}let l=1/0;o&&(l=o*t+n);const u=this._allocate(a,c,s,l);return A&&i?u.set(A):s||u.fill(0,0,4),this._release(A),u}release(A){this._release(A)}_allocate(A,e,t,r){let n=Math.max(Math.ceil(e*this.opts.overAlloc),1);n>r&&(n=r);const i=this._pool,s=A.BYTES_PER_ELEMENT*n,o=i.findIndex((A=>A.byteLength>=s));if(o>=0){const e=new A(i.splice(o,1)[0],0,n);return t&&e.fill(0),e}return new A(n)}_release(A){if(!ArrayBuffer.isView(A))return;const e=this._pool,{buffer:t}=A,{byteLength:r}=t,n=e.findIndex((A=>A.byteLength>=r));n<0?e.push(t):(n>0||e.length<this.opts.poolSize)&&e.splice(n,0,t),e.length>this.opts.poolSize&&e.shift()}}},5775:(A,e,t)=>{"use strict";t.d(e,{A:()=>p});var r=t(8277),n=t(453),i=t(2879),s=t(4315),o=t(5427),a=t(3348),c=t(9451),l=t(6704);const u=Math.PI/180,h=(0,n.$M)(),f=[0,0,0],d={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};class p{static{this.displayName="Viewport"}constructor(A={}){this._frustumPlanes={},this.id=A.id||this.constructor.displayName||"viewport",this.x=A.x||0,this.y=A.y||0,this.width=A.width||1,this.height=A.height||1,this.zoom=A.zoom||0,this.padding=A.padding,this.distanceScales=A.distanceScales||d,this.focalDistance=A.focalDistance||1,this.position=A.position||f,this.modelMatrix=A.modelMatrix||null;const{longitude:e,latitude:t}=A;this.isGeospatial=Number.isFinite(t)&&Number.isFinite(e),this._initProps(A),this._initMatrices(A),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?l.Kx.WEB_MERCATOR:l.Kx.WEB_MERCATOR_AUTO_OFFSET:l.Kx.IDENTITY}equals(A){return A instanceof p&&(this===A||A.width===this.width&&A.height===this.height&&A.scale===this.scale&&(0,s.aI)(A.projectionMatrix,this.projectionMatrix)&&(0,s.aI)(A.viewMatrix,this.viewMatrix))}project(A,{topLeft:e=!0}={}){const t=this.projectPosition(A),r=(0,c.VJ)(t,this.pixelProjectionMatrix),[n,i]=r,s=e?i:this.height-i;return 2===A.length?[n,s]:[n,s,r[2]]}unproject(A,{topLeft:e=!0,targetZ:t}={}){const[r,n,i]=A,s=e?n:this.height-n,o=t&&t*this.distanceScales.unitsPerMeter[2],a=(0,c.xJ)([r,s,i],this.pixelUnprojectionMatrix,o),[l,u,h]=this.unprojectPosition(a);return Number.isFinite(i)?[l,u,h]:Number.isFinite(t)?[l,u,t]:[l,u]}projectPosition(A){const[e,t]=this.projectFlat(A);return[e,t,(A[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(A){const[e,t]=this.unprojectFlat(A);return[e,t,(A[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(A){if(this.isGeospatial){const e=(0,c.Gw)(A);return e[1]=(0,s.qE)(e[1],-318,830),e}return A}unprojectFlat(A){return this.isGeospatial?(0,c.iV)(A):A}getBounds(A={}){const e={targetZ:A.z||0},t=this.unproject([0,0],e),r=this.unproject([this.width,0],e),n=this.unproject([0,this.height],e),i=this.unproject([this.width,this.height],e);return[Math.min(t[0],r[0],n[0],i[0]),Math.min(t[1],r[1],n[1],i[1]),Math.max(t[0],r[0],n[0],i[0]),Math.max(t[1],r[1],n[1],i[1])]}getDistanceScales(A){return A?(0,c.nI)({longitude:A[0],latitude:A[1],highPrecision:!0}):this.distanceScales}containsPixel({x:A,y:e,width:t=1,height:r=1}){return A<this.x+this.width&&this.x<A+t&&e<this.y+this.height&&this.y<e+r}getFrustumPlanes(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,(0,n.on)(this.viewProjectionMatrix)),this._frustumPlanes}panByPosition(A,e){return null}_initProps(A){const e=A.longitude,t=A.latitude;this.isGeospatial&&(Number.isFinite(A.zoom)||(this.zoom=(0,c.fO)({latitude:t})+Math.log2(this.focalDistance)),this.distanceScales=A.distanceScales||(0,c.nI)({latitude:t,longitude:e}));const r=Math.pow(2,this.zoom);this.scale=r;const{position:n,modelMatrix:s}=A;let a=f;if(n&&(a=s?new i.k(s).transformAsVector(n,[]):n),this.isGeospatial){const A=this.projectPosition([e,t,0]);this.center=new o.P(a).scale(this.distanceScales.unitsPerMeter).add(A)}else this.center=this.projectPosition(a)}_initMatrices(A){const{viewMatrix:e=h,projectionMatrix:t=null,orthographic:c=!1,fovyRadians:l,fovy:f=75,near:d=.1,far:p=1e3,padding:g=null,focalDistance:_=1}=A;this.viewMatrixUncentered=e,this.viewMatrix=(new i.k).multiplyRight(e).translate(new o.P(this.center).negate()),this.projectionMatrix=t||function({width:A,height:e,orthographic:t,fovyRadians:r,focalDistance:n,padding:o,near:a,far:c}){const l=A/e,u=t?(new i.k).orthographic({fovy:r,aspect:l,focalDistance:n,near:a,far:c}):(new i.k).perspective({fovy:r,aspect:l,near:a,far:c});if(o){const{left:t=0,right:r=0,top:n=0,bottom:i=0}=o,a=(0,s.qE)((t+A-r)/2,0,A)-A/2,c=(0,s.qE)((n+e-i)/2,0,e)-e/2;u[8]-=2*a/A,u[9]+=2*c/e}return u}({width:this.width,height:this.height,orthographic:c,fovyRadians:l||f*u,focalDistance:_,padding:g,near:d,far:p});const m=(0,n.$M)();a.lw(m,m,this.projectionMatrix),a.lw(m,m,this.viewMatrix),this.viewProjectionMatrix=m,this.viewMatrixInverse=a.B8([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=(0,n.Vl)(this.viewMatrixInverse);const v=(0,n.$M)(),E=(0,n.$M)();a.hs(v,v,[this.width/2,-this.height/2,1]),a.Tl(v,v,[1,-1,0]),a.lw(E,v,this.viewProjectionMatrix),this.pixelProjectionMatrix=E,this.pixelUnprojectionMatrix=a.B8((0,n.$M)(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||r.A.warn("Pixel project matrix not invertible")()}}},6992:(A,e,t)=>{"use strict";t.d(e,{A:()=>a});var r=t(5775),n=t(9451),i=t(4315),s=t(2879),o=t(9210);class a extends r.A{static{this.displayName="WebMercatorViewport"}constructor(A={}){const{latitude:e=0,longitude:t=0,zoom:r=0,pitch:o=0,bearing:a=0,nearZMultiplier:c=.1,farZMultiplier:l=1.01,nearZ:u,farZ:h,orthographic:f=!1,projectionMatrix:d,repeat:p=!1,worldOffset:g=0,position:_,padding:m,legacyMeterSizes:v=!1}=A;let{width:E,height:b,altitude:w=1.5}=A;const y=Math.pow(2,r);let T;E=E||1,b=b||1;let S=null;if(d)w=d[5]/2,T=(0,n.Os)(w);else{let t;if(A.fovy?(T=A.fovy,w=(0,n.wZ)(T)):T=(0,n.Os)(w),m){const{top:A=0,bottom:e=0}=m;t=[0,(0,i.qE)((A+b-e)/2,0,b)-b/2]}S=(0,n.om)({width:E,height:b,scale:y,center:_&&[0,0,_[2]*(0,n.mY)(e)],offset:t,pitch:o,fovy:T,nearZMultiplier:c,farZMultiplier:l}),Number.isFinite(u)&&(S.near=u),Number.isFinite(h)&&(S.far=h)}let C=(0,n.rY)({height:b,pitch:o,bearing:a,scale:y,altitude:w});if(g){C=(new s.k).translate([512*g,0,0]).multiplyLeft(C)}super({...A,width:E,height:b,viewMatrix:C,longitude:t,latitude:e,zoom:r,...S,fovy:T,focalDistance:w}),this.latitude=e,this.longitude=t,this.zoom=r,this.pitch=o,this.bearing=a,this.altitude=w,this.fovy=T,this.orthographic=f,this._subViewports=p?[]:null,this._pseudoMeters=v,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const A=this.getBounds(),e=Math.floor((A[0]+180)/360),t=Math.ceil((A[2]-180)/360);for(let r=e;r<=t;r++){const A=r?new a({...this,worldOffset:r}):this;this._subViewports.push(A)}}return this._subViewports}projectPosition(A){if(this._pseudoMeters)return super.projectPosition(A);const[e,t]=this.projectFlat(A);return[e,t,(A[2]||0)*(0,n.mY)(A[1])]}unprojectPosition(A){if(this._pseudoMeters)return super.unprojectPosition(A);const[e,t]=this.unprojectFlat(A);return[e,t,(A[2]||0)/(0,n.mY)(t)]}addMetersToLngLat(A,e){return(0,n.dT)(A,e)}panByPosition(A,e){const t=(0,n.xJ)(e,this.pixelUnprojectionMatrix),r=this.projectFlat(A),i=o.WQ([],r,o.ze([],t)),s=o.WQ([],this.center,i),[a,c]=this.unprojectFlat(s);return{longitude:a,latitude:c}}getBounds(A={}){const e=(0,n.gW)(this,A.z||0);return[Math.min(e[0][0],e[1][0],e[2][0],e[3][0]),Math.min(e[0][1],e[1][1],e[2][1],e[3][1]),Math.max(e[0][0],e[1][0],e[2][0],e[3][0]),Math.max(e[0][1],e[1][1],e[2][1],e[3][1])]}fitBounds(A,e={}){const{width:t,height:r}=this,{longitude:i,latitude:s,zoom:o}=(0,n.Fe)({width:t,height:r,bounds:A,...e});return new a({width:t,height:r,longitude:i,latitude:s,zoom:o})}}},5022:(A,e,t)=>{"use strict";t.d(e,{A:()=>M});var r=t(2130),n=t(6992),i=t(4315),s=t(707);const o=()=>{},a=2,c=3,l=A=>A,u=1;class h{constructor(A){this._onTransitionUpdate=A=>{const{time:e,settings:{interpolator:t,startProps:r,endProps:n,duration:i,easing:s}}=A,o=s(e/i),a=t.interpolateProps(r,n,o);this.propsInTransition=this.getControllerState({...this.props,...a}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})},this.getControllerState=A.getControllerState,this.propsInTransition=null,this.transition=new s.A(A.timeline),this.onViewStateChange=A.onViewStateChange||o,this.onStateChange=A.onStateChange||o}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(A){let e=!1;const t=this.props;if(this.props=A,!t||this._shouldIgnoreViewportChange(t,A))return!1;if(this._isTransitionEnabled(A)){let r=t;if(this.transition.inProgress){const{interruption:A,endProps:e}=this.transition.settings;r={...t,...A===a?e:this.propsInTransition||t}}this._triggerTransition(r,A),e=!0}else this.transition.cancel();return e}updateTransition(){this.transition.update()}_isTransitionEnabled(A){const{transitionDuration:e,transitionInterpolator:t}=A;return(e>0||"auto"===e)&&Boolean(t)}_isUpdateDueToCurrentTransition(A){return!(!this.transition.inProgress||!this.propsInTransition)&&this.transition.settings.interpolator.arePropsEqual(A,this.propsInTransition)}_shouldIgnoreViewportChange(A,e){if(this.transition.inProgress){return this.transition.settings.interruption===c||this._isUpdateDueToCurrentTransition(e)}return!this._isTransitionEnabled(e)||e.transitionInterpolator.arePropsEqual(A,e)}_triggerTransition(A,e){const t=this.getControllerState(A),r=this.getControllerState(e).shortestPathFrom(t),n=e.transitionInterpolator,i=n.getDuration?n.getDuration(A,e):e.transitionDuration;if(0===i)return;const s=n.initializeProps(A,r);this.propsInTransition={};const o={duration:i,easing:e.transitionEasing||l,interpolator:n,interruption:e.transitionInterruption||u,startProps:s.start,endProps:s.end,onStart:e.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(e.onTransitionInterrupt),onEnd:this._onTransitionEnd(e.onTransitionEnd)};this.transition.start(o),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(A){return e=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),A?.(e)}}}var f=t(9873);const d=["longitude","latitude","zoom","bearing","pitch"],p=["longitude","latitude","zoom"];class g extends f.A{constructor(A={}){const e=Array.isArray(A)?A:A.transitionProps,t=Array.isArray(A)?{}:A;t.transitionProps=Array.isArray(e)?{compare:e,required:e}:e||{compare:d,required:p},super(t.transitionProps),this.opts=t}initializeProps(A,e){const t=super.initializeProps(A,e),{makeViewport:r,around:n}=this.opts;if(r&&n){const i=r(A),s=r(e),o=i.unproject(n);t.start.around=n,Object.assign(t.end,{around:s.project(o),aroundPosition:o,width:e.width,height:e.height})}return t}interpolateProps(A,e,t){const r={};for(const n of this._propsToExtract)r[n]=(0,i.Cc)(A[n]||0,e[n]||0,t);if(e.aroundPosition&&this.opts.makeViewport){const n=this.opts.makeViewport({...e,...r});Object.assign(r,n.panByPosition(e.aroundPosition,(0,i.Cc)(A.around,e.around,t)))}return r}}const _={transitionDuration:0},m=A=>1-(1-A)*(1-A),v=["wheel"],E=["panstart","panmove","panend"],b=["pinchstart","pinchmove","pinchend"],w=["tripanstart","tripanmove","tripanend"],y=["doubletap"],T=["keydown"],S={};var C=t(9451),R=t(1829);class P extends class{constructor(A,e){this._viewportProps=this.applyConstraints(A),this._state=e}getViewportProps(){return this._viewportProps}getState(){return this._state}}{constructor(A){const{width:e,height:t,latitude:r,longitude:n,zoom:i,bearing:s=0,pitch:o=0,altitude:a=1.5,position:c=[0,0,0],maxZoom:l=20,minZoom:u=0,maxPitch:h=60,minPitch:f=0,startPanLngLat:d,startZoomLngLat:p,startRotatePos:g,startBearing:_,startPitch:m,startZoom:v,normalize:E=!0}=A;(0,R.A)(Number.isFinite(n)),(0,R.A)(Number.isFinite(r)),(0,R.A)(Number.isFinite(i)),super({width:e,height:t,latitude:r,longitude:n,zoom:i,bearing:s,pitch:o,altitude:a,maxZoom:l,minZoom:u,maxPitch:h,minPitch:f,normalize:E,position:c},{startPanLngLat:d,startZoomLngLat:p,startRotatePos:g,startBearing:_,startPitch:m,startZoom:v}),this.makeViewport=A.makeViewport}panStart({pos:A}){return this._getUpdatedState({startPanLngLat:this._unproject(A)})}pan({pos:A,startPos:e}){const t=this.getState().startPanLngLat||this._unproject(e);if(!t)return this;const r=this.makeViewport(this.getViewportProps()).panByPosition(t,A);return this._getUpdatedState(r)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:A}){return this._getUpdatedState({startRotatePos:A,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:A,deltaAngleX:e=0,deltaAngleY:t=0}){const{startRotatePos:r,startBearing:n,startPitch:i}=this.getState();if(!r||void 0===n||void 0===i)return this;let s;return s=A?this._getNewRotation(A,r,i,n):{bearing:n+e,pitch:i+t},this._getUpdatedState(s)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:A}){return this._getUpdatedState({startZoomLngLat:this._unproject(A),startZoom:this.getViewportProps().zoom})}zoom({pos:A,startPos:e,scale:t}){let{startZoom:r,startZoomLngLat:n}=this.getState();if(n||(r=this.getViewportProps().zoom,n=this._unproject(e)||this._unproject(A)),!n)return this;const{maxZoom:s,minZoom:o}=this.getViewportProps();let a=r+Math.log2(t);a=(0,i.qE)(a,o,s);const c=this.makeViewport({...this.getViewportProps(),zoom:a});return this._getUpdatedState({zoom:a,...c.panByPosition(n,A)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(A=2){return this._zoomFromCenter(A)}zoomOut(A=2){return this._zoomFromCenter(1/A)}moveLeft(A=100){return this._panFromCenter([A,0])}moveRight(A=100){return this._panFromCenter([-A,0])}moveUp(A=100){return this._panFromCenter([0,A])}moveDown(A=100){return this._panFromCenter([0,-A])}rotateLeft(A=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-A})}rotateRight(A=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+A})}rotateUp(A=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+A})}rotateDown(A=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-A})}shortestPathFrom(A){const e=A.getViewportProps(),t={...this.getViewportProps()},{bearing:r,longitude:n}=t;return Math.abs(r-e.bearing)>180&&(t.bearing=r<0?r+360:r-360),Math.abs(n-e.longitude)>180&&(t.longitude=n<0?n+360:n-360),t}applyConstraints(A){const{maxZoom:e,minZoom:t,zoom:r}=A;A.zoom=(0,i.qE)(r,t,e);const{maxPitch:n,minPitch:s,pitch:o}=A;A.pitch=(0,i.qE)(o,s,n);const{normalize:a=!0}=A;return a&&Object.assign(A,(0,C.CK)(A)),A}_zoomFromCenter(A){const{width:e,height:t}=this.getViewportProps();return this.zoom({pos:[e/2,t/2],scale:A})}_panFromCenter(A){const{width:e,height:t}=this.getViewportProps();return this.pan({startPos:[e/2,t/2],pos:[e/2+A[0],t/2+A[1]]})}_getUpdatedState(A){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...A})}_unproject(A){const e=this.makeViewport(this.getViewportProps());return A&&e.unproject(A)}_getNewRotation(A,e,t,r){const n=A[0]-e[0],s=A[1]-e[1],o=A[1],a=e[1],{width:c,height:l}=this.getViewportProps(),u=n/c;let h=0;s>0?Math.abs(l-a)>5&&(h=s/(a-l)*1.2):s<0&&a>5&&(h=1-o/a),h=(0,i.qE)(h,-1,1);const{minPitch:f,maxPitch:d}=this.getViewportProps();let p=t;return h>0?p=t+h*(d-t):h<0&&(p=t-h*(f-t)),{pitch:p,bearing:r+180*u}}}class x extends class{constructor(A){this.state={},this._events={},this._interactionState={isDragging:!1},this._customEvents=[],this._eventStartBlocked=null,this._panMove=!1,this.invertPan=!1,this.dragMode="rotate",this.inertia=0,this.scrollZoom=!0,this.dragPan=!0,this.dragRotate=!0,this.doubleClickZoom=!0,this.touchZoom=!0,this.touchRotate=!1,this.keyboard=!0,this.transitionManager=new h({...A,getControllerState:A=>new this.ControllerState(A),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=A.eventManager,this.onViewStateChange=A.onViewStateChange||(()=>{}),this.onStateChange=A.onStateChange||(()=>{}),this.makeViewport=A.makeViewport}set events(A){this.toggleEvents(this._customEvents,!1),this.toggleEvents(A,!0),this._customEvents=A,this.props&&this.setProps(this.props)}finalize(){for(const A in this._events)this._events[A]&&this.eventManager?.off(A,this.handleEvent);this.transitionManager.finalize()}handleEvent(A){this._controllerState=void 0;const e=this._eventStartBlocked;switch(A.type){case"panstart":return!e&&this._onPanStart(A);case"panmove":return this._onPan(A);case"panend":return this._onPanEnd(A);case"pinchstart":return!e&&this._onPinchStart(A);case"pinchmove":return this._onPinch(A);case"pinchend":return this._onPinchEnd(A);case"tripanstart":return!e&&this._onTriplePanStart(A);case"tripanmove":return this._onTriplePan(A);case"tripanend":return this._onTriplePanEnd(A);case"doubletap":return this._onDoubleTap(A);case"wheel":return this._onWheel(A);case"keydown":return this._onKeyDown(A);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(A){const{x:e,y:t}=this.props,{offsetCenter:r}=A;return[r.x-e,r.y-t]}isPointInBounds(A,e){const{width:t,height:r}=this.props;if(e&&e.handled)return!1;const n=A[0]>=0&&A[0]<=t&&A[1]>=0&&A[1]<=r;return n&&e&&e.stopPropagation(),n}isFunctionKeyPressed(A){const{srcEvent:e}=A;return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(A){const e=setTimeout((()=>{this._eventStartBlocked===e&&(this._eventStartBlocked=null)}),A);this._eventStartBlocked=e}setProps(A){A.dragMode&&(this.dragMode=A.dragMode),this.props=A,"transitionInterpolator"in A||(A.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(A);const{inertia:e}=A;this.inertia=Number.isFinite(e)?e:!0===e?300:0;const{scrollZoom:t=!0,dragPan:r=!0,dragRotate:n=!0,doubleClickZoom:i=!0,touchZoom:s=!0,touchRotate:o=!1,keyboard:a=!0}=A,c=Boolean(this.onViewStateChange);this.toggleEvents(v,c&&t),this.toggleEvents(E,c),this.toggleEvents(b,c&&(s||o)),this.toggleEvents(w,c&&o),this.toggleEvents(y,c&&i),this.toggleEvents(T,c&&a),this.scrollZoom=t,this.dragPan=r,this.dragRotate=n,this.doubleClickZoom=i,this.touchZoom=s,this.touchRotate=o,this.keyboard=a}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(A,e){this.eventManager&&A.forEach((A=>{this._events[A]!==e&&(this._events[A]=e,e?this.eventManager.on(A,this.handleEvent):this.eventManager.off(A,this.handleEvent))}))}updateViewport(A,e=null,t={}){const r={...A.getViewportProps(),...e},n=this.controllerState!==A;if(this.state=A.getState(),this._setInteractionState(t),n){const A=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:r,interactionState:this._interactionState,oldViewState:A,viewId:this.props.id})}}_onTransition(A){this.onViewStateChange({...A,interactionState:this._interactionState,viewId:this.props.id})}_setInteractionState(A){Object.assign(this._interactionState,A),this.onStateChange(this._interactionState)}_onPanStart(A){const e=this.getCenter(A);if(!this.isPointInBounds(e,A))return!1;let t=this.isFunctionKeyPressed(A)||A.rightButton||!1;(this.invertPan||"pan"===this.dragMode)&&(t=!t);const r=this.controllerState[t?"panStart":"rotateStart"]({pos:e});return this._panMove=t,this.updateViewport(r,_,{isDragging:!0}),!0}_onPan(A){return!!this.isDragging()&&(this._panMove?this._onPanMove(A):this._onPanRotate(A))}_onPanEnd(A){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd(A):this._onPanRotateEnd(A))}_onPanMove(A){if(!this.dragPan)return!1;const e=this.getCenter(A),t=this.controllerState.pan({pos:e});return this.updateViewport(t,_,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(A){const{inertia:e}=this;if(this.dragPan&&e&&A.velocity){const t=this.getCenter(A),r=[t[0]+A.velocityX*e/2,t[1]+A.velocityY*e/2],n=this.controllerState.pan({pos:r}).panEnd();this.updateViewport(n,{...this._getTransitionProps(),transitionDuration:e,transitionEasing:m},{isDragging:!1,isPanning:!0})}else{const A=this.controllerState.panEnd();this.updateViewport(A,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(A){if(!this.dragRotate)return!1;const e=this.getCenter(A),t=this.controllerState.rotate({pos:e});return this.updateViewport(t,_,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(A){const{inertia:e}=this;if(this.dragRotate&&e&&A.velocity){const t=this.getCenter(A),r=[t[0]+A.velocityX*e/2,t[1]+A.velocityY*e/2],n=this.controllerState.rotate({pos:r}).rotateEnd();this.updateViewport(n,{...this._getTransitionProps(),transitionDuration:e,transitionEasing:m},{isDragging:!1,isRotating:!0})}else{const A=this.controllerState.rotateEnd();this.updateViewport(A,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(A){if(!this.scrollZoom)return!1;const e=this.getCenter(A);if(!this.isPointInBounds(e,A))return!1;A.srcEvent.preventDefault();const{speed:t=.01,smooth:r=!1}=!0===this.scrollZoom?{}:this.scrollZoom,{delta:n}=A;let i=2/(1+Math.exp(-Math.abs(n*t)));n<0&&0!==i&&(i=1/i);const s=this.controllerState.zoom({pos:e,scale:i});return this.updateViewport(s,{...this._getTransitionProps({around:e}),transitionDuration:r?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart(A){const e=this.getCenter(A);if(!this.isPointInBounds(e,A))return!1;const t=this.controllerState.rotateStart({pos:e});return this.updateViewport(t,_,{isDragging:!0}),!0}_onTriplePan(A){if(!this.touchRotate)return!1;if(!this.isDragging())return!1;const e=this.getCenter(A);e[0]-=A.deltaX;const t=this.controllerState.rotate({pos:e});return this.updateViewport(t,_,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd(A){if(!this.isDragging())return!1;const{inertia:e}=this;if(this.touchRotate&&e&&A.velocityY){const t=this.getCenter(A),r=[t[0],t[1]+=A.velocityY*e/2],n=this.controllerState.rotate({pos:r});this.updateViewport(n,{...this._getTransitionProps(),transitionDuration:e,transitionEasing:m},{isDragging:!1,isRotating:!0}),this.blockEvents(e)}else{const A=this.controllerState.rotateEnd();this.updateViewport(A,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(A){const e=this.getCenter(A);if(!this.isPointInBounds(e,A))return!1;const t=this.controllerState.zoomStart({pos:e}).rotateStart({pos:e});return S._startPinchRotation=A.rotation,S._lastPinchEvent=A,this.updateViewport(t,_,{isDragging:!0}),!0}_onPinch(A){if(!this.touchZoom&&!this.touchRotate)return!1;if(!this.isDragging())return!1;let e=this.controllerState;if(this.touchZoom){const{scale:t}=A,r=this.getCenter(A);e=e.zoom({pos:r,scale:t})}if(this.touchRotate){const{rotation:t}=A;e=e.rotate({deltaAngleX:S._startPinchRotation-t})}return this.updateViewport(e,_,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),S._lastPinchEvent=A,!0}_onPinchEnd(A){if(!this.isDragging())return!1;const{inertia:e}=this,{_lastPinchEvent:t}=S;if(this.touchZoom&&e&&t&&A.scale!==t.scale){const r=this.getCenter(A);let n=this.controllerState.rotateEnd();const i=Math.log2(A.scale),s=(i-Math.log2(t.scale))/(A.deltaTime-t.deltaTime),o=Math.pow(2,i+s*e/2);n=n.zoom({pos:r,scale:o}).zoomEnd(),this.updateViewport(n,{...this._getTransitionProps({around:r}),transitionDuration:e,transitionEasing:m},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(e)}else{const A=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(A,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return S._startPinchRotation=null,S._lastPinchEvent=null,!0}_onDoubleTap(A){if(!this.doubleClickZoom)return!1;const e=this.getCenter(A);if(!this.isPointInBounds(e,A))return!1;const t=this.isFunctionKeyPressed(A),r=this.controllerState.zoom({pos:e,scale:t?.5:2});return this.updateViewport(r,this._getTransitionProps({around:e}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(A){if(!this.keyboard)return!1;const e=this.isFunctionKeyPressed(A),{zoomSpeed:t,moveSpeed:r,rotateSpeedX:n,rotateSpeedY:i}=!0===this.keyboard?{}:this.keyboard,{controllerState:s}=this;let o;const a={};switch(A.srcEvent.code){case"Minus":o=e?s.zoomOut(t).zoomOut(t):s.zoomOut(t),a.isZooming=!0;break;case"Equal":o=e?s.zoomIn(t).zoomIn(t):s.zoomIn(t),a.isZooming=!0;break;case"ArrowLeft":e?(o=s.rotateLeft(n),a.isRotating=!0):(o=s.moveLeft(r),a.isPanning=!0);break;case"ArrowRight":e?(o=s.rotateRight(n),a.isRotating=!0):(o=s.moveRight(r),a.isPanning=!0);break;case"ArrowUp":e?(o=s.rotateUp(i),a.isRotating=!0):(o=s.moveUp(r),a.isPanning=!0);break;case"ArrowDown":e?(o=s.rotateDown(i),a.isRotating=!0):(o=s.moveDown(r),a.isPanning=!0);break;default:return!1}return this.updateViewport(o,this._getTransitionProps(),a),!0}_getTransitionProps(A){const{transition:e}=this;return e&&e.transitionInterpolator?A?{...e,transitionInterpolator:new g({...A,...e.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:e:_}}{constructor(){super(...arguments),this.ControllerState=P,this.transition={transitionDuration:300,transitionInterpolator:new g({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})},this.dragMode="pan"}setProps(A){A.position=A.position||[0,0,0];const e=this.props;super.setProps(A);(!e||e.height!==A.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...A,...this.state}))}}class M extends r.A{static{this.displayName="MapView"}constructor(A={}){super(A)}get ViewportType(){return n.A}get ControllerType(){return x}}},2130:(A,e,t)=>{"use strict";t.d(e,{A:()=>o});const r=/([0-9]+\.?[0-9]*)(%|px)/;function n(A){switch(typeof A){case"number":return{position:A,relative:!1};case"string":const e=r.exec(A);if(e&&e.length>=3){const A="%"===e[2],t=parseFloat(e[1]);return{position:A?t/100:t,relative:A}}default:throw new Error(`Could not parse position string ${A}`)}}function i(A,e){return A.relative?Math.round(A.position*e):A.position}var s=t(688);class o{constructor(A){const{id:e,x:t=0,y:r=0,width:i="100%",height:s="100%",padding:o=null}=A;this.id=e||this.constructor.displayName||"view",this.props={...A,id:this.id},this._x=n(t),this._y=n(r),this._width=n(i),this._height=n(s),this._padding=o&&{left:n(o.left||0),right:n(o.right||0),top:n(o.top||0),bottom:n(o.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(A){return this===A||this.ViewportType===A.ViewportType&&(0,s.b)(this.props,A.props,2)}makeViewport({width:A,height:e,viewState:t}){t=this.filterViewState(t);const r=this.getDimensions({width:A,height:e});return r.height&&r.width?new this.ViewportType({...t,...this.props,...r}):null}getViewStateId(){const{viewState:A}=this.props;return"string"==typeof A?A:A?.id||this.id}filterViewState(A){if(this.props.viewState&&"object"==typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;const e={...A};for(const A in this.props.viewState)"id"!==A&&(e[A]=this.props.viewState[A]);return e}return A}getDimensions({width:A,height:e}){const t={x:i(this._x,A),y:i(this._y,e),width:i(this._width,A),height:i(this._height,e)};return this._padding&&(t.padding={left:i(this._padding.left,A),top:i(this._padding.top,e),right:i(this._padding.right,A),bottom:i(this._padding.bottom,e)}),t}get controller(){const A=this.props.controller;return A?!0===A?{type:this.ControllerType}:"function"==typeof A?{type:A}:{type:this.ControllerType,...A}:null}}},3485:(A,e,t)=>{"use strict";t.d(e,{A:()=>l});var r=t(688);class n{static{this.defaultProps={}}static{this.extensionName="LayerExtension"}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"extensionName")?this.extensionName:""}constructor(A){A&&(this.opts=A)}equals(A){return this===A||this.constructor===A.constructor&&(0,r.b)(this.opts,A.opts,1)}getShaders(A){return null}getSubLayerProps(A){const{defaultProps:e}=A.constructor,t={updateTriggers:{}};for(const r in e)if(r in this.props){const A=e[r],n=this.props[r];t[r]=n,A&&"accessor"===A.type&&(t.updateTriggers[r]=this.props.updateTriggers[r],"function"==typeof n&&(t[r]=this.getSubLayerAccessor(n)))}return t}initializeState(A,e){}updateState(A,e){}onNeedsRedraw(A){}getNeedsPickingBuffer(A){return!1}draw(A,e){}finalizeState(A,e){}}var i=t(6938),s=t(6425);const o={inject:{"vs:#decl":"\nin vec2 instanceDashArrays;\nin float instanceDashOffsets;\nout vec2 vDashArray;\nout float vDashOffset;\n","vs:#main-end":"\nvDashArray = instanceDashArrays;\nvDashOffset = instanceDashOffsets / width.x;\n","fs:#decl":"\nuniform float dashAlignMode;\nuniform float capType;\nuniform bool dashGapPickable;\nin vec2 vDashArray;\nin float vDashOffset;\n","fs:#main-start":"\nfloat solidLength = vDashArray.x;\nfloat gapLength = vDashArray.y;\nfloat unitLength = solidLength + gapLength;\nfloat offset;\nif (unitLength > 0.0) {\nif (dashAlignMode == 0.0) {\noffset = vDashOffset;\n} else {\nunitLength = vPathLength / round(vPathLength / unitLength);\noffset = solidLength / 2.0;\n}\nfloat unitOffset = mod(vPathPosition.y + offset, unitLength);\nif (gapLength > 0.0 && unitOffset > solidLength) {\nif (capType <= 0.5) {\nif (!(dashGapPickable && bool(picking.isActive))) {\ndiscard;\n}\n} else {\nfloat distToEnd = length(vec2(\nmin(unitOffset - solidLength, unitLength - unitOffset),\nvPathPosition.x\n));\nif (distToEnd > 1.0) {\nif (!(dashGapPickable && bool(picking.isActive))) {\ndiscard;\n}\n}\n}\n}\n}\n"}},a={inject:{"vs:#decl":"\nin float instanceOffsets;\n","vs:DECKGL_FILTER_SIZE":"\nfloat offsetWidth = abs(instanceOffsets * 2.0) + 1.0;\nsize *= offsetWidth;\n","vs:#main-end":"\nfloat offsetWidth = abs(instanceOffsets * 2.0) + 1.0;\nfloat offsetDir = sign(instanceOffsets);\nvPathPosition.x = (vPathPosition.x + offsetDir) * offsetWidth - offsetDir;\nvPathPosition.y *= offsetWidth;\nvPathLength *= offsetWidth;\n","fs:#main-start":"\nfloat isInside;\nisInside = step(-1.0, vPathPosition.x) * step(vPathPosition.x, 1.0);\nif (isInside == 0.0) {\ndiscard;\n}\n"}},c={getDashArray:{type:"accessor",value:[0,0]},getOffset:{type:"accessor",value:0},dashJustified:!1,dashGapPickable:!1};class l extends n{static{this.defaultProps=c}static{this.extensionName="PathStyleExtension"}constructor({dash:A=!1,offset:e=!1,highPrecisionDash:t=!1}={}){super({dash:A||t,offset:e,highPrecisionDash:t})}isEnabled(A){return"pathTesselator"in A.state}getShaders(A){if(!A.isEnabled(this))return null;let e={};return A.opts.dash&&(e=(0,i.n)(e,o)),A.opts.offset&&(e=(0,i.n)(e,a)),e}initializeState(A,e){const t=this.getAttributeManager();t&&e.isEnabled(this)&&(e.opts.dash&&t.addInstanced({instanceDashArrays:{size:2,accessor:"getDashArray"},instanceDashOffsets:e.opts.highPrecisionDash?{size:1,accessor:"getPath",transform:e.getDashOffsets.bind(this)}:{size:1,update:A=>{A.constant=!0,A.value=[0]}}}),e.opts.offset&&t.addInstanced({instanceOffsets:{size:1,accessor:"getOffset"}}))}updateState(A,e){if(!e.isEnabled(this))return;const t={};e.opts.dash&&(t.dashAlignMode=this.props.dashJustified?1:0,t.dashGapPickable=Boolean(this.props.dashGapPickable)),this.state.model?.setUniforms(t)}getDashOffsets(A){const e=[0],t="XY"===this.props.positionFormat?2:3,r=Array.isArray(A[0]),n=r?A.length:A.length/t;let i,o;for(let a=0;a<n-1;a++)i=r?A[a]:A.slice(a*t,a*t+t),i=this.projectPosition(i),a>0&&(e[a]=e[a-1]+s.xg(o,i)),o=i;return e[n-1]=0,e}}},6534:(A,e,t)=>{"use strict";t.d(e,{A:()=>ge});var r=function(A){var e,t=void 0!==(A=A||{})?A:{},r={};for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);var n,i=[],s="";"undefined"!=typeof document&&document.currentScript&&(s=document.currentScript.src),s=0!==s.indexOf("blob:")?s.substr(0,s.lastIndexOf("/")+1):"",n=function(A,e,t){var r=new XMLHttpRequest;r.open("GET",A,!0),r.responseType="arraybuffer",r.onload=function(){if(200==r.status||0==r.status&&r.response)e(r.response);else{var n=Y(A);n?e(n.buffer):t()}},r.onerror=t,r.send(null)};var o=t.print||console.log.bind(console),a=t.printErr||console.warn.bind(console);for(e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);r=null,t.arguments&&(i=t.arguments);var c=0;var l=!1;function u(A){var e,r=t["_"+A];return e="Cannot call unknown function "+A+", make sure it is exported",r||oA("Assertion failed: "+e),r}function h(A,e,t,r,n){var i={string:function(A){var e=0;if(null!=A&&0!==A){var t=1+(A.length<<2);(function(A,e,t){(function(A,e,t,r){if(!(r>0))return 0;for(var n=t,i=t+r-1,s=0;s<A.length;++s){var o=A.charCodeAt(s);if(o>=55296&&o<=57343)o=65536+((1023&o)<<10)|1023&A.charCodeAt(++s);if(o<=127){if(t>=i)break;e[t++]=o}else if(o<=2047){if(t+1>=i)break;e[t++]=192|o>>6,e[t++]=128|63&o}else if(o<=65535){if(t+2>=i)break;e[t++]=224|o>>12,e[t++]=128|o>>6&63,e[t++]=128|63&o}else{if(t+3>=i)break;e[t++]=240|o>>18,e[t++]=128|o>>12&63,e[t++]=128|o>>6&63,e[t++]=128|63&o}}e[t]=0})(A,_,e,t)})(A,e=J(t),t)}return e},array:function(A){var e=J(A.length);return function(A,e){g.set(A,e)}(A,e),e}};var s=u(A),o=[],a=0;if(r)for(var c=0;c<r.length;c++){var l=i[t[c]];l?(0===a&&(a=eA()),o[c]=l(r[c])):o[c]=r[c]}var h=s.apply(null,o);return h=function(A){return"string"===e?d(A):"boolean"===e?Boolean(A):A}(h),0!==a&&AA(a),h}var f="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function d(A,e){return A?function(A,e,t){for(var r=e+t,n=e;A[n]&&!(n>=r);)++n;if(n-e>16&&A.subarray&&f)return f.decode(A.subarray(e,n));for(var i="";e<n;){var s=A[e++];if(128&s){var o=63&A[e++];if(192!=(224&s)){var a=63&A[e++];if((s=224==(240&s)?(15&s)<<12|o<<6|a:(7&s)<<18|o<<12|a<<6|63&A[e++])<65536)i+=String.fromCharCode(s);else{var c=s-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&s)<<6|o)}else i+=String.fromCharCode(s)}return i}(_,A,e):""}var p,g,_,m,v,E,b;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");function w(A,e){return A%e>0&&(A+=e-A%e),A}function y(A){p=A,t.HEAP8=g=new Int8Array(A),t.HEAP16=m=new Int16Array(A),t.HEAP32=v=new Int32Array(A),t.HEAPU8=_=new Uint8Array(A),t.HEAPU16=new Uint16Array(A),t.HEAPU32=new Uint32Array(A),t.HEAPF32=E=new Float32Array(A),t.HEAPF64=b=new Float64Array(A)}var T=t.TOTAL_MEMORY||33554432;function S(A){for(;A.length>0;){var e=A.shift();if("function"!=typeof e){var r=e.func;"number"==typeof r?void 0===e.arg?t.dynCall_v(r):t.dynCall_vi(r,e.arg):r(void 0===e.arg?null:e.arg)}else e()}}T=(p=t.buffer?t.buffer:new ArrayBuffer(T)).byteLength,y(p),v[6032]=5267040;var C=[],R=[],P=[],x=[];var M=Math.abs,k=Math.ceil,B=Math.floor,I=Math.min,L=0,D=null,O=null;t.preloadedImages={},t.preloadedAudios={};var F,N,U=null,G="data:application/octet-stream;base64,";function z(A){return String.prototype.startsWith?A.startsWith(G):0===A.indexOf(G)}U="data:application/octet-stream;base64,AAAAAAAAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAAAQAAAAQAAAADAAAABgAAAAUAAAACAAAAAAAAAAIAAAADAAAAAQAAAAQAAAAGAAAAAAAAAAUAAAADAAAABgAAAAQAAAAFAAAAAAAAAAEAAAACAAAABAAAAAUAAAAGAAAAAAAAAAIAAAADAAAAAQAAAAUAAAACAAAAAAAAAAEAAAADAAAABgAAAAQAAAAGAAAAAAAAAAUAAAACAAAAAQAAAAQAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAAAAAAEAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAYAAAAAAAAABQAAAAAAAAAAAAAABAAAAAUAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAYAAAAAAAAAAwAAAAIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAFAAAABAAAAAAAAAABAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAgAAAAQAAAADAAAACAAAAAEAAAAHAAAABgAAAAkAAAAAAAAAAwAAAAIAAAACAAAABgAAAAoAAAALAAAAAAAAAAEAAAAFAAAAAwAAAA0AAAABAAAABwAAAAQAAAAMAAAAAAAAAAQAAAB/AAAADwAAAAgAAAADAAAAAAAAAAwAAAAFAAAAAgAAABIAAAAKAAAACAAAAAAAAAAQAAAABgAAAA4AAAALAAAAEQAAAAEAAAAJAAAAAgAAAAcAAAAVAAAACQAAABMAAAADAAAADQAAAAEAAAAIAAAABQAAABYAAAAQAAAABAAAAAAAAAAPAAAACQAAABMAAAAOAAAAFAAAAAEAAAAHAAAABgAAAAoAAAALAAAAGAAAABcAAAAFAAAAAgAAABIAAAALAAAAEQAAABcAAAAZAAAAAgAAAAYAAAAKAAAADAAAABwAAAANAAAAGgAAAAQAAAAPAAAAAwAAAA0AAAAaAAAAFQAAAB0AAAADAAAADAAAAAcAAAAOAAAAfwAAABEAAAAbAAAACQAAABQAAAAGAAAADwAAABYAAAAcAAAAHwAAAAQAAAAIAAAADAAAABAAAAASAAAAIQAAAB4AAAAIAAAABQAAABYAAAARAAAACwAAAA4AAAAGAAAAIwAAABkAAAAbAAAAEgAAABgAAAAeAAAAIAAAAAUAAAAKAAAAEAAAABMAAAAiAAAAFAAAACQAAAAHAAAAFQAAAAkAAAAUAAAADgAAABMAAAAJAAAAKAAAABsAAAAkAAAAFQAAACYAAAATAAAAIgAAAA0AAAAdAAAABwAAABYAAAAQAAAAKQAAACEAAAAPAAAACAAAAB8AAAAXAAAAGAAAAAsAAAAKAAAAJwAAACUAAAAZAAAAGAAAAH8AAAAgAAAAJQAAAAoAAAAXAAAAEgAAABkAAAAXAAAAEQAAAAsAAAAtAAAAJwAAACMAAAAaAAAAKgAAAB0AAAArAAAADAAAABwAAAANAAAAGwAAACgAAAAjAAAALgAAAA4AAAAUAAAAEQAAABwAAAAfAAAAKgAAACwAAAAMAAAADwAAABoAAAAdAAAAKwAAACYAAAAvAAAADQAAABoAAAAVAAAAHgAAACAAAAAwAAAAMgAAABAAAAASAAAAIQAAAB8AAAApAAAALAAAADUAAAAPAAAAFgAAABwAAAAgAAAAHgAAABgAAAASAAAANAAAADIAAAAlAAAAIQAAAB4AAAAxAAAAMAAAABYAAAAQAAAAKQAAACIAAAATAAAAJgAAABUAAAA2AAAAJAAAADMAAAAjAAAALgAAAC0AAAA4AAAAEQAAABsAAAAZAAAAJAAAABQAAAAiAAAAEwAAADcAAAAoAAAANgAAACUAAAAnAAAANAAAADkAAAAYAAAAFwAAACAAAAAmAAAAfwAAACIAAAAzAAAAHQAAAC8AAAAVAAAAJwAAACUAAAAZAAAAFwAAADsAAAA5AAAALQAAACgAAAAbAAAAJAAAABQAAAA8AAAALgAAADcAAAApAAAAMQAAADUAAAA9AAAAFgAAACEAAAAfAAAAKgAAADoAAAArAAAAPgAAABwAAAAsAAAAGgAAACsAAAA+AAAALwAAAEAAAAAaAAAAKgAAAB0AAAAsAAAANQAAADoAAABBAAAAHAAAAB8AAAAqAAAALQAAACcAAAAjAAAAGQAAAD8AAAA7AAAAOAAAAC4AAAA8AAAAOAAAAEQAAAAbAAAAKAAAACMAAAAvAAAAJgAAACsAAAAdAAAARQAAADMAAABAAAAAMAAAADEAAAAeAAAAIQAAAEMAAABCAAAAMgAAADEAAAB/AAAAPQAAAEIAAAAhAAAAMAAAACkAAAAyAAAAMAAAACAAAAAeAAAARgAAAEMAAAA0AAAAMwAAAEUAAAA2AAAARwAAACYAAAAvAAAAIgAAADQAAAA5AAAARgAAAEoAAAAgAAAAJQAAADIAAAA1AAAAPQAAAEEAAABLAAAAHwAAACkAAAAsAAAANgAAAEcAAAA3AAAASQAAACIAAAAzAAAAJAAAADcAAAAoAAAANgAAACQAAABIAAAAPAAAAEkAAAA4AAAARAAAAD8AAABNAAAAIwAAAC4AAAAtAAAAOQAAADsAAABKAAAATgAAACUAAAAnAAAANAAAADoAAAB/AAAAPgAAAEwAAAAsAAAAQQAAACoAAAA7AAAAPwAAAE4AAABPAAAAJwAAAC0AAAA5AAAAPAAAAEgAAABEAAAAUAAAACgAAAA3AAAALgAAAD0AAAA1AAAAMQAAACkAAABRAAAASwAAAEIAAAA+AAAAKwAAADoAAAAqAAAAUgAAAEAAAABMAAAAPwAAAH8AAAA4AAAALQAAAE8AAAA7AAAATQAAAEAAAAAvAAAAPgAAACsAAABUAAAARQAAAFIAAABBAAAAOgAAADUAAAAsAAAAVgAAAEwAAABLAAAAQgAAAEMAAABRAAAAVQAAADEAAAAwAAAAPQAAAEMAAABCAAAAMgAAADAAAABXAAAAVQAAAEYAAABEAAAAOAAAADwAAAAuAAAAWgAAAE0AAABQAAAARQAAADMAAABAAAAALwAAAFkAAABHAAAAVAAAAEYAAABDAAAANAAAADIAAABTAAAAVwAAAEoAAABHAAAAWQAAAEkAAABbAAAAMwAAAEUAAAA2AAAASAAAAH8AAABJAAAANwAAAFAAAAA8AAAAWAAAAEkAAABbAAAASAAAAFgAAAA2AAAARwAAADcAAABKAAAATgAAAFMAAABcAAAANAAAADkAAABGAAAASwAAAEEAAAA9AAAANQAAAF4AAABWAAAAUQAAAEwAAABWAAAAUgAAAGAAAAA6AAAAQQAAAD4AAABNAAAAPwAAAEQAAAA4AAAAXQAAAE8AAABaAAAATgAAAEoAAAA7AAAAOQAAAF8AAABcAAAATwAAAE8AAABOAAAAPwAAADsAAABdAAAAXwAAAE0AAABQAAAARAAAAEgAAAA8AAAAYwAAAFoAAABYAAAAUQAAAFUAAABeAAAAZQAAAD0AAABCAAAASwAAAFIAAABgAAAAVAAAAGIAAAA+AAAATAAAAEAAAABTAAAAfwAAAEoAAABGAAAAZAAAAFcAAABcAAAAVAAAAEUAAABSAAAAQAAAAGEAAABZAAAAYgAAAFUAAABXAAAAZQAAAGYAAABCAAAAQwAAAFEAAABWAAAATAAAAEsAAABBAAAAaAAAAGAAAABeAAAAVwAAAFMAAABmAAAAZAAAAEMAAABGAAAAVQAAAFgAAABIAAAAWwAAAEkAAABjAAAAUAAAAGkAAABZAAAAYQAAAFsAAABnAAAARQAAAFQAAABHAAAAWgAAAE0AAABQAAAARAAAAGoAAABdAAAAYwAAAFsAAABJAAAAWQAAAEcAAABpAAAAWAAAAGcAAABcAAAAUwAAAE4AAABKAAAAbAAAAGQAAABfAAAAXQAAAE8AAABaAAAATQAAAG0AAABfAAAAagAAAF4AAABWAAAAUQAAAEsAAABrAAAAaAAAAGUAAABfAAAAXAAAAE8AAABOAAAAbQAAAGwAAABdAAAAYAAAAGgAAABiAAAAbgAAAEwAAABWAAAAUgAAAGEAAAB/AAAAYgAAAFQAAABnAAAAWQAAAG8AAABiAAAAbgAAAGEAAABvAAAAUgAAAGAAAABUAAAAYwAAAFAAAABpAAAAWAAAAGoAAABaAAAAcQAAAGQAAABmAAAAUwAAAFcAAABsAAAAcgAAAFwAAABlAAAAZgAAAGsAAABwAAAAUQAAAFUAAABeAAAAZgAAAGUAAABXAAAAVQAAAHIAAABwAAAAZAAAAGcAAABbAAAAYQAAAFkAAAB0AAAAaQAAAG8AAABoAAAAawAAAG4AAABzAAAAVgAAAF4AAABgAAAAaQAAAFgAAABnAAAAWwAAAHEAAABjAAAAdAAAAGoAAABdAAAAYwAAAFoAAAB1AAAAbQAAAHEAAABrAAAAfwAAAGUAAABeAAAAcwAAAGgAAABwAAAAbAAAAGQAAABfAAAAXAAAAHYAAAByAAAAbQAAAG0AAABsAAAAXQAAAF8AAAB1AAAAdgAAAGoAAABuAAAAYgAAAGgAAABgAAAAdwAAAG8AAABzAAAAbwAAAGEAAABuAAAAYgAAAHQAAABnAAAAdwAAAHAAAABrAAAAZgAAAGUAAAB4AAAAcwAAAHIAAABxAAAAYwAAAHQAAABpAAAAdQAAAGoAAAB5AAAAcgAAAHAAAABkAAAAZgAAAHYAAAB4AAAAbAAAAHMAAABuAAAAawAAAGgAAAB4AAAAdwAAAHAAAAB0AAAAZwAAAHcAAABvAAAAcQAAAGkAAAB5AAAAdQAAAH8AAABtAAAAdgAAAHEAAAB5AAAAagAAAHYAAAB4AAAAbAAAAHIAAAB1AAAAeQAAAG0AAAB3AAAAbwAAAHMAAABuAAAAeQAAAHQAAAB4AAAAeAAAAHMAAAByAAAAcAAAAHkAAAB3AAAAdgAAAHkAAAB0AAAAeAAAAHcAAAB1AAAAcQAAAHYAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAACAAAABQAAAAEAAAAAAAAA/////wEAAAAAAAAAAwAAAAQAAAACAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAUAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABAAAAAUAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAUAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAD//////////wEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAAAAAAAAAAABAAAAAgAAAAYAAAAEAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAAAAAAAAAAAAQAAAAEAAAAFAAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAAAAAAAAAAABAAAAAwAAAAcAAAAGAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADgAAAAIAAAAAAAAAAAAAAAEAAAAAAAAACQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAAAAAAAAAAAAAEAAAAEAAAACAAAAAoAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAAAAAAAAAAAAQAAAAsAAAAPAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAIAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAAAAAAAAAAAAQAAAAwAAAAQAAAADAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAAAAAAAAAAABAAAACgAAABMAAAAIAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAAAAAAAAAAEAAAANAAAAEQAAAA0AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAACAAAAAAAAAAAAAAABAAAADgAAABIAAAAPAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAADwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABIAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAAAAAAAAQAAAP//////////EwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAASAAAAAAAAABgAAAAAAAAAIQAAAAAAAAAeAAAAAAAAACAAAAADAAAAMQAAAAEAAAAwAAAAAwAAADIAAAADAAAACAAAAAAAAAAFAAAABQAAAAoAAAAFAAAAFgAAAAAAAAAQAAAAAAAAABIAAAAAAAAAKQAAAAEAAAAhAAAAAAAAAB4AAAAAAAAABAAAAAAAAAAAAAAABQAAAAIAAAAFAAAADwAAAAEAAAAIAAAAAAAAAAUAAAAFAAAAHwAAAAEAAAAWAAAAAAAAABAAAAAAAAAAAgAAAAAAAAAGAAAAAAAAAA4AAAAAAAAACgAAAAAAAAALAAAAAAAAABEAAAADAAAAGAAAAAEAAAAXAAAAAwAAABkAAAADAAAAAAAAAAAAAAABAAAABQAAAAkAAAAFAAAABQAAAAAAAAACAAAAAAAAAAYAAAAAAAAAEgAAAAEAAAAKAAAAAAAAAAsAAAAAAAAABAAAAAEAAAADAAAABQAAAAcAAAAFAAAACAAAAAEAAAAAAAAAAAAAAAEAAAAFAAAAEAAAAAEAAAAFAAAAAAAAAAIAAAAAAAAABwAAAAAAAAAVAAAAAAAAACYAAAAAAAAACQAAAAAAAAATAAAAAAAAACIAAAADAAAADgAAAAEAAAAUAAAAAwAAACQAAAADAAAAAwAAAAAAAAANAAAABQAAAB0AAAAFAAAAAQAAAAAAAAAHAAAAAAAAABUAAAAAAAAABgAAAAEAAAAJAAAAAAAAABMAAAAAAAAABAAAAAIAAAAMAAAABQAAABoAAAAFAAAAAAAAAAEAAAADAAAAAAAAAA0AAAAFAAAAAgAAAAEAAAABAAAAAAAAAAcAAAAAAAAAGgAAAAAAAAAqAAAAAAAAADoAAAAAAAAAHQAAAAAAAAArAAAAAAAAAD4AAAADAAAAJgAAAAEAAAAvAAAAAwAAAEAAAAADAAAADAAAAAAAAAAcAAAABQAAACwAAAAFAAAADQAAAAAAAAAaAAAAAAAAACoAAAAAAAAAFQAAAAEAAAAdAAAAAAAAACsAAAAAAAAABAAAAAMAAAAPAAAABQAAAB8AAAAFAAAAAwAAAAEAAAAMAAAAAAAAABwAAAAFAAAABwAAAAEAAAANAAAAAAAAABoAAAAAAAAAHwAAAAAAAAApAAAAAAAAADEAAAAAAAAALAAAAAAAAAA1AAAAAAAAAD0AAAADAAAAOgAAAAEAAABBAAAAAwAAAEsAAAADAAAADwAAAAAAAAAWAAAABQAAACEAAAAFAAAAHAAAAAAAAAAfAAAAAAAAACkAAAAAAAAAKgAAAAEAAAAsAAAAAAAAADUAAAAAAAAABAAAAAQAAAAIAAAABQAAABAAAAAFAAAADAAAAAEAAAAPAAAAAAAAABYAAAAFAAAAGgAAAAEAAAAcAAAAAAAAAB8AAAAAAAAAMgAAAAAAAAAwAAAAAAAAADEAAAADAAAAIAAAAAAAAAAeAAAAAwAAACEAAAADAAAAGAAAAAMAAAASAAAAAwAAABAAAAADAAAARgAAAAAAAABDAAAAAAAAAEIAAAADAAAANAAAAAMAAAAyAAAAAAAAADAAAAAAAAAAJQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAUwAAAAAAAABXAAAAAwAAAFUAAAADAAAASgAAAAMAAABGAAAAAAAAAEMAAAAAAAAAOQAAAAEAAAA0AAAAAwAAADIAAAAAAAAAGQAAAAAAAAAXAAAAAAAAABgAAAADAAAAEQAAAAAAAAALAAAAAwAAAAoAAAADAAAADgAAAAMAAAAGAAAAAwAAAAIAAAADAAAALQAAAAAAAAAnAAAAAAAAACUAAAADAAAAIwAAAAMAAAAZAAAAAAAAABcAAAAAAAAAGwAAAAMAAAARAAAAAAAAAAsAAAADAAAAPwAAAAAAAAA7AAAAAwAAADkAAAADAAAAOAAAAAMAAAAtAAAAAAAAACcAAAAAAAAALgAAAAMAAAAjAAAAAwAAABkAAAAAAAAAJAAAAAAAAAAUAAAAAAAAAA4AAAADAAAAIgAAAAAAAAATAAAAAwAAAAkAAAADAAAAJgAAAAMAAAAVAAAAAwAAAAcAAAADAAAANwAAAAAAAAAoAAAAAAAAABsAAAADAAAANgAAAAMAAAAkAAAAAAAAABQAAAAAAAAAMwAAAAMAAAAiAAAAAAAAABMAAAADAAAASAAAAAAAAAA8AAAAAwAAAC4AAAADAAAASQAAAAMAAAA3AAAAAAAAACgAAAAAAAAARwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAQAAAAAAAAAAvAAAAAAAAACYAAAADAAAAPgAAAAAAAAArAAAAAwAAAB0AAAADAAAAOgAAAAMAAAAqAAAAAwAAABoAAAADAAAAVAAAAAAAAABFAAAAAAAAADMAAAADAAAAUgAAAAMAAABAAAAAAAAAAC8AAAAAAAAATAAAAAMAAAA+AAAAAAAAACsAAAADAAAAYQAAAAAAAABZAAAAAwAAAEcAAAADAAAAYgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAYAAAAAMAAABSAAAAAwAAAEAAAAAAAAAASwAAAAAAAABBAAAAAAAAADoAAAADAAAAPQAAAAAAAAA1AAAAAwAAACwAAAADAAAAMQAAAAMAAAApAAAAAwAAAB8AAAADAAAAXgAAAAAAAABWAAAAAAAAAEwAAAADAAAAUQAAAAMAAABLAAAAAAAAAEEAAAAAAAAAQgAAAAMAAAA9AAAAAAAAADUAAAADAAAAawAAAAAAAABoAAAAAwAAAGAAAAADAAAAZQAAAAMAAABeAAAAAAAAAFYAAAAAAAAAVQAAAAMAAABRAAAAAwAAAEsAAAAAAAAAOQAAAAAAAAA7AAAAAAAAAD8AAAADAAAASgAAAAAAAABOAAAAAwAAAE8AAAADAAAAUwAAAAMAAABcAAAAAwAAAF8AAAADAAAAJQAAAAAAAAAnAAAAAwAAAC0AAAADAAAANAAAAAAAAAA5AAAAAAAAADsAAAAAAAAARgAAAAMAAABKAAAAAAAAAE4AAAADAAAAGAAAAAAAAAAXAAAAAwAAABkAAAADAAAAIAAAAAMAAAAlAAAAAAAAACcAAAADAAAAMgAAAAMAAAA0AAAAAAAAADkAAAAAAAAALgAAAAAAAAA8AAAAAAAAAEgAAAADAAAAOAAAAAAAAABEAAAAAwAAAFAAAAADAAAAPwAAAAMAAABNAAAAAwAAAFoAAAADAAAAGwAAAAAAAAAoAAAAAwAAADcAAAADAAAAIwAAAAAAAAAuAAAAAAAAADwAAAAAAAAALQAAAAMAAAA4AAAAAAAAAEQAAAADAAAADgAAAAAAAAAUAAAAAwAAACQAAAADAAAAEQAAAAMAAAAbAAAAAAAAACgAAAADAAAAGQAAAAMAAAAjAAAAAAAAAC4AAAAAAAAARwAAAAAAAABZAAAAAAAAAGEAAAADAAAASQAAAAAAAABbAAAAAwAAAGcAAAADAAAASAAAAAMAAABYAAAAAwAAAGkAAAADAAAAMwAAAAAAAABFAAAAAwAAAFQAAAADAAAANgAAAAAAAABHAAAAAAAAAFkAAAAAAAAANwAAAAMAAABJAAAAAAAAAFsAAAADAAAAJgAAAAAAAAAvAAAAAwAAAEAAAAADAAAAIgAAAAMAAAAzAAAAAAAAAEUAAAADAAAAJAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAYAAAAAAAAABoAAAAAAAAAGsAAAADAAAAYgAAAAAAAABuAAAAAwAAAHMAAAADAAAAYQAAAAMAAABvAAAAAwAAAHcAAAADAAAATAAAAAAAAABWAAAAAwAAAF4AAAADAAAAUgAAAAAAAABgAAAAAAAAAGgAAAAAAAAAVAAAAAMAAABiAAAAAAAAAG4AAAADAAAAOgAAAAAAAABBAAAAAwAAAEsAAAADAAAAPgAAAAMAAABMAAAAAAAAAFYAAAADAAAAQAAAAAMAAABSAAAAAAAAAGAAAAAAAAAAVQAAAAAAAABXAAAAAAAAAFMAAAADAAAAZQAAAAAAAABmAAAAAwAAAGQAAAADAAAAawAAAAMAAABwAAAAAwAAAHIAAAADAAAAQgAAAAAAAABDAAAAAwAAAEYAAAADAAAAUQAAAAAAAABVAAAAAAAAAFcAAAAAAAAAXgAAAAMAAABlAAAAAAAAAGYAAAADAAAAMQAAAAAAAAAwAAAAAwAAADIAAAADAAAAPQAAAAMAAABCAAAAAAAAAEMAAAADAAAASwAAAAMAAABRAAAAAAAAAFUAAAAAAAAAXwAAAAAAAABcAAAAAAAAAFMAAAAAAAAATwAAAAAAAABOAAAAAAAAAEoAAAADAAAAPwAAAAEAAAA7AAAAAwAAADkAAAADAAAAbQAAAAAAAABsAAAAAAAAAGQAAAAFAAAAXQAAAAEAAABfAAAAAAAAAFwAAAAAAAAATQAAAAEAAABPAAAAAAAAAE4AAAAAAAAAdQAAAAQAAAB2AAAABQAAAHIAAAAFAAAAagAAAAEAAABtAAAAAAAAAGwAAAAAAAAAWgAAAAEAAABdAAAAAQAAAF8AAAAAAAAAWgAAAAAAAABNAAAAAAAAAD8AAAAAAAAAUAAAAAAAAABEAAAAAAAAADgAAAADAAAASAAAAAEAAAA8AAAAAwAAAC4AAAADAAAAagAAAAAAAABdAAAAAAAAAE8AAAAFAAAAYwAAAAEAAABaAAAAAAAAAE0AAAAAAAAAWAAAAAEAAABQAAAAAAAAAEQAAAAAAAAAdQAAAAMAAABtAAAABQAAAF8AAAAFAAAAcQAAAAEAAABqAAAAAAAAAF0AAAAAAAAAaQAAAAEAAABjAAAAAQAAAFoAAAAAAAAAaQAAAAAAAABYAAAAAAAAAEgAAAAAAAAAZwAAAAAAAABbAAAAAAAAAEkAAAADAAAAYQAAAAEAAABZAAAAAwAAAEcAAAADAAAAcQAAAAAAAABjAAAAAAAAAFAAAAAFAAAAdAAAAAEAAABpAAAAAAAAAFgAAAAAAAAAbwAAAAEAAABnAAAAAAAAAFsAAAAAAAAAdQAAAAIAAABqAAAABQAAAFoAAAAFAAAAeQAAAAEAAABxAAAAAAAAAGMAAAAAAAAAdwAAAAEAAAB0AAAAAQAAAGkAAAAAAAAAdwAAAAAAAABvAAAAAAAAAGEAAAAAAAAAcwAAAAAAAABuAAAAAAAAAGIAAAADAAAAawAAAAEAAABoAAAAAwAAAGAAAAADAAAAeQAAAAAAAAB0AAAAAAAAAGcAAAAFAAAAeAAAAAEAAAB3AAAAAAAAAG8AAAAAAAAAcAAAAAEAAABzAAAAAAAAAG4AAAAAAAAAdQAAAAEAAABxAAAABQAAAGkAAAAFAAAAdgAAAAEAAAB5AAAAAAAAAHQAAAAAAAAAcgAAAAEAAAB4AAAAAQAAAHcAAAAAAAAAcgAAAAAAAABwAAAAAAAAAGsAAAAAAAAAZAAAAAAAAABmAAAAAAAAAGUAAAADAAAAUwAAAAEAAABXAAAAAwAAAFUAAAADAAAAdgAAAAAAAAB4AAAAAAAAAHMAAAAFAAAAbAAAAAEAAAByAAAAAAAAAHAAAAAAAAAAXAAAAAEAAABkAAAAAAAAAGYAAAAAAAAAdQAAAAAAAAB5AAAABQAAAHcAAAAFAAAAbQAAAAEAAAB2AAAAAAAAAHgAAAAAAAAAXwAAAAEAAABsAAAAAQAAAHIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAGAAAAAgAAAAUAAAABAAAABAAAAAAAAAAAAAAABQAAAAMAAAABAAAABgAAAAQAAAACAAAAAAAAAH6iBfbytuk/Gq6akm/58z/Xrm0Liez0P5doSdOpSwRAWs602ULg8D/dT7Rcbo/1v1N1RQHFNOM/g9Snx7HW3L8HWsP8Q3jfP6VwOLosutk/9rjk1YQcxj+gnmKMsNn6P/HDeuPFY+M/YHwDjqKhB0Ci19/fCVrbP4UxKkDWOP6/pvljWa09tL9wi7wrQXjnv/Z6yLImkM2/3yTlOzY14D+m+WNZrT20PzwKVQnrQwNA9nrIsiaQzT/g40rFrRQFwPa45NWEHMa/kbslHEZq97/xw3rjxWPjv4cLC2SMBci/otff3wla27+rKF5oIAv0P1N1RQHFNOO/iDJPGyWHBUAHWsP8Q3jfvwQf/by16gXAfqIF9vK26b8XrO0Vh0r+v9eubQuJ7PS/BxLrA0ZZ479azrTZQuDwv1MK1EuItPw/yscgV9Z6FkAwHBR2WjQMQJNRzXsQ5vY/GlUHVJYKF0DONuFv2lMNQNCGZ28QJfk/0WUwoIL36D8ggDOMQuATQNqMOeAy/wZAWFYOYM+M2z/LWC4uH3oSQDE+LyTsMgRAkJzhRGWFGEDd4soovCQQQKqk0DJMEP8/rGmNdwOLBUAW2X/9xCbjP4hu3dcqJhNAzuYItRvdB0CgzW3zJW/sPxotm/Y2TxRAQAk9XmdDDEC1Kx9MKgT3P1M+NctcghZAFVqcLlb0C0Bgzd3sB2b2P77mZDPUWhZAFROHJpUGCEDAfma5CxXtPz1DWq/zYxRAmhYY5824F0DOuQKWSbAOQNCMqrvu3fs/L6DR22K2wT9nAAxPBU8RQGiN6mW43AFAZhu25b633D8c1YgmzowSQNM25BRKWARArGS08/lNxD+LFssHwmMRQLC5aNcxBgJABL9HT0WRF0CjCmJmOGEOQHsuaVzMP/s/TWJCaGGwBUCeu1PAPLzjP9nqN9DZOBNAKE4JcydbCkCGtbd1qjPzP8dgm9U8jhVAtPeKTkVwDkCeCLss5l37P401XMPLmBdAFd29VMVQDUBg0yA55h75Pz6odcYLCRdApBM4rBrkAkDyAVWgQxbRP4XDMnK20hFAymLlF7EmzD8GUgo9XBHlP3lbK7T9COc/k+OhPthhy7+YGEpnrOvCPzBFhLs15u4/epbqB6H4uz9IuuLF5svev6lzLKY31es/CaQ0envF5z8ZY0xlUADXv7zaz7HYEuI/CfbK1sn16T8uAQfWwxLWPzKn/YuFN94/5KdbC1AFu793fyCSnlfvPzK2y4doAMY/NRg5t1/X6b/shq4QJaHDP5yNIAKPOeI/vpn7BSE30r/X4YQrO6nrv78Ziv/Thto/DqJ1Y6+y5z9l51NaxFrlv8QlA65HOLS/86dxiEc96z+Hj0+LFjneP6LzBZ8LTc2/DaJ1Y6+y579l51NaxFrlP8QlA65HOLQ/8qdxiEc967+Jj0+LFjnev6LzBZ8LTc0/1qdbC1AFuz93fyCSnlfvvzK2y4doAMa/NRg5t1/X6T/vhq4QJaHDv5yNIAKPOeK/wJn7BSE30j/W4YQrO6nrP78Ziv/Thtq/CaQ0envF578XY0xlUADXP7zaz7HYEuK/CvbK1sn16b8rAQfWwxLWvzKn/YuFN96/zWLlF7EmzL8GUgo9XBHlv3lbK7T9COe/kOOhPthhyz+cGEpnrOvCvzBFhLs15u6/c5bqB6H4u79IuuLF5sveP6lzLKY31eu/AQAAAP////8HAAAA/////zEAAAD/////VwEAAP////9hCQAA/////6dBAAD/////kcsBAP/////3kAwA/////8H2VwAAAAAAAAAAAAAAAAACAAAA/////w4AAAD/////YgAAAP////+uAgAA/////8ISAAD/////ToMAAP////8ilwMA/////+4hGQD/////gu2vAAAAAAAAAAAAAAAAAAAAAAACAAAA//////////8BAAAAAwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////AgAAAP//////////AQAAAAAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD/////////////////////AQAAAP///////////////wIAAAD///////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP///////////////////////////////wIAAAD///////////////8BAAAA/////////////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAABAAAA//////////8CAAAA//////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAAAQAAAP//////////AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAACAAAAAAAAAAIAAAABAAAAAQAAAAIAAAACAAAAAAAAAAUAAAAFAAAAAAAAAAIAAAACAAAAAwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAEAAAACAAAAAgAAAAIAAAAAAAAABQAAAAYAAAAAAAAAAgAAAAIAAAADAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAAAAAACAAAAAQAAAAMAAAACAAAAAgAAAAAAAAAFAAAABwAAAAAAAAACAAAAAgAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAIAAAABAAAABAAAAAIAAAACAAAAAAAAAAUAAAAIAAAAAAAAAAIAAAACAAAAAwAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAIAAAAAAAAAAgAAAAEAAAAAAAAAAgAAAAIAAAAAAAAABQAAAAkAAAAAAAAAAgAAAAIAAAADAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAIAAAAAAAAAAwAAAA4AAAACAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAgAAAAMAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAgAAAAAAAAADAAAACgAAAAIAAAAAAAAAAgAAAAMAAAABAAAAAAAAAAIAAAACAAAAAwAAAAcAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAACAAAAAAAAAAMAAAALAAAAAgAAAAAAAAACAAAAAwAAAAIAAAAAAAAAAgAAAAIAAAADAAAACAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAIAAAAAAAAAAwAAAAwAAAACAAAAAAAAAAIAAAADAAAAAwAAAAAAAAACAAAAAgAAAAMAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAACAAAAAgAAAAAAAAADAAAADQAAAAIAAAAAAAAAAgAAAAMAAAAEAAAAAAAAAAIAAAACAAAAAwAAAAoAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAACAAAAAAAAAAMAAAAGAAAAAgAAAAAAAAACAAAAAwAAAA8AAAAAAAAAAgAAAAIAAAADAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAIAAAAAAAAAAwAAAAcAAAACAAAAAAAAAAIAAAADAAAAEAAAAAAAAAACAAAAAgAAAAMAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAgAAAAAAAAADAAAACAAAAAIAAAAAAAAAAgAAAAMAAAARAAAAAAAAAAIAAAACAAAAAwAAAA0AAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAACAAAAAAAAAAMAAAAJAAAAAgAAAAAAAAACAAAAAwAAABIAAAAAAAAAAgAAAAIAAAADAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAgAAAAIAAAAAAAAAAwAAAAUAAAACAAAAAAAAAAIAAAADAAAAEwAAAAAAAAACAAAAAgAAAAMAAAAPAAAAAAAAAAAAAAAAAAAAAAAAABAAAAACAAAAAAAAAAIAAAABAAAAEwAAAAIAAAACAAAAAAAAAAUAAAAKAAAAAAAAAAIAAAACAAAAAwAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAIAAAAAAAAAAgAAAAEAAAAPAAAAAgAAAAIAAAAAAAAABQAAAAsAAAAAAAAAAgAAAAIAAAADAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAgAAAAAAAAACAAAAAQAAABAAAAACAAAAAgAAAAAAAAAFAAAADAAAAAAAAAACAAAAAgAAAAMAAAASAAAAAAAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAIAAAABAAAAEQAAAAIAAAACAAAAAAAAAAUAAAANAAAAAAAAAAIAAAACAAAAAwAAABMAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAIAAAAAAAAAAgAAAAEAAAASAAAAAgAAAAIAAAAAAAAABQAAAA4AAAAAAAAAAgAAAAIAAAADAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAAAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAOgehWlKfUEEz1zLi+JsiQa2og3wcMfVAWCbHorc0yEDi+Yn/Y6mbQJ11/mfsnG9At6bnG4UQQkBvMCQWKqUUQJVmwwswmOc/3hVgVBL3uj//qqOEOdGOPw/WDN4gnGE/H3ANkCUgND+AA8btKgAHPwTXBqJVSdo+XfRQAqsKrj4fc+zLYbSPQklEmCZHv2FCUP+uDso1NEKYtPhwphUHQptxnyFXYdpB7CddZAMmrkGAt1AxSTqBQUibBVdTsFNBSuX3MV+AJkFocv82SLf5QAqmgj7AY81A23VDSEnLoEDGEJVSeDFzQDYrqvBk70VA8U157pcRGUBWfEF+ZKbsP7KBdLHZTpFAqKYk69AqekDbeGY41MdjQD8AZzHK501A1vcrrjubNkD5LnquvBYhQCbiRRD71QlAqt72EbOH8z8Eu+jL1YbdP4uaox/xUcY/abedg1XfsD+BsUdzJ4KZP5wE9YFySIM/rW1kAKMpbT+rZFthVRhWPy4PKlXIs0A/qMZLlwDnMEHByqEF0I0ZQQYSFD8lUQNBPpY+dFs07UAH8BZImBPWQN9RY0I0sMBA2T7kLfc6qUByFYvfhBKTQMq+0Mis1XxA0XQbeQXMZUBJJ5aEGXpQQP7/SY0a6ThAaMD92b/UIkAs8s8yqXoMQNIegOvCk/U/aOi7NZJP4D8AAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAD/////AAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAA/////wAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAP////8AAAAABQAAAAAAAAAAAAAAAAAAAAAAAAD/////BQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAABAAAAAAAAAAUAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAEAAQAAAQEAAAAAAAEAAAABAAAAAQABAAAAAAAAAAAAAAAAAAAAAAcAAAAHAAAAAQAAAAIAAAAEAAAAAwAAAAAAAAAAAAAABwAAAAMAAAABAAAAAgAAAAUAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAGAAAAAgAAAAMAAAAFAAAABAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAwAAAAEAAAAFAAAABAAAAAAAAAAAAAAABwAAAAUAAAADAAAABAAAAAEAAAAAAAAAAgAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAAGFsZ29zLmMAaDNOZWlnaGJvclJvdGF0aW9ucwBjb29yZGlqay5jAF91cEFwN0NoZWNrZWQAX3VwQXA3ckNoZWNrZWQAZGlyZWN0ZWRFZGdlLmMAZGlyZWN0ZWRFZGdlVG9Cb3VuZGFyeQBhZGphY2VudEZhY2VEaXJbdG1wRmlqay5mYWNlXVtmaWprLmZhY2VdID09IEtJAGZhY2VpamsuYwBfZmFjZUlqa1BlbnRUb0NlbGxCb3VuZGFyeQBhZGphY2VudEZhY2VEaXJbY2VudGVySUpLLmZhY2VdW2ZhY2UyXSA9PSBLSQBfZmFjZUlqa1RvQ2VsbEJvdW5kYXJ5AGgzSW5kZXguYwBjb21wYWN0Q2VsbHMAbGF0TG5nVG9DZWxsAGNlbGxUb0NoaWxkUG9zAHZhbGlkYXRlQ2hpbGRQb3MAbGF0TG5nLmMAY2VsbEFyZWFSYWRzMgBwb2x5Z29uLT5uZXh0ID09IE5VTEwAbGlua2VkR2VvLmMAYWRkTmV3TGlua2VkUG9seWdvbgBuZXh0ICE9IE5VTEwAbG9vcCAhPSBOVUxMAGFkZE5ld0xpbmtlZExvb3AAcG9seWdvbi0+Zmlyc3QgPT0gTlVMTABhZGRMaW5rZWRMb29wAGNvb3JkICE9IE5VTEwAYWRkTGlua2VkQ29vcmQAbG9vcC0+Zmlyc3QgPT0gTlVMTABpbm5lckxvb3BzICE9IE5VTEwAbm9ybWFsaXplTXVsdGlQb2x5Z29uAGJib3hlcyAhPSBOVUxMAGNhbmRpZGF0ZXMgIT0gTlVMTABmaW5kUG9seWdvbkZvckhvbGUAY2FuZGlkYXRlQkJveGVzICE9IE5VTEwAcmV2RGlyICE9IElOVkFMSURfRElHSVQAbG9jYWxpai5jAGNlbGxUb0xvY2FsSWprAGJhc2VDZWxsICE9IG9yaWdpbkJhc2VDZWxsACEob3JpZ2luT25QZW50ICYmIGluZGV4T25QZW50KQBiYXNlQ2VsbCA9PSBvcmlnaW5CYXNlQ2VsbABiYXNlQ2VsbCAhPSBJTlZBTElEX0JBU0VfQ0VMTABsb2NhbElqa1RvQ2VsbAAhX2lzQmFzZUNlbGxQZW50YWdvbihiYXNlQ2VsbCkAYmFzZUNlbGxSb3RhdGlvbnMgPj0gMABncmlkUGF0aENlbGxzADAAdmVydGV4LmMAY2VsbFRvVmVydGV4AGdyYXBoLT5idWNrZXRzICE9IE5VTEwAdmVydGV4R3JhcGguYwBpbml0VmVydGV4R3JhcGgAbm9kZSAhPSBOVUxMAGFkZFZlcnRleE5vZGU=";function V(A){return A}function Q(A){return A.replace(/\b__Z[\w\d_]+/g,(function(A){return A===A?A:A+" ["+A+"]"}))}function j(){var A=new Error;if(!A.stack){try{throw new Error(0)}catch(e){A=e}if(!A.stack)return"(no stack trace available)"}return A.stack.toString()}function W(){return g.length}function H(A){try{var e=new ArrayBuffer(A);if(e.byteLength!=A)return;return new Int8Array(e).set(g),q(e),y(e),1}catch(t){}}var X="function"==typeof atob?atob:function(A){var e,t,r,n,i,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="",c=0;A=A.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{e=o.indexOf(A.charAt(c++))<<2|(n=o.indexOf(A.charAt(c++)))>>4,t=(15&n)<<4|(i=o.indexOf(A.charAt(c++)))>>2,r=(3&i)<<6|(s=o.indexOf(A.charAt(c++))),a+=String.fromCharCode(e),64!==i&&(a+=String.fromCharCode(t)),64!==s&&(a+=String.fromCharCode(r))}while(c<A.length);return a};function Y(A){if(z(A))return function(A){try{for(var e=X(A),t=new Uint8Array(e.length),r=0;r<e.length;++r)t[r]=e.charCodeAt(r);return t}catch(n){throw new Error("Converting base64 string to bytes failed.")}}(A.slice(G.length))}var K,Z,$=function(A,e,t){var r=new A.Int8Array(t),n=new A.Int32Array(t),i=(new A.Uint8Array(t),new A.Float32Array(t),new A.Float64Array(t)),s=0|e.o,o=0|e.p,a=A.Math.floor,c=A.Math.abs,l=A.Math.sqrt,u=A.Math.pow,h=A.Math.cos,f=A.Math.sin,d=A.Math.tan,p=A.Math.acos,g=A.Math.asin,_=A.Math.atan,m=A.Math.atan2,v=A.Math.ceil,E=A.Math.imul,b=A.Math.min,w=A.Math.max,y=A.Math.clz32,T=e.b,S=e.c,C=e.d,R=e.e,P=e.f,x=e.g,M=e.h,k=e.i,B=24160;function I(A,e,t,r){return 0|L(A|=0,e|=0,t|=0,r|=0,0)}function L(A,e,t,r,i){var s,o=0,a=0,c=0,l=0;if(s=B,B=B+16|0,a=s,!(0|D(A|=0,e|=0,t|=0,r|=0,i|=0)))return B=s,0|(r=0);do{if((0|t)>=0){if((0|t)>13780509){if(0|(o=0|ee(15,a)))break;a=0|n[(c=a)>>2],c=0|n[c+4>>2]}else l=0|Fe(0|t,0|(o=((0|t)<0)<<31>>31),3,0),c=0|S(),o=0|Be(0|t,0|o,1,0),o=0|Be(0|(o=0|Fe(0|l,0|c,0|o,0|S())),0|S(),1,0),c=0|S(),n[a>>2]=o,n[a+4>>2]=c,a=o;if(Xe(0|r,0,a<<3|0),0|i){Xe(0|i,0,a<<2|0),o=0|O(A,e,t,r,i,a,c,0);break}(o=0|ke(a,4))?(l=0|O(A,e,t,r,o,a,c,0),Me(o),o=l):o=13}else o=2}while(0);return B=s,0|(l=o)}function D(A,e,t,r,i){A|=0,e|=0,t|=0,r|=0,i|=0;var s,o,a=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0;if(o=B,B=B+16|0,g=o+8|0,n[(p=s=o)>>2]=A,n[p+4>>2]=e,(0|t)<0)return B=o,0|(g=2);if(n[(a=r)>>2]=A,n[a+4>>2]=e,(a=0!=(0|i))&&(n[i>>2]=0),0|FA(A,e))return B=o,0|(g=9);n[g>>2]=0;A:do{if((0|t)>=1)if(a)for(f=1,h=0,d=0,p=1,a=A;;){if(!(h|d)){if(0|(a=0|F(a,e,4,g,s)))break A;if(0|FA(a=0|n[(e=s)>>2],e=0|n[e+4>>2])){a=9;break A}}if(0|(a=0|F(a,e,0|n[22384+(d<<2)>>2],g,s)))break A;if(a=0|n[(e=s)>>2],e=0|n[e+4>>2],n[(A=r+(f<<3)|0)>>2]=a,n[A+4>>2]=e,n[i+(f<<2)>>2]=p,c=(0|(A=h+1|0))==(0|p),u=6==(0|(l=d+1|0)),0|FA(a,e)){a=9;break A}if((0|(p=p+(u&c&1)|0))>(0|t)){a=0;break}f=f+1|0,h=c?0:A,d=c?u?0:l:d}else for(f=1,h=0,d=0,p=1,a=A;;){if(!(h|d)){if(0|(a=0|F(a,e,4,g,s)))break A;if(0|FA(a=0|n[(e=s)>>2],e=0|n[e+4>>2])){a=9;break A}}if(0|(a=0|F(a,e,0|n[22384+(d<<2)>>2],g,s)))break A;if(a=0|n[(e=s)>>2],e=0|n[e+4>>2],n[(A=r+(f<<3)|0)>>2]=a,n[A+4>>2]=e,c=(0|(A=h+1|0))==(0|p),u=6==(0|(l=d+1|0)),0|FA(a,e)){a=9;break A}if((0|(p=p+(u&c&1)|0))>(0|t)){a=0;break}f=f+1|0,h=c?0:A,d=c?u?0:l:d}else a=0}while(0);return B=o,0|(g=a)}function O(A,e,t,r,i,s,o,a){t|=0,r|=0,i|=0,a|=0;var c,l,u,h=0,f=0,d=0,p=0,g=0,_=0,m=0;if(u=B,B=B+16|0,c=u+8|0,l=u,h=0|Ue(0|(A|=0),0|(e|=0),0|(s|=0),0|(o|=0)),d=0|S(),!(0==(0|(m=0|n[(_=p=r+(h<<3)|0)>>2]))&0==(0|(_=0|n[_+4>>2]))|(f=(0|m)==(0|A)&(0|_)==(0|e))))do{h=0|Ne(0|(h=0|Be(0|h,0|d,1,0)),0|S(),0|s,0|o),d=0|S(),f=(0|(_=0|n[(m=p=r+(h<<3)|0)>>2]))==(0|A)&(0|(m=0|n[m+4>>2]))==(0|e)}while(!(0==(0|_)&0==(0|m)|f));if(h=i+(h<<2)|0,f&&(0|n[h>>2])<=(0|a))return B=u,0|(m=0);if(n[(m=p)>>2]=A,n[m+4>>2]=e,n[h>>2]=a,(0|a)>=(0|t))return B=u,0|(m=0);switch(f=a+1|0,n[c>>2]=0,0|(h=0|F(A,e,2,c,l))){case 9:g=9;break;case 0:(h=0|O(0|n[(h=l)>>2],0|n[h+4>>2],t,r,i,s,o,f))||(g=9)}A:do{if(9==(0|g)){switch(n[c>>2]=0,0|(h=0|F(A,e,3,c,l))){case 9:break;case 0:if(0|(h=0|O(0|n[(h=l)>>2],0|n[h+4>>2],t,r,i,s,o,f)))break A;break;default:break A}switch(n[c>>2]=0,0|(h=0|F(A,e,1,c,l))){case 9:break;case 0:if(0|(h=0|O(0|n[(h=l)>>2],0|n[h+4>>2],t,r,i,s,o,f)))break A;break;default:break A}switch(n[c>>2]=0,0|(h=0|F(A,e,5,c,l))){case 9:break;case 0:if(0|(h=0|O(0|n[(h=l)>>2],0|n[h+4>>2],t,r,i,s,o,f)))break A;break;default:break A}switch(n[c>>2]=0,0|(h=0|F(A,e,4,c,l))){case 9:break;case 0:if(0|(h=0|O(0|n[(h=l)>>2],0|n[h+4>>2],t,r,i,s,o,f)))break A;break;default:break A}switch(n[c>>2]=0,0|(h=0|F(A,e,6,c,l))){case 9:break;case 0:if(0|(h=0|O(0|n[(h=l)>>2],0|n[h+4>>2],t,r,i,s,o,f)))break A;break;default:break A}return B=u,0|(m=0)}}while(0);return B=u,0|(m=h)}function F(A,e,t,r,i){A|=0,e|=0,i|=0;var s,o,a=0,c=0,l=0,u=0,h=0,f=0,d=0;if((t|=0)>>>0>6)return 0|(i=1);if(h=(0|n[(r|=0)>>2])%6|0,n[r>>2]=h,(0|h)>0){a=0;do{t=0|dA(t),a=a+1|0}while((0|a)<(0|n[r>>2]))}if(h=0|ze(0|A,0|e,45),S(),(o=127&h)>>>0>121)return 0|(i=5);s=0|NA(A,e),a=0|ze(0|A,0|e,52),S(),a&=15;A:do{if(a){for(;;){if(l=0|ze(0|A,0|e,0|(c=3*(15-a|0)|0)),S(),7==(0|(l&=7))){e=5;break}if(d=0==(0|QA(a)),a=a+-1|0,f=0|Ve(7,0,0|c),e&=~(0|S()),A=0|Ve(0|n[(d?432:16)+(28*l|0)+(t<<2)>>2],0,0|c)|A&~f,e|=c=0|S(),!(t=0|n[(d?640:224)+(28*l|0)+(t<<2)>>2])){t=0;break A}if(!a){u=8;break A}}return 0|e}u=8}while(0);8==(0|u)&&(A|=0|Ve(0|(d=0|n[848+(28*o|0)+(t<<2)>>2]),0,45),e=0|S()|-1040385&e,t=0|n[4272+(28*o|0)+(t<<2)>>2],127==(127&d|0)&&(d=0|Ve(0|n[848+(28*o|0)+20>>2],0,45),e=0|S()|-1040385&e,t=0|n[4272+(28*o|0)+20>>2],A=0|GA(d|A,e),e=0|S(),n[r>>2]=1+(0|n[r>>2]))),l=0|ze(0|A,0|e,45),S(),l&=127;A:do{if(0|G(l)){e:do{if(1==(0|NA(A,e))){if((0|o)!=(0|l)){if(0|j(l,0|n[7696+(28*o|0)>>2])){A=0|VA(A,e),c=1,e=0|S();break}C(23313,22416,436,22424)}switch(0|s){case 3:A=0|GA(A,e),e=0|S(),n[r>>2]=1+(0|n[r>>2]),c=0;break e;case 5:A=0|VA(A,e),e=0|S(),n[r>>2]=5+(0|n[r>>2]),c=0;break e;case 0:return 0|(d=9);default:return 0|(d=1)}}else c=0}while(0);if((0|t)>0){a=0;do{A=0|UA(A,e),e=0|S(),a=a+1|0}while((0|a)!=(0|t))}if((0|o)!=(0|l)){if(!(0|z(l))){if(0!=(0|c)|5!=(0|NA(A,e)))break;n[r>>2]=1+(0|n[r>>2]);break}switch(127&h){case 8:case 118:break A}3!=(0|NA(A,e))&&(n[r>>2]=1+(0|n[r>>2]))}}else if((0|t)>0){a=0;do{A=0|GA(A,e),e=0|S(),a=a+1|0}while((0|a)!=(0|t))}}while(0);return n[r>>2]=((0|n[r>>2])+t|0)%6|0,n[(d=i)>>2]=A,n[d+4>>2]=e,0|(d=0)}function N(A,e,t,r){t|=0,r|=0;var i,s,o,a=0,c=0;for(o=B,B=B+16|0,i=o,s=o+8|0,a=(a=0==(0|FA(A|=0,e|=0)))?1:2;;){if(n[s>>2]=0,0==(0|F(A,e,a,s,i))&((0|n[(c=i)>>2])==(0|t)?(0|n[c+4>>2])==(0|r):0)){A=4;break}if((a=a+1|0)>>>0>=7){a=7,A=4;break}}return 4==(0|A)?(B=o,0|a):0}function U(A,e,t,r,s,o,a){e|=0,t|=0,r|=0,s|=0,o|=0,a|=0;var c,l,u,h,f,d,p,g,_,m,v=0,E=0,b=0,w=0,y=0,T=0,C=0,R=0,P=0,x=0,M=0,k=0,I=0,L=0,D=0,O=0,F=0,N=0,U=0;if(m=B,B=B+64|0,p=m+48|0,g=m+32|0,_=m+24|0,c=m+8|0,l=m,(0|(E=0|n[(A|=0)>>2]))<=0)return B=m,0|(D=0);for(u=A+4|0,h=p+8|0,f=g+8|0,d=c+8|0,v=0,I=0;;){k=(b=0|n[u>>2])+(I<<4)|0,n[p>>2]=n[k>>2],n[p+4>>2]=n[k+4>>2],n[p+8>>2]=n[k+8>>2],n[p+12>>2]=n[k+12>>2],(0|I)==(E+-1|0)?(n[g>>2]=n[b>>2],n[g+4>>2]=n[b+4>>2],n[g+8>>2]=n[b+8>>2],n[g+12>>2]=n[b+12>>2]):(k=b+(I+1<<4)|0,n[g>>2]=n[k>>2],n[g+4>>2]=n[k+4>>2],n[g+8>>2]=n[k+8>>2],n[g+12>>2]=n[k+12>>2]),E=0|Z(p,g,r,_);A:do{if(E)b=0,v=E;else if(E=0|n[(b=_)>>2],(0|(b=0|n[b+4>>2]))>0|0==(0|b)&E>>>0>0){M=0,k=0;e:for(;;){if(U=+i[p>>3],N=+((x=0|Ie(0|E,0|b,0|M,0|k))>>>0)+4294967296*+(0|S()),O=+(E>>>0)+4294967296*+(0|b),F=+(M>>>0)+4294967296*+(0|k),i[c>>3]=U*N/O+ +i[g>>3]*F/O,i[d>>3]=+i[h>>3]*N/O+ +i[f>>3]*F/O,0|(E=0|jA(c,r,l))){v=E;break}T=0|Ue(0|(P=0|n[(x=l)>>2]),0|(x=0|n[x+4>>2]),0|e,0|t),w=0|S(),b=0|n[(y=E=a+(T<<3)|0)>>2],y=0|n[y+4>>2];t:do{if(0==(0|b)&0==(0|y))L=E,D=16;else for(C=0,R=0;;){if((0|C)>(0|t)|(0|C)==(0|t)&R>>>0>e>>>0){v=1;break e}if((0|b)==(0|P)&(0|y)==(0|x))break t;if(T=0|Ne(0|(E=0|Be(0|T,0|w,1,0)),0|S(),0|e,0|t),w=0|S(),R=0|Be(0|R,0|C,1,0),C=0|S(),0==(0|(b=0|n[(y=E=a+(T<<3)|0)>>2]))&0==(0|(y=0|n[y+4>>2]))){L=E,D=16;break}}}while(0);if(16!=(0|D)||(D=0,0==(0|P)&0==(0|x))||(n[(R=L)>>2]=P,n[R+4>>2]=x,R=o+(n[s>>2]<<3)|0,n[R>>2]=P,n[R+4>>2]=x,R=0|Be(0|n[(R=s)>>2],0|n[R+4>>2],1,0),P=0|S(),n[(x=s)>>2]=R,n[x+4>>2]=P),M=0|Be(0|M,0|k,1,0),k=0|S(),E=0|n[(b=_)>>2],!((0|(b=0|n[b+4>>2]))>(0|k)|(0|b)==(0|k)&E>>>0>M>>>0)){b=1;break A}}b=0}else b=1}while(0);if(I=I+1|0,!b){D=21;break}if((0|I)>=(0|(E=0|n[A>>2]))){v=0,D=21;break}}return 21==(0|D)?(B=m,0|v):0}function G(A){return(A|=0)>>>0>121?0|(A=0):0|(A=0|n[7696+(28*A|0)+16>>2])}function z(A){return 4==(0|(A|=0))|117==(0|A)|0}function V(A){return 0|n[11120+(216*(0|n[(A|=0)>>2])|0)+(72*(0|n[A+4>>2])|0)+(24*(0|n[A+8>>2])|0)+(n[A+12>>2]<<3)>>2]}function Q(A){return 0|n[11120+(216*(0|n[(A|=0)>>2])|0)+(72*(0|n[A+4>>2])|0)+(24*(0|n[A+8>>2])|0)+(n[A+12>>2]<<3)+4>>2]}function j(A,e){return e|=0,(0|n[7696+(28*(A|=0)|0)+20>>2])==(0|e)?0|(e=1):0|(e=(0|n[7696+(28*A|0)+24>>2])==(0|e))}function W(A,e){return 0|n[848+(28*(A|=0)|0)+((e|=0)<<2)>>2]}function H(A,e){return e|=0,(0|n[848+(28*(A|=0)|0)>>2])==(0|e)?0|(e=0):(0|n[848+(28*A|0)+4>>2])==(0|e)?0|(e=1):(0|n[848+(28*A|0)+8>>2])==(0|e)?0|(e=2):(0|n[848+(28*A|0)+12>>2])==(0|e)?0|(e=3):(0|n[848+(28*A|0)+16>>2])==(0|e)?0|(e=4):(0|n[848+(28*A|0)+20>>2])==(0|e)?0|(e=5):0|((0|n[848+(28*A|0)+24>>2])==(0|e)?6:7)}function X(A){return+i[(A|=0)+16>>3]<+i[A+24>>3]|0}function Y(A,e){A|=0;var t,r,n=0;return(n=+i[(e|=0)>>3])>=+i[A+8>>3]&&n<=+i[A>>3]?(t=+i[A+16>>3],n=+i[A+24>>3],e=(r=+i[e+8>>3])>=n,A=r<=t&1,t<n?e&&(A=1):e||(A=0),0|(e=0!=(0|A))):0|(e=0)}function K(A,e,t){A|=0,e|=0,t|=0;var r,o,l,u,h,f,d,p=0,g=0,_=0,m=0,E=0,w=0,y=0;f=B,B=B+288|0,h=f+264|0,m=f+96|0,g=(p=_=f)+96|0;do{n[p>>2]=0,p=p+4|0}while((0|p)<(0|g));return 0|(e=0|KA(e,_))?(B=f,0|(w=e)):(XA(_=0|n[(g=_)>>2],g=0|n[g+4>>2],h),YA(_,g,m),u=+Ae(h,m+8|0),i[h>>3]=+i[A>>3],i[(g=h+8|0)>>3]=+i[A+16>>3],i[m>>3]=+i[A+8>>3],i[(_=m+8|0)>>3]=+i[A+24>>3],o=+Ae(h,m),y=+i[g>>3]-+i[_>>3],l=+c(+y),d=+i[h>>3]-+i[m>>3],r=+c(+d),0==y|0==d||(y=+Qe(+l,+r),y=+v(+o*o/+je(+y/+je(+l,+r),3)/(u*(2.59807621135*u)*.8)),i[s>>3]=y,E=~~y>>>0,w=+c(y)>=1?y>0?~~+b(+a(y/4294967296),4294967295)>>>0:~~+v((y-+(~~y>>>0))/4294967296)>>>0:0,2146435072==(2146435072&n[s+4>>2]|0))?e=1:(m=0==(0|E)&0==(0|w),n[(e=t)>>2]=m?1:E,n[e+4>>2]=m?0:w,e=0),B=f,0|(w=e))}function Z(A,e,t,r){A|=0,e|=0,t|=0,r|=0;var o,l,u,h,f=0,d=0,p=0;h=B,B=B+288|0,l=h+264|0,u=h+96|0,o=(f=d=h)+96|0;do{n[f>>2]=0,f=f+4|0}while((0|f)<(0|o));return 0|(t=0|KA(t,d))?(B=h,0|(r=t)):(XA(f=0|n[(t=d)>>2],t=0|n[t+4>>2],l),YA(f,t,u),p=+Ae(l,u+8|0),p=+v(+ +Ae(A,e)/(2*p)),i[s>>3]=p,t=~~p>>>0,f=+c(p)>=1?p>0?~~+b(+a(p/4294967296),4294967295)>>>0:~~+v((p-+(~~p>>>0))/4294967296)>>>0:0,2146435072==(2146435072&n[s+4>>2]|0)?(B=h,0|(r=1)):(d=0==(0|t)&0==(0|f),n[r>>2]=d?1:t,n[r+4>>2]=d?0:f,B=h,0|(r=0)))}function $(A,e,t,r){e|=0,t|=0,r|=0,n[(A|=0)>>2]=e,n[A+4>>2]=t,n[A+8>>2]=r}function q(A,e){A|=0;var t,r,s,o,a=0,l=0,u=0,h=0,f=0,d=0,p=0;n[(o=(e|=0)+8|0)>>2]=0,r=+i[A>>3],h=+c(+r),s=+i[A+8>>3],h+=.5*(f=+c(+s)/.8660254037844386),h-=+(0|(a=~~h)),f-=+(0|(A=~~f));do{if(h<.5){if(h<.3333333333333333){if(n[e>>2]=a,f<.5*(h+1)){n[e+4>>2]=A;break}A=A+1|0,n[e+4>>2]=A;break}if(A=(1&!(f<(p=1-h)))+A|0,n[e+4>>2]=A,p<=f&f<2*h){a=a+1|0,n[e>>2]=a;break}n[e>>2]=a;break}if(!(h<.6666666666666666)){if(a=a+1|0,n[e>>2]=a,f<.5*h){n[e+4>>2]=A;break}A=A+1|0,n[e+4>>2]=A;break}if(f<1-h){if(n[e+4>>2]=A,2*h-1<f){n[e>>2]=a;break}}else A=A+1|0,n[e+4>>2]=A;a=a+1|0,n[e>>2]=a}while(0);do{if(r<0){if(1&A){a=~~(+(0|a)-(2*(+((d=0|Ie(0|a,((0|a)<0)<<31>>31|0,0|(d=(A+1|0)/2|0),((0|d)<0)<<31>>31|0))>>>0)+4294967296*+(0|S()))+1)),n[e>>2]=a;break}a=~~(+(0|a)-2*(+((d=0|Ie(0|a,((0|a)<0)<<31>>31|0,0|(d=(0|A)/2|0),((0|d)<0)<<31>>31|0))>>>0)+4294967296*+(0|S()))),n[e>>2]=a;break}}while(0);d=e+4|0,s<0&&(a=a-((1|A<<1)/2|0)|0,n[e>>2]=a,A=0-A|0,n[d>>2]=A),l=A-a|0,(0|a)<0?(u=0-a|0,n[d>>2]=l,n[o>>2]=u,n[e>>2]=0,A=l,a=0):u=0,(0|A)<0&&(a=a-A|0,n[e>>2]=a,u=u-A|0,n[o>>2]=u,n[d>>2]=0,A=0),t=a-u|0,l=A-u|0,(0|u)<0&&(n[e>>2]=t,n[d>>2]=l,n[o>>2]=0,A=l,a=t,u=0),(0|(l=(0|u)<(0|(l=(0|A)<(0|a)?A:a))?u:l))<=0||(n[e>>2]=a-l,n[d>>2]=A-l,n[o>>2]=u-l)}function J(A){var e,t=0,r=0,i=0,s=0,o=0;t=0|n[(A|=0)>>2],r=0|n[(e=A+4|0)>>2],(0|t)<0&&(r=r-t|0,n[e>>2]=r,n[(o=A+8|0)>>2]=(0|n[o>>2])-t,n[A>>2]=0,t=0),(0|r)<0?(t=t-r|0,n[A>>2]=t,s=(0|n[(o=A+8|0)>>2])-r|0,n[o>>2]=s,n[e>>2]=0,r=0):(o=s=A+8|0,s=0|n[s>>2]),(0|s)<0&&(t=t-s|0,n[A>>2]=t,r=r-s|0,n[e>>2]=r,n[o>>2]=0,s=0),(0|(i=(0|s)<(0|(i=(0|r)<(0|t)?r:t))?s:i))<=0||(n[A>>2]=t-i,n[e>>2]=r-i,n[o>>2]=s-i)}function AA(A,e){e|=0;var t,r;r=0|n[(A|=0)+8>>2],t=+((0|n[A+4>>2])-r|0),i[e>>3]=+((0|n[A>>2])-r|0)-.5*t,i[e+8>>3]=.8660254037844386*t}function eA(A,e,t){A|=0,e|=0,n[(t|=0)>>2]=(0|n[e>>2])+(0|n[A>>2]),n[t+4>>2]=(0|n[e+4>>2])+(0|n[A+4>>2]),n[t+8>>2]=(0|n[e+8>>2])+(0|n[A+8>>2])}function tA(A,e,t){A|=0,e|=0,n[(t|=0)>>2]=(0|n[A>>2])-(0|n[e>>2]),n[t+4>>2]=(0|n[A+4>>2])-(0|n[e+4>>2]),n[t+8>>2]=(0|n[A+8>>2])-(0|n[e+8>>2])}function rA(A,e){e|=0;var t,r=0;r=0|E(0|n[(A|=0)>>2],e),n[A>>2]=r,t=0|E(0|n[(r=A+4|0)>>2],e),n[r>>2]=t,e=0|E(0|n[(A=A+8|0)>>2],e),n[A>>2]=e}function nA(A){var e,t,r=0,i=0,s=0,o=0,a=0;a=(0|(t=0|n[(A|=0)>>2]))<0,A=(A=(i=(0|(o=((e=(0|(s=(0|n[A+4>>2])-(a?t:0)|0))<0)?0-s|0:0)+((0|n[A+8>>2])-(a?t:0))|0))<0)?0:o)-((s=(0|(i=(0|A)<(0|(i=(0|(r=(e?0:s)-(i?o:0)|0))<(0|(o=(a?0:t)-(e?s:0)-(i?o:0)|0))?r:o))?A:i))>0)?i:0)|0,r=r-(s?i:0)|0;A:do{switch(o-(s?i:0)|0){case 0:switch(0|r){case 0:return 0|(a=0==(0|A)?0:1==(0|A)?1:7);case 1:return 0|(a=0==(0|A)?2:1==(0|A)?3:7);default:break A}case 1:switch(0|r){case 0:return 0|(a=0==(0|A)?4:1==(0|A)?5:7);case 1:if(A)break A;return 0|(A=6);default:break A}}}while(0);return 0|(a=7)}function iA(A){var e,t=0,r=0,i=0,s=0,o=0,a=0;s=0|n[(e=(A|=0)+8|0)>>2],o=(0|n[A>>2])-s|0,s=(0|n[(a=A+4|0)>>2])-s|0;do{if(o>>>0>715827881|s>>>0>715827881){if(r=(0|o)>0){if((2147483647-o|0)<(0|o))return 0|(a=1);if((2147483647-(o<<1)|0)<(0|o))return 0|(a=1)}else{if((-2147483648-o|0)>(0|o))return 0|(a=1);if((-2147483648-(o<<1)|0)>(0|o))return 0|(a=1)}if(t=3*o|0,(0|s)>0){if((2147483647-s|0)<(0|s))return 0|(a=1)}else if((-2147483648-s|0)>(0|s))return 0|(a=1);if(i=s<<1,(0|o)>-1){if((-2147483648|t|0)>=(0|s))return 0|(a=1)}else if((-2147483648^t|0)<(0|s))return 0|(a=1);if(r){if(!((2147483647-o|0)<(0|i))){r=i;break}return 0|(t=1)}if(!((-2147483648-o|0)>(0|i))){r=i;break}return 0|(t=1)}r=s<<1,t=3*o|0}while(0);i=0|Pe(+(t-s|0)/7),n[A>>2]=i,s=0|Pe(+(r+o|0)/7),n[a>>2]=s,n[e>>2]=0,t=(r=(0|s)<(0|i))?i:s,r=r?s:i;do{if((0|r)<0){if((0|t)>0){if((-2147483648|t|0)<(0|r)&-2147483648!=(0|r)&(2147483647-t|0)>=(0|r))break;C(23313,22444,355,22455)}if(-2147483648==(0|r)|(-2147483648-t|0)>(0|r)&&C(23313,22444,355,22455),(0|t)>-1){if((-2147483648|t|0)<(0|r))break;C(23313,22444,355,22455)}else{if((-2147483648^t|0)>=(0|r))break;C(23313,22444,355,22455)}}}while(0);return t=s-i|0,(0|i)<0?(r=0-i|0,n[a>>2]=t,n[e>>2]=r,n[A>>2]=0,i=0):(t=s,r=0),(0|t)<0&&(i=i-t|0,n[A>>2]=i,r=r-t|0,n[e>>2]=r,n[a>>2]=0,t=0),o=i-r|0,s=t-r|0,(0|r)<0?(n[A>>2]=o,n[a>>2]=s,n[e>>2]=0,t=s,s=o,r=0):s=i,(0|(i=(0|r)<(0|(i=(0|t)<(0|s)?t:s))?r:i))<=0||(n[A>>2]=s-i,n[a>>2]=t-i,n[e>>2]=r-i),0|(a=0)}function sA(A){var e,t=0,r=0,i=0,s=0,o=0,a=0;s=0|n[(e=(A|=0)+8|0)>>2],o=(0|n[A>>2])-s|0,s=(0|n[(a=A+4|0)>>2])-s|0;do{if(o>>>0>715827881|s>>>0>715827881){if(r=(0|o)>0){if((2147483647-o|0)<(0|o))return 0|(a=1)}else if((-2147483648-o|0)>(0|o))return 0|(a=1);if(t=o<<1,(0|s)>0){if((2147483647-s|0)<(0|s))return 0|(a=1);if((2147483647-(s<<1)|0)<(0|s))return 0|(a=1)}else{if((-2147483648-s|0)>(0|s))return 0|(a=1);if((-2147483648-(s<<1)|0)>(0|s))return 0|(a=1)}if(i=3*s|0,r){if((2147483647-t|0)<(0|s))return 0|(a=1)}else if((-2147483648-t|0)>(0|s))return 0|(a=1);if((0|s)>-1){if((-2147483648|i|0)<(0|o)){r=i;break}return 0|(t=1)}if(!((-2147483648^i|0)<(0|o))){r=i;break}return 0|(t=1)}r=3*s|0,t=o<<1}while(0);i=0|Pe(+(t+s|0)/7),n[A>>2]=i,s=0|Pe(+(r-o|0)/7),n[a>>2]=s,n[e>>2]=0,t=(r=(0|s)<(0|i))?i:s,r=r?s:i;do{if((0|r)<0){if((0|t)>0){if((-2147483648|t|0)<(0|r)&-2147483648!=(0|r)&(2147483647-t|0)>=(0|r))break;C(23313,22444,404,22469)}if(-2147483648==(0|r)|(-2147483648-t|0)>(0|r)&&C(23313,22444,404,22469),(0|t)>-1){if((-2147483648|t|0)<(0|r))break;C(23313,22444,404,22469)}else{if((-2147483648^t|0)>=(0|r))break;C(23313,22444,404,22469)}}}while(0);return t=s-i|0,(0|i)<0?(r=0-i|0,n[a>>2]=t,n[e>>2]=r,n[A>>2]=0,i=0):(t=s,r=0),(0|t)<0&&(i=i-t|0,n[A>>2]=i,r=r-t|0,n[e>>2]=r,n[a>>2]=0,t=0),o=i-r|0,s=t-r|0,(0|r)<0?(n[A>>2]=o,n[a>>2]=s,n[e>>2]=0,t=s,s=o,r=0):s=i,(0|(i=(0|r)<(0|(i=(0|t)<(0|s)?t:s))?r:i))<=0||(n[A>>2]=s-i,n[a>>2]=t-i,n[e>>2]=r-i),0|(a=0)}function oA(A){var e,t,r=0,i=0,s=0,o=0,a=0;i=0|n[(e=(A|=0)+8|0)>>2],s=0|Pe(+((3*(r=(0|n[A>>2])-i|0)|0)-(i=(0|n[(t=A+4|0)>>2])-i|0)|0)/7),n[A>>2]=s,r=0|Pe(+((i<<1)+r|0)/7),n[t>>2]=r,n[e>>2]=0,i=r-s|0,(0|s)<0?(a=0-s|0,n[t>>2]=i,n[e>>2]=a,n[A>>2]=0,r=i,s=0,i=a):i=0,(0|r)<0&&(s=s-r|0,n[A>>2]=s,i=i-r|0,n[e>>2]=i,n[t>>2]=0,r=0),a=s-i|0,o=r-i|0,(0|i)<0?(n[A>>2]=a,n[t>>2]=o,n[e>>2]=0,r=o,o=a,i=0):o=s,(0|(s=(0|i)<(0|(s=(0|r)<(0|o)?r:o))?i:s))<=0||(n[A>>2]=o-s,n[t>>2]=r-s,n[e>>2]=i-s)}function aA(A){var e,t,r=0,i=0,s=0,o=0,a=0;i=0|n[(e=(A|=0)+8|0)>>2],s=0|Pe(+(((r=(0|n[A>>2])-i|0)<<1)+(i=(0|n[(t=A+4|0)>>2])-i|0)|0)/7),n[A>>2]=s,r=0|Pe(+((3*i|0)-r|0)/7),n[t>>2]=r,n[e>>2]=0,i=r-s|0,(0|s)<0?(a=0-s|0,n[t>>2]=i,n[e>>2]=a,n[A>>2]=0,r=i,s=0,i=a):i=0,(0|r)<0&&(s=s-r|0,n[A>>2]=s,i=i-r|0,n[e>>2]=i,n[t>>2]=0,r=0),a=s-i|0,o=r-i|0,(0|i)<0?(n[A>>2]=a,n[t>>2]=o,n[e>>2]=0,r=o,o=a,i=0):o=s,(0|(s=(0|i)<(0|(s=(0|r)<(0|o)?r:o))?i:s))<=0||(n[A>>2]=o-s,n[t>>2]=r-s,n[e>>2]=i-s)}function cA(A){var e,t,r,i=0,s=0,o=0,a=0;i=0|n[(A|=0)>>2],s=0|n[(t=A+4|0)>>2],o=0|n[(r=A+8|0)>>2],a=s+(3*i|0)|0,n[A>>2]=a,s=o+(3*s|0)|0,n[t>>2]=s,i=(3*o|0)+i|0,n[r>>2]=i,o=s-a|0,(0|a)<0?(i=i-a|0,n[t>>2]=o,n[r>>2]=i,n[A>>2]=0,s=o,o=0):o=a,(0|s)<0&&(o=o-s|0,n[A>>2]=o,i=i-s|0,n[r>>2]=i,n[t>>2]=0,s=0),e=o-i|0,a=s-i|0,(0|i)<0?(n[A>>2]=e,n[t>>2]=a,n[r>>2]=0,o=e,i=0):a=s,(0|(s=(0|i)<(0|(s=(0|a)<(0|o)?a:o))?i:s))<=0||(n[A>>2]=o-s,n[t>>2]=a-s,n[r>>2]=i-s)}function lA(A){var e,t,r,i=0,s=0,o=0,a=0;a=0|n[(A|=0)>>2],o=(3*(i=0|n[(t=A+4|0)>>2])|0)+a|0,a=(s=0|n[(r=A+8|0)>>2])+(3*a|0)|0,n[A>>2]=a,n[t>>2]=o,i=(3*s|0)+i|0,n[r>>2]=i,s=o-a|0,(0|a)<0?(i=i-a|0,n[t>>2]=s,n[r>>2]=i,n[A>>2]=0,a=0):s=o,(0|s)<0&&(a=a-s|0,n[A>>2]=a,i=i-s|0,n[r>>2]=i,n[t>>2]=0,s=0),e=a-i|0,o=s-i|0,(0|i)<0?(n[A>>2]=e,n[t>>2]=o,n[r>>2]=0,a=e,i=0):o=s,(0|(s=(0|i)<(0|(s=(0|o)<(0|a)?o:a))?i:s))<=0||(n[A>>2]=a-s,n[t>>2]=o-s,n[r>>2]=i-s)}function uA(A,e){A|=0;var t,r,i,s=0,o=0,a=0;((e|=0)+-1|0)>>>0>=6||(a=(0|n[15440+(12*e|0)>>2])+(0|n[A>>2])|0,n[A>>2]=a,i=A+4|0,o=(0|n[15440+(12*e|0)+4>>2])+(0|n[i>>2])|0,n[i>>2]=o,r=A+8|0,e=(0|n[15440+(12*e|0)+8>>2])+(0|n[r>>2])|0,n[r>>2]=e,s=o-a|0,(0|a)<0?(e=e-a|0,n[i>>2]=s,n[r>>2]=e,n[A>>2]=0,o=0):(s=o,o=a),(0|s)<0&&(o=o-s|0,n[A>>2]=o,e=e-s|0,n[r>>2]=e,n[i>>2]=0,s=0),t=o-e|0,a=s-e|0,(0|e)<0?(n[A>>2]=t,n[i>>2]=a,n[r>>2]=0,o=t,e=0):a=s,(0|(s=(0|e)<(0|(s=(0|a)<(0|o)?a:o))?e:s))<=0||(n[A>>2]=o-s,n[i>>2]=a-s,n[r>>2]=e-s))}function hA(A){var e,t,r,i=0,s=0,o=0,a=0;a=0|n[(A|=0)>>2],o=(i=0|n[(t=A+4|0)>>2])+a|0,a=(s=0|n[(r=A+8|0)>>2])+a|0,n[A>>2]=a,n[t>>2]=o,i=s+i|0,n[r>>2]=i,s=o-a|0,(0|a)<0?(i=i-a|0,n[t>>2]=s,n[r>>2]=i,n[A>>2]=0,o=0):(s=o,o=a),(0|s)<0&&(o=o-s|0,n[A>>2]=o,i=i-s|0,n[r>>2]=i,n[t>>2]=0,s=0),e=o-i|0,a=s-i|0,(0|i)<0?(n[A>>2]=e,n[t>>2]=a,n[r>>2]=0,o=e,i=0):a=s,(0|(s=(0|i)<(0|(s=(0|a)<(0|o)?a:o))?i:s))<=0||(n[A>>2]=o-s,n[t>>2]=a-s,n[r>>2]=i-s)}function fA(A){var e,t,r,i=0,s=0,o=0,a=0;i=0|n[(A|=0)>>2],o=0|n[(t=A+4|0)>>2],s=0|n[(r=A+8|0)>>2],a=o+i|0,n[A>>2]=a,o=s+o|0,n[t>>2]=o,i=s+i|0,n[r>>2]=i,s=o-a|0,(0|a)<0?(i=i-a|0,n[t>>2]=s,n[r>>2]=i,n[A>>2]=0,o=0):(s=o,o=a),(0|s)<0&&(o=o-s|0,n[A>>2]=o,i=i-s|0,n[r>>2]=i,n[t>>2]=0,s=0),e=o-i|0,a=s-i|0,(0|i)<0?(n[A>>2]=e,n[t>>2]=a,n[r>>2]=0,o=e,i=0):a=s,(0|(s=(0|i)<(0|(s=(0|a)<(0|o)?a:o))?i:s))<=0||(n[A>>2]=o-s,n[t>>2]=a-s,n[r>>2]=i-s)}function dA(A){switch(0|(A|=0)){case 1:A=5;break;case 5:A=4;break;case 4:A=6;break;case 6:A=2;break;case 2:A=3;break;case 3:A=1}return 0|A}function pA(A){switch(0|(A|=0)){case 1:A=3;break;case 3:A=2;break;case 2:A=6;break;case 6:A=4;break;case 4:A=5;break;case 5:A=1}return 0|A}function gA(A){var e,t,r,i=0,s=0,o=0,a=0;i=0|n[(A|=0)>>2],s=0|n[(t=A+4|0)>>2],o=0|n[(r=A+8|0)>>2],a=s+(i<<1)|0,n[A>>2]=a,s=o+(s<<1)|0,n[t>>2]=s,i=(o<<1)+i|0,n[r>>2]=i,o=s-a|0,(0|a)<0?(i=i-a|0,n[t>>2]=o,n[r>>2]=i,n[A>>2]=0,s=o,o=0):o=a,(0|s)<0&&(o=o-s|0,n[A>>2]=o,i=i-s|0,n[r>>2]=i,n[t>>2]=0,s=0),e=o-i|0,a=s-i|0,(0|i)<0?(n[A>>2]=e,n[t>>2]=a,n[r>>2]=0,o=e,i=0):a=s,(0|(s=(0|i)<(0|(s=(0|a)<(0|o)?a:o))?i:s))<=0||(n[A>>2]=o-s,n[t>>2]=a-s,n[r>>2]=i-s)}function _A(A){var e,t,r,i=0,s=0,o=0,a=0;a=0|n[(A|=0)>>2],o=((i=0|n[(t=A+4|0)>>2])<<1)+a|0,a=(s=0|n[(r=A+8|0)>>2])+(a<<1)|0,n[A>>2]=a,n[t>>2]=o,i=(s<<1)+i|0,n[r>>2]=i,s=o-a|0,(0|a)<0?(i=i-a|0,n[t>>2]=s,n[r>>2]=i,n[A>>2]=0,a=0):s=o,(0|s)<0&&(a=a-s|0,n[A>>2]=a,i=i-s|0,n[r>>2]=i,n[t>>2]=0,s=0),e=a-i|0,o=s-i|0,(0|i)<0?(n[A>>2]=e,n[t>>2]=o,n[r>>2]=0,a=e,i=0):o=s,(0|(s=(0|i)<(0|(s=(0|o)<(0|a)?o:a))?i:s))<=0||(n[A>>2]=a-s,n[t>>2]=o-s,n[r>>2]=i-s)}function mA(A,e){e|=0;var t,r,i,s=0,o=0,a=0;return i=(0|(r=(0|n[(A|=0)>>2])-(0|n[e>>2])|0))<0,t=(0|(o=(0|n[A+4>>2])-(0|n[e+4>>2])-(i?r:0)|0))<0,e=(e=(A=(0|(a=(i?0-r|0:0)+(0|n[A+8>>2])-(0|n[e+8>>2])+(t?0-o|0:0)|0))<0)?0:a)-((o=(0|(A=(0|e)<(0|(A=(0|(s=(t?0:o)-(A?a:0)|0))<(0|(a=(i?0:r)-(t?o:0)-(A?a:0)|0))?s:a))?e:A))>0)?A:0)|0,s=s-(o?A:0)|0,0|((0|(A=(0|(A=a-(o?A:0)|0))>-1?A:0-A|0))>(0|(e=(0|(s=(0|s)>-1?s:0-s|0))>(0|(e=(0|e)>-1?e:0-e|0))?s:e))?A:e)}function vA(A,e){e|=0;var t;t=0|n[(A|=0)+8>>2],n[e>>2]=(0|n[A>>2])-t,n[e+4>>2]=(0|n[A+4>>2])-t}function EA(A,e){e|=0;var t,r,i,s=0,o=0,a=0;o=0|n[(A|=0)>>2],n[e>>2]=o,a=0|n[A+4>>2],n[(r=e+4|0)>>2]=a,n[(i=e+8|0)>>2]=0,A=(s=(0|a)<(0|o))?o:a,s=s?a:o;do{if((0|s)<0){if((0|A)>0){if((-2147483648|A|0)<(0|s)&-2147483648!=(0|s)&(2147483647-A|0)>=(0|s))break;return 0|(A=1)}if(-2147483648==(0|s)|(-2147483648-A|0)>(0|s))return 0|(e=1);if((0|A)>-1){if((-2147483648|A|0)<(0|s))break;return 0|(A=1)}if(!((-2147483648^A|0)<(0|s)))break;return 0|(A=1)}}while(0);return A=a-o|0,(0|o)<0?(s=0-o|0,n[r>>2]=A,n[i>>2]=s,n[e>>2]=0,o=0):(A=a,s=0),(0|A)<0&&(o=o-A|0,n[e>>2]=o,s=s-A|0,n[i>>2]=s,n[r>>2]=0,A=0),t=o-s|0,a=A-s|0,(0|s)<0?(n[e>>2]=t,n[r>>2]=a,n[i>>2]=0,A=a,a=t,s=0):a=o,(0|(o=(0|s)<(0|(o=(0|A)<(0|a)?A:a))?s:o))<=0||(n[e>>2]=a-o,n[r>>2]=A-o,n[i>>2]=s-o),0|(e=0)}function bA(A){var e,t,r,i;t=(i=0|n[(e=(A|=0)+8|0)>>2])-(0|n[A>>2])|0,n[A>>2]=t,A=(0|n[(r=A+4|0)>>2])-i|0,n[r>>2]=A,n[e>>2]=0-(A+t)}function wA(A){var e,t,r=0,i=0,s=0,o=0,a=0;r=0-(i=0|n[(A|=0)>>2])|0,n[A>>2]=r,n[(e=A+8|0)>>2]=0,o=(s=0|n[(t=A+4|0)>>2])+i|0,(0|i)>0?(n[t>>2]=o,n[e>>2]=i,n[A>>2]=0,r=0,s=o):i=0,(0|s)<0?(a=r-s|0,n[A>>2]=a,i=i-s|0,n[e>>2]=i,n[t>>2]=0,o=a-i|0,r=0-i|0,(0|i)<0?(n[A>>2]=o,n[t>>2]=r,n[e>>2]=0,s=r,i=0):(s=0,o=a)):o=r,(0|(r=(0|i)<(0|(r=(0|s)<(0|o)?s:o))?i:r))<=0||(n[A>>2]=o-r,n[t>>2]=s-r,n[e>>2]=i-r)}function yA(A,e,t){t|=0;var r,i,s=0,o=0;return i=B,B=B+16|0,r=i,o=-2130706433&(e|=0)|134217728,!0&268435456==(2013265920&e|0)?(s=0|ze(0|(A|=0),0|e,56),S(),s=0|function(A,e,t){t|=0;var r=0,i=0,s=0;if(s=B,B=B+16|0,i=s,r=0|FA(A=A|0,e=e|0),(t+-1|0)>>>0>5)return B=s,0|(i=-1);if(1==(0|t)&(r=0!=(0|r)))return B=s,0|(i=-1);do{if(!(0|ve(A,e,i))){if(r){r=(5+(0|n[21936+(t<<2)>>2])-(0|n[i>>2])|0)%5|0;break}r=(6+(0|n[21968+(t<<2)>>2])-(0|n[i>>2])|0)%6|0;break}r=-1}while(0);return B=s,0|(i=r)}(A,o,7&s),-1==(0|s)?(n[t>>2]=0,B=i,0|(o=6)):(0|HA(A,o,r)&&C(23313,22484,282,22499),e=0|ze(0|A,0|e,52),S(),e&=15,0|FA(A,o)?RA(r,e,s,2,t):kA(r,e,s,2,t),B=i,0|(o=0))):(B=i,0|(o=6))}function TA(A,e,t,r){e|=0,r|=0;var s,o=0,a=0,c=0,l=0;if(s=B,B=B+16|0,function(A,e,t){e|=0,t|=0;var r=0,s=0,o=0;o=B,B=B+32|0,function(A,e){e|=0;var t=0,r=0,n=0;t=+i[(A=A|0)>>3],r=+h(+t),t=+f(+t),i[e+16>>3]=t,t=+i[A+8>>3],n=r*+h(+t),i[e>>3]=n,t=r*+f(+t),i[e+8>>3]=t}(A|=0,s=o),n[e>>2]=0,i[t>>3]=5,(r=+me(16400,s))<+i[t>>3]&&(n[e>>2]=0,i[t>>3]=r);(r=+me(16424,s))<+i[t>>3]&&(n[e>>2]=1,i[t>>3]=r);(r=+me(16448,s))<+i[t>>3]&&(n[e>>2]=2,i[t>>3]=r);(r=+me(16472,s))<+i[t>>3]&&(n[e>>2]=3,i[t>>3]=r);(r=+me(16496,s))<+i[t>>3]&&(n[e>>2]=4,i[t>>3]=r);(r=+me(16520,s))<+i[t>>3]&&(n[e>>2]=5,i[t>>3]=r);(r=+me(16544,s))<+i[t>>3]&&(n[e>>2]=6,i[t>>3]=r);(r=+me(16568,s))<+i[t>>3]&&(n[e>>2]=7,i[t>>3]=r);(r=+me(16592,s))<+i[t>>3]&&(n[e>>2]=8,i[t>>3]=r);(r=+me(16616,s))<+i[t>>3]&&(n[e>>2]=9,i[t>>3]=r);(r=+me(16640,s))<+i[t>>3]&&(n[e>>2]=10,i[t>>3]=r);(r=+me(16664,s))<+i[t>>3]&&(n[e>>2]=11,i[t>>3]=r);(r=+me(16688,s))<+i[t>>3]&&(n[e>>2]=12,i[t>>3]=r);(r=+me(16712,s))<+i[t>>3]&&(n[e>>2]=13,i[t>>3]=r);(r=+me(16736,s))<+i[t>>3]&&(n[e>>2]=14,i[t>>3]=r);(r=+me(16760,s))<+i[t>>3]&&(n[e>>2]=15,i[t>>3]=r);(r=+me(16784,s))<+i[t>>3]&&(n[e>>2]=16,i[t>>3]=r);(r=+me(16808,s))<+i[t>>3]&&(n[e>>2]=17,i[t>>3]=r);(r=+me(16832,s))<+i[t>>3]&&(n[e>>2]=18,i[t>>3]=r);if(!((r=+me(16856,s))<+i[t>>3]))return void(B=o);n[e>>2]=19,i[t>>3]=r,B=o}(A|=0,t|=0,l=s),(a=+p(+(1-.5*+i[l>>3])))<1e-16)return n[r>>2]=0,n[r+4>>2]=0,n[r+8>>2]=0,n[r+12>>2]=0,void(B=s);if(l=0|n[t>>2],o=+qA((o=+i[15920+(24*l|0)>>3])-+qA(+function(A,e){A|=0;var t=0,r=0,n=0,s=0,o=0;return s=+i[(e=e|0)>>3],r=+h(+s),n=+i[e+8>>3]-+i[A+8>>3],o=r*+f(+n),t=+i[A>>3],+ +m(+o,+(+f(+s)*+h(+t)-+h(+n)*(r*+f(+t))))}(15600+(l<<4)|0,A))),c=0|QA(e)?+qA(o+-.3334731722518321):o,o=+d(+a)/.381966011250105,(0|e)>0){A=0;do{o*=2.6457513110645907,A=A+1|0}while((0|A)!=(0|e))}a=+h(+c)*o,i[r>>3]=a,c=+f(+c)*o,i[r+8>>3]=c,B=s}function SA(A,e,t,r,s){e|=0,t|=0,r|=0,s|=0;var o=0,a=0;if(o=+function(A){var e=0,t=0;return t=+i[(A=A|0)>>3],e=+i[A+8>>3],+ +l(+(t*t+e*e))}(A|=0),o<1e-16)return e=15600+(e<<4)|0,n[s>>2]=n[e>>2],n[s+4>>2]=n[e+4>>2],n[s+8>>2]=n[e+8>>2],void(n[s+12>>2]=n[e+12>>2]);if(a=+m(+ +i[A+8>>3],+ +i[A>>3]),(0|t)>0){A=0;do{o/=2.6457513110645907,A=A+1|0}while((0|A)!=(0|t))}r?(o/=3,t=0==(0|QA(t)),o=+_(.381966011250105*(t?o:o/2.6457513110645907))):(o=+_(.381966011250105*o),0|QA(t)&&(a=+qA(a+.3334731722518321))),function(A,e,t,r){A|=0,e=+e,r|=0;var s=0,o=0,a=0,l=0;if((t=+t)<1e-16)return n[r>>2]=n[A>>2],n[r+4>>2]=n[A+4>>2],n[r+8>>2]=n[A+8>>2],void(n[r+12>>2]=n[A+12>>2]);o=e<0?e+6.283185307179586:e,o=e>=6.283185307179586?o+-6.283185307179586:o;do{if(!(o<1e-16)){if(s=+c(+(o+-3.141592653589793))<1e-16,e=+i[A>>3],s){e-=t,i[r>>3]=e,s=r;break}if(a=+h(+t),t=+f(+t),e=a*+f(+e)+ +h(+o)*(t*+h(+e)),e=+g(+((e=e>1?1:e)<-1?-1:e)),i[r>>3]=e,+c(+(e+-1.5707963267948966))<1e-16)return i[r>>3]=1.5707963267948966,void(i[r+8>>3]=0);if(+c(+(e+1.5707963267948966))<1e-16)return i[r>>3]=-1.5707963267948966,void(i[r+8>>3]=0);if(l=+h(+e),o=t*+f(+o)/l,t=+i[A>>3],e=(a-+f(+e)*+f(+t))/+h(+t)/l,a=o>1?1:o,e=e>1?1:e,(e=+i[A+8>>3]+ +m(+(a<-1?-1:a),+(e<-1?-1:e)))>3.141592653589793)do{e+=-6.283185307179586}while(e>3.141592653589793);if(e<-3.141592653589793)do{e+=6.283185307179586}while(e<-3.141592653589793);return void(i[r+8>>3]=e)}e=+i[A>>3]+t,i[r>>3]=e,s=r}while(0);if(+c(+(e+-1.5707963267948966))<1e-16)return i[s>>3]=1.5707963267948966,void(i[r+8>>3]=0);if(+c(+(e+1.5707963267948966))<1e-16)return i[s>>3]=-1.5707963267948966,void(i[r+8>>3]=0);if((e=+i[A+8>>3])>3.141592653589793)do{e+=-6.283185307179586}while(e>3.141592653589793);if(e<-3.141592653589793)do{e+=6.283185307179586}while(e<-3.141592653589793);i[r+8>>3]=e}(15600+(e<<4)|0,+qA(+i[15920+(24*e|0)>>3]-a),o,s)}function CA(A,e,t){e|=0,t|=0;var r,i;r=B,B=B+16|0,AA((A|=0)+4|0,i=r),SA(i,0|n[A>>2],e,0,t),B=r}function RA(A,e,t,r,s){A|=0,e|=0,t|=0,r|=0,s|=0;var o,a,c,l,u,h,f,d,p,g,_,m,v,E,b,w,y,T,S,R,P,x,M=0,k=0,I=0,L=0,D=0,O=0;if(x=B,B=B+272|0,L=x+240|0,S=x,R=x+224|0,P=x+208|0,_=x+176|0,m=x+160|0,v=x+192|0,E=x+144|0,b=x+128|0,w=x+112|0,y=x+96|0,T=x+80|0,n[(M=x+256|0)>>2]=e,n[L>>2]=n[A>>2],n[L+4>>2]=n[A+4>>2],n[L+8>>2]=n[A+8>>2],n[L+12>>2]=n[A+12>>2],PA(L,M,S),n[s>>2]=0,(0|(L=r+t+(5==(0|r)&1)|0))<=(0|t))B=x;else{a=R+4|0,c=_+4|0,l=t+5|0,u=16880+((o=0|n[M>>2])<<2)|0,h=16960+(o<<2)|0,f=b+8|0,d=w+8|0,p=y+8|0,g=P+4|0,I=t;A:for(;;){k=S+(((0|I)%5|0)<<4)|0,n[P>>2]=n[k>>2],n[P+4>>2]=n[k+4>>2],n[P+8>>2]=n[k+8>>2],n[P+12>>2]=n[k+12>>2];do{}while(2==(0|xA(P,o,0,1)));if((0|I)>(0|t)&0!=(0|QA(e))){if(n[_>>2]=n[P>>2],n[_+4>>2]=n[P+4>>2],n[_+8>>2]=n[P+8>>2],n[_+12>>2]=n[P+12>>2],AA(a,m),r=0|n[_>>2],M=0|n[17040+(80*r|0)+(n[R>>2]<<2)>>2],n[_>>2]=n[18640+(80*r|0)+(20*M|0)>>2],(0|(k=0|n[18640+(80*r|0)+(20*M|0)+16>>2]))>0){A=0;do{hA(c),A=A+1|0}while((0|A)<(0|k))}switch(k=18640+(80*r|0)+(20*M|0)+4|0,n[v>>2]=n[k>>2],n[v+4>>2]=n[k+4>>2],n[v+8>>2]=n[k+8>>2],rA(v,3*(0|n[u>>2])|0),eA(c,v,c),J(c),AA(c,E),D=+(0|n[h>>2]),i[b>>3]=3*D,i[f>>3]=0,O=-1.5*D,i[w>>3]=O,i[d>>3]=2.598076211353316*D,i[y>>3]=O,i[p>>3]=-2.598076211353316*D,0|n[17040+(80*(0|n[_>>2])|0)+(n[P>>2]<<2)>>2]){case 1:A=w,r=b;break;case 3:A=y,r=w;break;case 2:A=b,r=y;break;default:A=12;break A}ge(m,E,r,A,T),SA(T,0|n[_>>2],o,1,s+8+(n[s>>2]<<4)|0),n[s>>2]=1+(0|n[s>>2])}if((0|I)<(0|l)&&(AA(g,_),SA(_,0|n[P>>2],o,1,s+8+(n[s>>2]<<4)|0),n[s>>2]=1+(0|n[s>>2])),n[R>>2]=n[P>>2],n[R+4>>2]=n[P+4>>2],n[R+8>>2]=n[P+8>>2],n[R+12>>2]=n[P+12>>2],(0|(I=I+1|0))>=(0|L)){A=3;break}}3!=(0|A)?12==(0|A)&&C(22522,22569,571,22579):B=x}}function PA(A,e,t){A|=0,e|=0,t|=0;var r,i=0,s=0,o=0,a=0,c=0;r=B,B=B+128|0,s=r,a=20240,c=(o=i=r+64|0)+60|0;do{n[o>>2]=n[a>>2],o=o+4|0,a=a+4|0}while((0|o)<(0|c));a=20304,c=(o=s)+60|0;do{n[o>>2]=n[a>>2],o=o+4|0,a=a+4|0}while((0|o)<(0|c));i=(c=0==(0|QA(0|n[e>>2])))?i:s,gA(s=A+4|0),_A(s),0|QA(0|n[e>>2])&&(lA(s),n[e>>2]=1+(0|n[e>>2])),n[t>>2]=n[A>>2],eA(s,i,e=t+4|0),J(e),n[t+16>>2]=n[A>>2],eA(s,i+12|0,e=t+20|0),J(e),n[t+32>>2]=n[A>>2],eA(s,i+24|0,e=t+36|0),J(e),n[t+48>>2]=n[A>>2],eA(s,i+36|0,e=t+52|0),J(e),n[t+64>>2]=n[A>>2],eA(s,i+48|0,t=t+68|0),J(t),B=r}function xA(A,e,t,r){t|=0,r|=0;var i,s,o,a,c,l,u=0,h=0,f=0,d=0,p=0;if(l=B,B=B+32|0,c=l+12|0,s=l,p=(A|=0)+4|0,d=0|n[16960+((e|=0)<<2)>>2],d=(a=0!=(0|r))?3*d|0:d,u=0|n[p>>2],i=0|n[(o=A+8|0)>>2],a){if((0|(u=i+u+(r=0|n[(h=A+12|0)>>2])|0))==(0|d))return B=l,0|(p=1);f=h}else u=i+u+(r=0|n[(f=A+12|0)>>2])|0;if((0|u)<=(0|d))return B=l,0|(p=0);do{if((0|r)>0){if(r=0|n[A>>2],(0|i)>0){h=18640+(80*r|0)+60|0,r=A;break}r=18640+(80*r|0)+40|0,t?($(c,d,0,0),tA(p,c,s),fA(s),eA(s,c,p),h=r,r=A):(h=r,r=A)}else h=18640+(80*(0|n[A>>2])|0)+20|0,r=A}while(0);if(n[r>>2]=n[h>>2],(0|n[(u=h+16|0)>>2])>0){r=0;do{hA(p),r=r+1|0}while((0|r)<(0|n[u>>2]))}return A=h+4|0,n[c>>2]=n[A>>2],n[c+4>>2]=n[A+4>>2],n[c+8>>2]=n[A+8>>2],e=0|n[16880+(e<<2)>>2],rA(c,a?3*e|0:e),eA(p,c,p),J(p),r=a&&((0|n[o>>2])+(0|n[p>>2])+(0|n[f>>2])|0)==(0|d)?1:2,B=l,0|(p=r)}function MA(A,e){A|=0,e|=0;var t=0;do{t=0|xA(A,e,0,1)}while(2==(0|t));return 0|t}function kA(A,e,t,r,s){A|=0,e|=0,t|=0,r|=0,s|=0;var o,a,c,l,u,h,f,d,p,g,_,m,v,E,b,w,y,T,S=0,R=0,P=0,x=0,M=0;if(T=B,B=B+240|0,E=T+208|0,b=T,w=T+192|0,y=T+176|0,p=T+160|0,g=T+144|0,_=T+128|0,m=T+112|0,v=T+96|0,n[(S=T+224|0)>>2]=e,n[E>>2]=n[A>>2],n[E+4>>2]=n[A+4>>2],n[E+8>>2]=n[A+8>>2],n[E+12>>2]=n[A+12>>2],BA(E,S,b),n[s>>2]=0,(0|(d=r+t+(6==(0|r)&1)|0))<=(0|t))B=T;else{a=t+6|0,c=16960+((o=0|n[S>>2])<<2)|0,l=g+8|0,u=_+8|0,h=m+8|0,f=w+4|0,R=0,P=t,r=-1;A:for(;;){if(A=b+((S=(0|P)%6|0)<<4)|0,n[w>>2]=n[A>>2],n[w+4>>2]=n[A+4>>2],n[w+8>>2]=n[A+8>>2],n[w+12>>2]=n[A+12>>2],A=R,R=0|xA(w,o,0,1),(0|P)>(0|t)&0!=(0|QA(e))&&(1!=(0|A)&&(0|n[w>>2])!=(0|r))){switch(AA(b+(((S+5|0)%6|0)<<4)+4|0,y),AA(b+(S<<4)+4|0,p),x=+(0|n[c>>2]),i[g>>3]=3*x,i[l>>3]=0,M=-1.5*x,i[_>>3]=M,i[u>>3]=2.598076211353316*x,i[m>>3]=M,i[h>>3]=-2.598076211353316*x,S=0|n[E>>2],0|n[17040+(80*S|0)+(((0|r)==(0|S)?0|n[w>>2]:r)<<2)>>2]){case 1:A=_,r=g;break;case 3:A=m,r=_;break;case 2:A=g,r=m;break;default:A=8;break A}ge(y,p,r,A,v),0|_e(y,v)||0|_e(p,v)||(SA(v,0|n[E>>2],o,1,s+8+(n[s>>2]<<4)|0),n[s>>2]=1+(0|n[s>>2]))}if((0|P)<(0|a)&&(AA(f,y),SA(y,0|n[w>>2],o,1,s+8+(n[s>>2]<<4)|0),n[s>>2]=1+(0|n[s>>2])),(0|(P=P+1|0))>=(0|d)){A=3;break}r=0|n[w>>2]}3!=(0|A)?8==(0|A)&&C(22606,22569,736,22651):B=T}}function BA(A,e,t){A|=0,e|=0,t|=0;var r,i=0,s=0,o=0,a=0,c=0;r=B,B=B+160|0,s=r,a=20368,c=(o=i=r+80|0)+72|0;do{n[o>>2]=n[a>>2],o=o+4|0,a=a+4|0}while((0|o)<(0|c));a=20448,c=(o=s)+72|0;do{n[o>>2]=n[a>>2],o=o+4|0,a=a+4|0}while((0|o)<(0|c));i=(c=0==(0|QA(0|n[e>>2])))?i:s,gA(s=A+4|0),_A(s),0|QA(0|n[e>>2])&&(lA(s),n[e>>2]=1+(0|n[e>>2])),n[t>>2]=n[A>>2],eA(s,i,e=t+4|0),J(e),n[t+16>>2]=n[A>>2],eA(s,i+12|0,e=t+20|0),J(e),n[t+32>>2]=n[A>>2],eA(s,i+24|0,e=t+36|0),J(e),n[t+48>>2]=n[A>>2],eA(s,i+36|0,e=t+52|0),J(e),n[t+64>>2]=n[A>>2],eA(s,i+48|0,e=t+68|0),J(e),n[t+80>>2]=n[A>>2],eA(s,i+60|0,t=t+84|0),J(t),B=r}function IA(A,e){return e=0|ze(0|(A|=0),0|(e|=0),45),S(),127&e|0}function LA(A,e){var t=0,r=0,n=0,i=0,s=0,o=0;if(!(!0&134217728==(-16777216&(e|=0)|0)))return 0|(e=0);if(s=0|ze(0|(A|=0),0|e,45),S(),(s&=127)>>>0>121)return 0|(e=0);t=0|ze(0|A,0|e,52),S(),t&=15;do{if(0|t){for(n=1,r=0;;){if(i=0|ze(0|A,0|e,3*(15-n|0)|0),S(),0!=(0|(i&=7))&(1^r)){if(1==(0|i)&0!=(0|G(s))){o=0,r=13;break}r=1}if(7==(0|i)){o=0,r=13;break}if(!(n>>>0<t>>>0)){r=9;break}n=n+1|0}if(9==(0|r)){if(15!=(0|t))break;return 0|(o=1)}if(13==(0|r))return 0|o}}while(0);for(;;){if(o=0|ze(0|A,0|e,3*(14-t|0)|0),S(),!(7==(7&o|0)&!0)){o=0,r=13;break}if(!(t>>>0<14)){o=1,r=13;break}t=t+1|0}return 13==(0|r)?0|o:0}function DA(A,e,t,r){t|=0,r|=0;var i=0,s=0;if(s=0|ze(0|(A|=0),0|(e|=0),52),S(),t>>>0>15)return 0|(r=4);if((0|(s&=15))<(0|t))return 0|(r=12);if((0|s)==(0|t))return n[r>>2]=A,n[r+4>>2]=e,0|(r=0);if(i=0|Ve(0|t,0,52),i|=A,A=0|S()|-15728641&e,(0|s)>(0|t))do{e=0|Ve(7,0,3*(14-t|0)|0),t=t+1|0,i|=e,A=0|S()|A}while((0|t)<(0|s));return n[r>>2]=i,n[r+4>>2]=A,0|(r=0)}function OA(A,e,t,r){t|=0,r|=0;var i=0,s=0,o=0;if(s=0|ze(0|(A|=0),0|(e|=0),52),S(),!((0|t)<16&(0|(s&=15))<=(0|t)))return 0|(r=4);i=t-s|0,t=0|ze(0|A,0|e,45),S();A:do{if(0|G(127&t)){e:do{if(0|s){for(t=1;0==((o=0|Ve(7,0,3*(15-t|0)|0))&A|0)&0==((0|S())&e|0);){if(!(t>>>0<s>>>0))break e;t=t+1|0}t=0|ue(7,0,i,((0|i)<0)<<31>>31),i=0|S();break A}}while(0);t=0|Be(0|(t=0|Fe(0|(t=0|ue(7,0,i,((0|i)<0)<<31>>31)),0|S(),5,0)),0|S(),-5,-1),t=0|Be(0|(t=0|Oe(0|t,0|S(),6,0)),0|S(),1,0),i=0|S()}else t=0|ue(7,0,i,((0|i)<0)<<31>>31),i=0|S()}while(0);return n[(o=r)>>2]=t,n[o+4>>2]=i,0|(o=0)}function FA(A,e){var t=0,r=0,n=0;if(n=0|ze(0|(A|=0),0|(e|=0),45),S(),!(0|G(127&n)))return 0|(n=0);n=0|ze(0|A,0|e,52),S(),n&=15;A:do{if(n)for(r=1;;){if(t=0|ze(0|A,0|e,3*(15-r|0)|0),S(),0|(t&=7))break A;if(!(r>>>0<n>>>0)){t=0;break}r=r+1|0}else t=0}while(0);return 0|(n=0==(0|t)&1)}function NA(A,e){var t=0,r=0,n=0;if(n=0|ze(0|(A|=0),0|(e|=0),52),S(),!(n&=15))return 0|(n=0);for(r=1;;){if(t=0|ze(0|A,0|e,3*(15-r|0)|0),S(),0|(t&=7)){r=5;break}if(!(r>>>0<n>>>0)){t=0,r=5;break}r=r+1|0}return 5==(0|r)?0|t:0}function UA(A,e){var t=0,r=0,n=0,i=0,s=0,o=0,a=0;if(a=0|ze(0|(A|=0),0|(e|=0),52),S(),!(a&=15))return a=A,T(0|(o=e)),0|a;for(o=1,t=0;;){r=0|Ve(7,0,0|(i=3*(15-o|0)|0)),n=0|S(),s=0|ze(0|A,0|e,0|i),S(),A=(i=0|Ve(0|dA(7&s),0,0|i))|A&~r,e=(s=0|S())|e&~n;A:do{if(!t)if(0==(i&r|0)&0==(s&n|0))t=0;else if(r=0|ze(0|A,0|e,52),S(),r&=15){t=1;e:for(;;){switch(s=0|ze(0|A,0|e,3*(15-t|0)|0),S(),7&s){case 1:break e;case 0:break;default:t=1;break A}if(!(t>>>0<r>>>0)){t=1;break A}t=t+1|0}for(t=1;;){if(n=0|ze(0|A,0|e,0|(s=3*(15-t|0)|0)),S(),i=0|Ve(7,0,0|s),e&=~(0|S()),A=A&~i|(s=0|Ve(0|dA(7&n),0,0|s)),e=0|e|S(),!(t>>>0<r>>>0)){t=1;break}t=t+1|0}}else t=1}while(0);if(!(o>>>0<a>>>0))break;o=o+1|0}return T(0|e),0|A}function GA(A,e){var t=0,r=0,n=0,i=0,s=0;if(r=0|ze(0|(A|=0),0|(e|=0),52),S(),!(r&=15))return r=A,T(0|(t=e)),0|r;for(t=1;s=0|ze(0|A,0|e,0|(i=3*(15-t|0)|0)),S(),n=0|Ve(7,0,0|i),e&=~(0|S()),A=(i=0|Ve(0|dA(7&s),0,0|i))|A&~n,e=0|S()|e,t>>>0<r>>>0;)t=t+1|0;return T(0|e),0|A}function zA(A,e){var t=0,r=0,n=0,i=0,s=0,o=0,a=0;if(a=0|ze(0|(A|=0),0|(e|=0),52),S(),!(a&=15))return a=A,T(0|(o=e)),0|a;for(o=1,t=0;;){r=0|Ve(7,0,0|(i=3*(15-o|0)|0)),n=0|S(),s=0|ze(0|A,0|e,0|i),S(),A=(i=0|Ve(0|pA(7&s),0,0|i))|A&~r,e=(s=0|S())|e&~n;A:do{if(!t)if(0==(i&r|0)&0==(s&n|0))t=0;else if(r=0|ze(0|A,0|e,52),S(),r&=15){t=1;e:for(;;){switch(s=0|ze(0|A,0|e,3*(15-t|0)|0),S(),7&s){case 1:break e;case 0:break;default:t=1;break A}if(!(t>>>0<r>>>0)){t=1;break A}t=t+1|0}for(t=1;;){if(i=0|Ve(7,0,0|(n=3*(15-t|0)|0)),s=e&~(0|S()),e=0|ze(0|A,0|e,0|n),S(),A=A&~i|(e=0|Ve(0|pA(7&e),0,0|n)),e=0|s|S(),!(t>>>0<r>>>0)){t=1;break}t=t+1|0}}else t=1}while(0);if(!(o>>>0<a>>>0))break;o=o+1|0}return T(0|e),0|A}function VA(A,e){var t=0,r=0,n=0,i=0,s=0;if(r=0|ze(0|(A|=0),0|(e|=0),52),S(),!(r&=15))return r=A,T(0|(t=e)),0|r;for(t=1;i=0|Ve(7,0,0|(s=3*(15-t|0)|0)),n=e&~(0|S()),e=0|ze(0|A,0|e,0|s),S(),A=(e=0|Ve(0|pA(7&e),0,0|s))|A&~i,e=0|S()|n,t>>>0<r>>>0;)t=t+1|0;return T(0|e),0|A}function QA(A){return 0|(0|(A|=0))%2}function jA(A,e,t){t|=0;var r,i=0;return r=B,B=B+16|0,i=r,(e|=0)>>>0>15?(B=r,0|(i=4)):2146435072==(2146435072&n[(A|=0)+4>>2]|0)||2146435072==(2146435072&n[A+8+4>>2]|0)?(B=r,0|(i=3)):(function(A,e,t){var r,n;r=B,B=B+16|0,TA(A|=0,e|=0,t|=0,n=r),q(n,t+4|0),B=r}(A,e,i),e=0|function(A,e){A|=0;var t,r=0,i=0,s=0,o=0,a=0,c=0,l=0,u=0;if(t=B,B=B+64|0,c=t+40|0,i=t+24|0,s=t+12|0,o=t,Ve(0|(e|=0),0,52),r=134225919|S(),!e)return(0|n[A+4>>2])>2||(0|n[A+8>>2])>2||(0|n[A+12>>2])>2?(c=0,T(0|(a=0)),B=t,0|c):(Ve(0|V(A),0,45),a=0|S()|r,c=-1,T(0|a),B=t,0|c);if(n[c>>2]=n[A>>2],n[c+4>>2]=n[A+4>>2],n[c+8>>2]=n[A+8>>2],n[c+12>>2]=n[A+12>>2],a=c+4|0,(0|e)>0)for(A=-1;n[i>>2]=n[a>>2],n[i+4>>2]=n[a+4>>2],n[i+8>>2]=n[a+8>>2],1&e?(oA(a),n[s>>2]=n[a>>2],n[s+4>>2]=n[a+4>>2],n[s+8>>2]=n[a+8>>2],cA(s)):(aA(a),n[s>>2]=n[a>>2],n[s+4>>2]=n[a+4>>2],n[s+8>>2]=n[a+8>>2],lA(s)),tA(i,s,o),J(o),l=0|Ve(7,0,0|(u=3*(15-e|0)|0)),r&=~(0|S()),A=(u=0|Ve(0|nA(o),0,0|u))|A&~l,r=0|S()|r,(0|e)>1;)e=e+-1|0;else A=-1;A:do{if((0|n[a>>2])<=2&&(0|n[c+8>>2])<=2&&(0|n[c+12>>2])<=2){if(e=0|Ve(0|(i=0|V(c)),0,45),e|=A,A=0|S()|-1040385&r,o=0|Q(c),!(0|G(i))){if((0|o)<=0)break;for(s=0;;){if(i=0|ze(0|e,0|A,52),S(),i&=15)for(r=1;c=0|ze(0|e,0|A,0|(u=3*(15-r|0)|0)),S(),l=0|Ve(7,0,0|u),A&=~(0|S()),e=e&~l|(u=0|Ve(0|dA(7&c),0,0|u)),A=0|A|S(),r>>>0<i>>>0;)r=r+1|0;if((0|(s=s+1|0))==(0|o))break A}}s=0|ze(0|e,0|A,52),S(),s&=15;e:do{if(s){r=1;t:for(;;){switch(u=0|ze(0|e,0|A,3*(15-r|0)|0),S(),7&u){case 1:break t;case 0:break;default:break e}if(!(r>>>0<s>>>0))break e;r=r+1|0}if(0|j(i,0|n[c>>2]))for(r=1;l=0|Ve(7,0,0|(c=3*(15-r|0)|0)),u=A&~(0|S()),A=0|ze(0|e,0|A,0|c),S(),e=e&~l|(A=0|Ve(0|pA(7&A),0,0|c)),A=0|u|S(),r>>>0<s>>>0;)r=r+1|0;else for(r=1;c=0|ze(0|e,0|A,0|(u=3*(15-r|0)|0)),S(),l=0|Ve(7,0,0|u),A&=~(0|S()),e=e&~l|(u=0|Ve(0|dA(7&c),0,0|u)),A=0|A|S(),r>>>0<s>>>0;)r=r+1|0}}while(0);if((0|o)>0){r=0;do{e=0|UA(e,A),A=0|S(),r=r+1|0}while((0|r)!=(0|o))}}else e=0,A=0}while(0);return u=e,T(0|(l=A)),B=t,0|u}(i,e),i=0|S(),n[t>>2]=e,n[t+4>>2]=i,0==(0|e)&0==(0|i)&&C(23313,22674,786,22697),B=r,0|(i=0))}function WA(A,e,t){var r,i=0,s=0,o=0;if(r=(t|=0)+4|0,s=0|ze(0|(A|=0),0|(e|=0),52),S(),s&=15,o=0|ze(0|A,0|e,45),S(),i=0==(0|s),0|G(127&o)){if(i)return 0|(o=1);i=1}else{if(i)return 0|(o=0);i=0==(0|n[r>>2])&&0==(0|n[t+8>>2])?0!=(0|n[t+12>>2])&1:1}for(t=1;1&t?cA(r):lA(r),o=0|ze(0|A,0|e,3*(15-t|0)|0),S(),uA(r,7&o),t>>>0<s>>>0;)t=t+1|0;return 0|i}function HA(A,e,t){t|=0;var r,i,s=0,o=0,a=0,c=0,l=0,u=0;if(i=B,B=B+16|0,r=i,u=0|ze(0|(A|=0),0|(e|=0),45),S(),(u&=127)>>>0>121)return n[t>>2]=0,n[t+4>>2]=0,n[t+8>>2]=0,n[t+12>>2]=0,B=i,0|(u=5);A:do{if(0!=(0|G(u))&&(a=0|ze(0|A,0|e,52),S(),0!=(0|(a&=15)))){s=1;e:for(;;){switch(l=0|ze(0|A,0|e,3*(15-s|0)|0),S(),7&l){case 5:break e;case 0:break;default:s=e;break A}if(!(s>>>0<a>>>0)){s=e;break A}s=s+1|0}for(o=1,s=e;c=0|Ve(7,0,0|(e=3*(15-o|0)|0)),l=s&~(0|S()),s=0|ze(0|A,0|s,0|e),S(),A=A&~c|(s=0|Ve(0|pA(7&s),0,0|e)),s=0|l|S(),o>>>0<a>>>0;)o=o+1|0}else s=e}while(0);if(l=7696+(28*u|0)|0,n[t>>2]=n[l>>2],n[t+4>>2]=n[l+4>>2],n[t+8>>2]=n[l+8>>2],n[t+12>>2]=n[l+12>>2],!(0|WA(A,s,t)))return B=i,0|(u=0);if(c=t+4|0,n[r>>2]=n[c>>2],n[r+4>>2]=n[c+4>>2],n[r+8>>2]=n[c+8>>2],a=0|ze(0|A,0|s,52),S(),l=15&a,1&a?(lA(c),a=l+1|0):a=l,0|G(u)){A:do{if(l)for(e=1;;){if(o=0|ze(0|A,0|s,3*(15-e|0)|0),S(),0|(o&=7)){s=o;break A}if(!(e>>>0<l>>>0)){s=0;break}e=e+1|0}else s=0}while(0);s=4==(0|s)&1}else s=0;if(0|xA(t,a,s,0)){if(0|G(u))do{}while(0!=(0|xA(t,a,0,0)));(0|a)!=(0|l)&&aA(c)}else(0|a)!=(0|l)&&(n[c>>2]=n[r>>2],n[c+4>>2]=n[r+4>>2],n[c+8>>2]=n[r+8>>2]);return B=i,0|(u=0)}function XA(A,e,t){t|=0;var r,n,i=0;return n=B,B=B+16|0,0|(i=0|HA(A|=0,e|=0,r=n))?(B=n,0|i):(i=0|ze(0|A,0|e,52),S(),CA(r,15&i,t),B=n,0|(i=0))}function YA(A,e,t){t|=0;var r,n=0,i=0,s=0;if(r=B,B=B+16|0,0|(n=0|HA(A|=0,e|=0,s=r)))return B=r,0|(s=n);n=0|ze(0|A,0|e,45),S(),n=0==(0|G(127&n)),i=0|ze(0|A,0|e,52),S(),i&=15;A:do{if(!n){if(0|i)for(n=1;;){if(!(0==((0|Ve(7,0,3*(15-n|0)|0))&A|0)&0==((0|S())&e|0)))break A;if(!(n>>>0<i>>>0))break;n=n+1|0}return RA(s,i,0,5,t),B=r,0|0}}while(0);return kA(s,i,0,6,t),B=r,0|0}function KA(A,e){e|=0;var t=0,r=0,i=0,s=0,o=0,a=0,c=0;if((A|=0)>>>0>15)return 0|(a=4);if(Ve(0|A,0,52),a=134225919|S(),!A){t=0,r=0;do{0|G(r)&&(Ve(0|r,0,45),o=0|a|S(),n[(A=e+(t<<3)|0)>>2]=-1,n[A+4>>2]=o,t=t+1|0),r=r+1|0}while(122!=(0|r));return 0|(t=0)}t=0,o=0;do{if(0|G(o)){for(Ve(0|o,0,45),r=1,i=-1,s=0|a|S();i&=~(c=0|Ve(7,0,3*(15-r|0)|0)),s&=~(0|S()),(0|r)!=(0|A);)r=r+1|0;n[(c=e+(t<<3)|0)>>2]=i,n[c+4>>2]=s,t=t+1|0}o=o+1|0}while(122!=(0|o));return 0|(t=0)}function ZA(A,e,t,r){A|=0,r|=0;var i=0,s=0;i=0|ze(0|(e|=0),0|(t|=0),52),S(),0==(0|e)&0==(0|t)|(0|r)>15|(0|(i&=15))>(0|r)?(r=-1,i=-1,e=0,t=0):(s=0|function(A,e,t,r){return A|=0,e|=0,(0|(r|=0))<(0|(t|=0))?(r=A,T(0|(t=e)),0|r):(t=0|Ve(-1,-1,3+(3*(r-t|0)|0)|0),r=0|Ve(0|~t,0|~(0|S()),3*(15-r|0)|0),t=~(0|S())&e,r=~r&A,T(0|t),0|r)}(e,t,i+1|0,r),t=-15728641&(0|S()),e=0|Ve(0|r,0,52),r=(s=0==(0|FA(e|=s,t=0|t|S())))?-1:r),n[(s=A)>>2]=e,n[s+4>>2]=t,n[A+8>>2]=i,n[A+12>>2]=r}function $A(A){var e,t=0,r=0,i=0,s=0,o=0,a=0,c=0,l=0;if(!(0==(0|(t=0|n[(r=A|=0)>>2]))&0==(0|(r=0|n[r+4>>2]))||(i=0|ze(0|t,0|r,52),S(),t=0|Be(0|(c=0|Ve(1,0,3*(15^(i&=15))|0)),0|S(),0|t,0|r),r=0|S(),n[(c=A)>>2]=t,n[c+4>>2]=r,(0|i)<(0|(a=0|n[(c=A+8|0)>>2]))))){for(e=A+12|0,o=i;;){if((0|o)==(0|a)){i=5;break}if(l=(0|o)==(0|n[e>>2]),i=0|ze(0|t,0|r,0|(s=3*(15-o|0)|0)),S(),l&1==(0|(i&=7))&!0){i=7;break}if(!(7==(0|i)&!0)){i=10;break}if(t=0|Be(0|t,0|r,0|(l=0|Ve(1,0,0|s)),0|S()),r=0|S(),n[(l=A)>>2]=t,n[l+4>>2]=r,!((0|o)>(0|a))){i=10;break}o=o+-1|0}if(5==(0|i))return n[(l=A)>>2]=0,n[l+4>>2]=0,n[c>>2]=-1,void(n[e>>2]=-1);if(7==(0|i))return a=0|Be(0|t,0|r,0|(a=0|Ve(1,0,0|s)),0|S()),c=0|S(),n[(l=A)>>2]=a,n[l+4>>2]=c,void(n[e>>2]=o+-1)}}function qA(A){var e;return e=(A=+A)<0?A+6.283185307179586:A,+(A>=6.283185307179586?e+-6.283185307179586:e)}function JA(A,e){return e|=0,+c(+(+i[(A|=0)>>3]-+i[e>>3]))<17453292519943298e-27?0|(e=+c(+(+i[A+8>>3]-+i[e+8>>3]))<17453292519943298e-27):0|(e=0)}function Ae(A,e){A|=0;var t,r,n,s=0;return r=+i[(e|=0)>>3],t=+i[A>>3],s=(n=+f(.5*(r-t)))*n+(s=+f(.5*(+i[e+8>>3]-+i[A+8>>3])))*(+h(+r)*+h(+t)*s),2*+m(+ +l(+s),+ +l(+(1-s)))*6371.007180918475}function ee(A,e){e|=0;var t=0;return(A|=0)>>>0>15?0|(e=4):(t=0|Fe(0|(t=0|ue(7,0,A,((0|A)<0)<<31>>31)),0|S(),120,0),A=0|S(),n[e>>2]=2|t,n[e+4>>2]=A,0|(e=0))}function te(A,e,t){A|=0,t|=0;var r,n,s,o,a=0,c=0,u=0,p=0,g=0,v=0;return v=+i[(e|=0)>>3],s=+i[A>>3],g=+f(.5*(v-s)),u=+i[e+8>>3],n=+i[A+8>>3],p=+f(.5*(u-n)),r=+h(+s),o=+h(+v),p=2*+m(+ +l(+(p=g*g+p*(o*r*p))),+ +l(+(1-p))),g=+i[t>>3],v=+f(.5*(g-v)),a=+i[t+8>>3],u=+f(.5*(a-u)),c=+h(+g),u=2*+m(+ +l(+(u=v*v+u*(o*c*u))),+ +l(+(1-u))),g=+f(.5*(s-g)),a=+f(.5*(n-a)),a=2*+m(+ +l(+(a=g*g+a*(r*c*a))),+ +l(+(1-a))),4*+_(+ +l(+ +d(.5*(c=.5*(p+u+a)))*+d(.5*(c-p))*+d(.5*(c-u))*+d(.5*(c-a))))}function re(A,e,t){t|=0;var r,s,o,a=0,c=0;if(o=B,B=B+192|0,s=o,0|(c=0|XA(A|=0,e|=0,r=o+168|0)))return B=o,0|(t=c);if(0|YA(A,e,s)&&C(23313,22742,386,22751),(0|(e=0|n[s>>2]))>0){if(a=+te(s+8|0,s+8+((1!=(0|e)&1)<<4)|0,r)+0,1!=(0|e)){A=1;do{a+=+te(s+8+((c=A)<<4)|0,s+8+(((0|(A=A+1|0))%(0|e)|0)<<4)|0,r)}while((0|A)<(0|e))}}else a=0;return i[t>>3]=a,B=o,0|(t=0)}function ne(A){A|=0;var e,t,r=0;return(e=0|ke(1,12))||C(22832,22787,49,22845),0|(r=0|n[(t=A+4|0)>>2])?(n[(r=r+8|0)>>2]=e,n[t>>2]=e,0|e):(0|n[A>>2]&&C(22862,22787,61,22885),n[(r=A)>>2]=e,n[t>>2]=e,0|e)}function ie(A,e){A|=0,e|=0;var t,r;return(r=0|xe(24))||C(22899,22787,78,22913),n[r>>2]=n[e>>2],n[r+4>>2]=n[e+4>>2],n[r+8>>2]=n[e+8>>2],n[r+12>>2]=n[e+12>>2],n[r+16>>2]=0,0|(t=0|n[(e=A+4|0)>>2])?(n[t+16>>2]=r,n[e>>2]=r,0|r):(0|n[A>>2]&&C(22928,22787,82,22913),n[A>>2]=r,n[e>>2]=r,0|r)}function se(A){var e=0,t=0,r=0,i=0;if(A|=0)for(r=1;;){if(0|(e=0|n[A>>2]))do{if(0|(t=0|n[e>>2]))do{i=t,t=0|n[t+16>>2],Me(i)}while(0!=(0|t));i=e,e=0|n[e+8>>2],Me(i)}while(0!=(0|e));if(e=A,A=0|n[A+8>>2],r||Me(e),!A)break;r=0}}function oe(A){var e,t,r=0,s=0,o=0,a=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0,b=0,w=0,y=0,T=0,S=0,R=0,P=0,x=0,M=0,k=0,B=0,I=0,L=0,D=0,O=0;if(0|n[(a=(A|=0)+8|0)>>2])return 0|(O=1);if(!(o=0|n[A>>2]))return 0|(O=0);r=o,s=0;do{s=s+1|0,r=0|n[r+8>>2]}while(0!=(0|r));if(s>>>0<2)return 0|(O=0);(t=0|xe(s<<2))||C(22948,22787,317,22967),(e=0|xe(s<<5))||C(22989,22787,321,22967),n[A>>2]=0,n[(P=A+4|0)>>2]=0,n[a>>2]=0,s=0,L=0,R=0,g=0;A:for(;;){if(p=0|n[o>>2]){l=0,u=p;do{if(f=+i[u+8>>3],r=u,u=0|n[u+16>>2],h=+i[(a=(d=0==(0|u))?p:u)+8>>3],+c(+(f-h))>3.141592653589793){O=14;break}l+=(h-f)*(+i[r>>3]+ +i[a>>3])}while(!d);if(14==(0|O)){O=0,l=0,r=p;do{S=+i[r+8>>3],B=0|n[(I=r+16|0)>>2],T=+i[(B=0==(0|B)?p:B)+8>>3],l+=(+i[r>>3]+ +i[B>>3])*((T<0?T+6.283185307179586:T)-(S<0?S+6.283185307179586:S)),r=0|n[(0==(0|r)?o:I)>>2]}while(0!=(0|r))}l>0?(n[t+(L<<2)>>2]=o,L=L+1|0,a=R,r=g):O=19}else O=19;if(19==(0|O)){O=0;do{if(!s){if(g){a=P,u=g+8|0,r=o,s=A;break}if(0|n[A>>2]){O=27;break A}a=P,u=A,r=o,s=A;break}if(0|n[(r=s+8|0)>>2]){O=21;break A}if(!(s=0|ke(1,12))){O=23;break A}n[r>>2]=s,a=s+4|0,u=s,r=g}while(0);if(n[u>>2]=o,n[a>>2]=o,u=e+(R<<5)|0,d=0|n[o>>2]){for(i[(p=e+(R<<5)+8|0)>>3]=17976931348623157e292,i[(g=e+(R<<5)+24|0)>>3]=17976931348623157e292,i[u>>3]=-17976931348623157e292,i[(_=e+(R<<5)+16|0)>>3]=-17976931348623157e292,w=17976931348623157e292,y=-17976931348623157e292,a=0,m=d,f=17976931348623157e292,E=17976931348623157e292,b=-17976931348623157e292,h=-17976931348623157e292;l=+i[m>>3],S=+i[m+8>>3],m=0|n[m+16>>2],T=+i[((v=0==(0|m))?d:m)+8>>3],l<f&&(i[p>>3]=l,f=l),S<E&&(i[g>>3]=S,E=S),l>b?i[u>>3]=l:l=b,S>h&&(i[_>>3]=S,h=S),w=S>0&S<w?S:w,y=S<0&S>y?S:y,a|=+c(+(S-T))>3.141592653589793,!v;)b=l;a&&(i[_>>3]=y,i[g>>3]=w)}else n[u>>2]=0,n[u+4>>2]=0,n[u+8>>2]=0,n[u+12>>2]=0,n[u+16>>2]=0,n[u+20>>2]=0,n[u+24>>2]=0,n[u+28>>2]=0;a=R+1|0}if(o=0|n[(I=o+8|0)>>2],n[I>>2]=0,!o){O=45;break}R=a,g=r}if(21==(0|O))C(22765,22787,35,22799);else if(23==(0|O))C(22819,22787,37,22799);else if(27==(0|O))C(22862,22787,61,22885);else if(45==(0|O)){A:do{if((0|L)>0){for(I=0==(0|a),k=a<<2,B=0==(0|A),M=0,r=0;;){if(x=0|n[t+(M<<2)>>2],I)O=73;else{if(!(R=0|xe(k))){O=50;break}if(!(P=0|xe(k))){O=52;break}e:do{if(B)s=0;else{for(a=0,s=0,u=A;o=e+(a<<5)|0,0|ae(0|n[u>>2],o,0|n[x>>2])?(n[R+(s<<2)>>2]=u,n[P+(s<<2)>>2]=o,v=s+1|0):v=s,u=0|n[u+8>>2];)a=a+1|0,s=v;if((0|v)>0)if(o=0|n[R>>2],1==(0|v))s=o;else for(_=0,m=-1,s=o,g=o;;){for(d=0|n[g>>2],o=0,u=0;p=(0|(a=0|n[n[R+(u<<2)>>2]>>2]))==(0|d)?o:o+(1&(0|ae(a,0|n[P+(u<<2)>>2],0|n[d>>2])))|0,(0|(u=u+1|0))!=(0|v);)o=p;if(s=(a=(0|p)>(0|m))?g:s,(0|(o=_+1|0))==(0|v))break e;_=o,m=a?p:m,g=0|n[R+(o<<2)>>2]}else s=0}}while(0);if(Me(R),Me(P),s){if(o=0|n[(a=s+4|0)>>2])s=o+8|0;else if(0|n[s>>2]){O=70;break}n[s>>2]=x,n[a>>2]=x}else O=73}if(73==(0|O)){if(O=0,0|(r=0|n[x>>2]))do{P=r,r=0|n[r+16>>2],Me(P)}while(0!=(0|r));Me(x),r=1}if((0|(M=M+1|0))>=(0|L)){D=r;break A}}50==(0|O)?C(23004,22787,249,23023):52==(0|O)?C(23042,22787,252,23023):70==(0|O)&&C(22862,22787,61,22885)}else D=0}while(0);return Me(t),Me(e),0|(O=D)}return 0}function ae(A,e,t){A|=0;var r=0,s=0,o=0,a=0,c=0,l=0,u=0,h=0;if(!(0|Y(e|=0,t|=0)))return 0|(A=0);if(e=0|X(e),r=+i[t>>3],s=e&(s=+i[t+8>>3])<0?s+6.283185307179586:s,!(A=0|n[A>>2]))return 0|(A=0);if(e){e=0,u=s,t=A;A:for(;;){for(;a=+i[t>>3],s=+i[t+8>>3],h=0|n[(t=t+16|0)>>2],o=+i[(h=0==(0|h)?A:h)>>3],c=+i[h+8>>3],a>o?(l=a,a=c):(l=o,o=a,a=s,s=c),(r=r==o|r==l?r+2220446049250313e-31:r)<o|r>l;)if(!(t=0|n[t>>2])){t=22;break A}if(((l=(c=a<0?a+6.283185307179586:a)+(r-o)/(l-o)*((a=s<0?s+6.283185307179586:s)-c))<0?l+6.283185307179586:l)>(u=c==u|a==u?u+-2220446049250313e-31:u)&&(e^=1),!(t=0|n[t>>2])){t=22;break}}if(22==(0|t))return 0|e}else{e=0,u=s,t=A;A:for(;;){for(;a=+i[t>>3],s=+i[t+8>>3],h=0|n[(t=t+16|0)>>2],o=+i[(h=0==(0|h)?A:h)>>3],c=+i[h+8>>3],a>o?(l=a,a=c):(l=o,o=a,a=s,s=c),(r=r==o|r==l?r+2220446049250313e-31:r)<o|r>l;)if(!(t=0|n[t>>2])){t=22;break A}if(a+(r-o)/(l-o)*(s-a)>(u=a==u|s==u?u+-2220446049250313e-31:u)&&(e^=1),!(t=0|n[t>>2])){t=22;break}}if(22==(0|t))return 0|e}return 0}function ce(A,e,t,i,s){t|=0,i|=0,s|=0;var o,a,c,l,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0;if(l=B,B=B+32|0,E=l+16|0,c=l,u=0|ze(0|(A|=0),0|(e|=0),52),S(),u&=15,_=0|ze(0|t,0|i,52),S(),(0|u)!=(15&_|0))return B=l,0|(E=12);if(p=0|ze(0|A,0|e,45),S(),p&=127,g=0|ze(0|t,0|i,45),S(),p>>>0>121|(g&=127)>>>0>121)return B=l,0|(E=5);if(_=(0|p)!=(0|g)){if(7==(0|(f=0|H(p,g))))return B=l,0|(E=1);7==(0|(d=0|H(g,p)))?C(23066,23090,161,23100):(m=f,h=d)}else m=0,h=0;o=0|G(p),a=0|G(g),n[E>>2]=0,n[E+4>>2]=0,n[E+8>>2]=0,n[E+12>>2]=0;do{if(m){if(f=(0|(g=0|n[4272+(28*p|0)+(m<<2)>>2]))>0,a)if(f){p=0,d=t,f=i;do{d=0|zA(d,f),f=0|S(),1==(0|(h=0|pA(h)))&&(h=0|pA(1)),p=p+1|0}while((0|p)!=(0|g));g=h,p=d,d=f}else g=h,p=t,d=i;else if(f){p=0,d=t,f=i;do{d=0|VA(d,f),f=0|S(),h=0|pA(h),p=p+1|0}while((0|p)!=(0|g));g=h,p=d,d=f}else g=h,p=t,d=i;if(WA(p,d,E),_||C(23115,23090,191,23100),(f=0!=(0|o))&(h=0!=(0|a))&&C(23142,23090,192,23100),f){if(7==(0|(h=0|NA(A,e)))){u=5;break}if(0|r[21872+(7*h|0)+m>>0]){u=1;break}p=d=0|n[21040+(28*h|0)+(m<<2)>>2]}else if(h){if(7==(0|(h=0|NA(p,d)))){u=5;break}if(0|r[21872+(7*h|0)+g>>0]){u=1;break}p=0,d=0|n[21040+(28*g|0)+(h<<2)>>2]}else p=0,d=0;if((p|d|0)<0)u=5;else{if((0|d)>0){f=E+4|0,h=0;do{fA(f),h=h+1|0}while((0|h)!=(0|d))}if(n[c>>2]=0,n[c+4>>2]=0,n[c+8>>2]=0,uA(c,m),0|u)for(;0|QA(u)?cA(c):lA(c),(0|u)>1;)u=u+-1|0;if((0|p)>0){u=0;do{fA(c),u=u+1|0}while((0|u)!=(0|p))}eA(v=E+4|0,c,v),J(v),v=51}}else if(WA(t,i,E),0!=(0|o)&0!=(0|a))if((0|g)!=(0|p)&&C(23173,23090,261,23100),7==(0|(h=0|NA(A,e)))|7==(0|(u=0|NA(t,i))))u=5;else if(0|r[21872+(7*h|0)+u>>0])u=1;else if((0|(h=0|n[21040+(28*h|0)+(u<<2)>>2]))>0){f=E+4|0,u=0;do{fA(f),u=u+1|0}while((0|u)!=(0|h));v=51}else v=51;else v=51}while(0);return 51==(0|v)&&(u=E+4|0,n[s>>2]=n[u>>2],n[s+4>>2]=n[u+4>>2],n[s+8>>2]=n[u+8>>2],u=0),B=l,0|(E=u)}function le(A,e,t,r){t|=0,r|=0;var i,s,o,a=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0;if(o=B,B=B+48|0,i=o+36|0,l=o+24|0,u=o+12|0,h=o,a=0|ze(0|(A|=0),0|(e|=0),52),S(),a&=15,d=0|ze(0|A,0|e,45),S(),(d&=127)>>>0>121)return B=o,0|(r=5);if(s=0|G(d),Ve(0|a,0,52),_=134225919|S(),n[(c=r)>>2]=-1,n[c+4>>2]=_,!a)return 7==(0|(a=0|nA(t)))||127==(0|(a=0|W(d,a)))?(B=o,0|(_=1)):(p=0|Ve(0|a,0,45),g=0|S(),g=-1040385&n[(d=r)+4>>2]|g,n[(_=r)>>2]=n[d>>2]|p,n[_+4>>2]=g,B=o,0|(_=0));for(n[i>>2]=n[t>>2],n[i+4>>2]=n[t+4>>2],n[i+8>>2]=n[t+8>>2],t=a;;){if(c=t,t=t+-1|0,n[l>>2]=n[i>>2],n[l+4>>2]=n[i+4>>2],n[l+8>>2]=n[i+8>>2],0|QA(c)){if(0|(a=0|iA(i))){t=13;break}n[u>>2]=n[i>>2],n[u+4>>2]=n[i+4>>2],n[u+8>>2]=n[i+8>>2],cA(u)}else{if(0|(a=0|sA(i))){t=13;break}n[u>>2]=n[i>>2],n[u+4>>2]=n[i+4>>2],n[u+8>>2]=n[i+8>>2],lA(u)}if(tA(l,u,h),J(h),v=0|n[(a=r)>>2],a=0|n[a+4>>2],m=0|Ve(7,0,0|(E=3*(15-c|0)|0)),a&=~(0|S()),E=0|Ve(0|nA(h),0,0|E),a=0|S()|a,n[(_=r)>>2]=E|v&~m,n[_+4>>2]=a,(0|c)<=1){t=14;break}}A:do{if(13!=(0|t)&&14==(0|t))if((0|n[i>>2])<=1&&(0|n[i+4>>2])<=1&&(0|n[i+8>>2])<=1){h=127==(0|(a=0|W(d,t=0|nA(i))))?0:0|G(a);e:do{if(t){if(s){if(7==(0|(a=0|NA(A,e)))){a=5;break A}if((0|(c=0|n[21248+(28*a|0)+(t<<2)>>2]))>0){a=t,t=0;do{a=0|dA(a),t=t+1|0}while((0|t)!=(0|c))}else a=t;if(1==(0|a)){a=9;break A}127==(0|(t=0|W(d,a)))&&C(23200,23090,411,23230),0|G(t)?C(23245,23090,412,23230):(g=t,p=c,f=a)}else g=a,p=0,f=t;if((0|(u=0|n[4272+(28*d|0)+(f<<2)>>2]))<=-1&&C(23276,23090,419,23230),!h){if((0|p)<0){a=5;break A}if(0|p){a=0,t=0|n[(c=r)>>2],c=0|n[c+4>>2];do{t=0|GA(t,c),c=0|S(),n[(E=r)>>2]=t,n[E+4>>2]=c,a=a+1|0}while((0|a)<(0|p))}if((0|u)<=0){a=g,t=58;break}for(a=0,t=0|n[(c=r)>>2],c=0|n[c+4>>2];;)if(t=0|GA(t,c),c=0|S(),n[(E=r)>>2]=t,n[E+4>>2]=c,(0|(a=a+1|0))==(0|u)){a=g,t=58;break e}}if(7==(0|(l=0|H(g,d)))&&C(23066,23090,428,23230),t=0|n[(a=r)>>2],a=0|n[a+4>>2],(0|u)>0){c=0;do{t=0|GA(t,a),a=0|S(),n[(E=r)>>2]=t,n[E+4>>2]=a,c=c+1|0}while((0|c)!=(0|u))}if(7==(0|(a=0|NA(t,a)))&&C(23313,23090,440,23230),t=0|z(g),(0|(t=0|n[(t?21664:21456)+(28*l|0)+(a<<2)>>2]))<0&&C(23313,23090,454,23230),t){a=0,c=0|n[(l=r)>>2],l=0|n[l+4>>2];do{c=0|UA(c,l),l=0|S(),n[(E=r)>>2]=c,n[E+4>>2]=l,a=a+1|0}while((0|a)<(0|t));a=g,t=58}else a=g,t=58}else if(0!=(0|s)&0!=(0|h)){if(7==(0|(t=0|NA(A,e)))|7==(0|(c=0|NA(0|n[(c=r)>>2],0|n[c+4>>2])))){a=5;break A}if((0|(c=0|n[21248+(28*t|0)+(c<<2)>>2]))<0){a=5;break A}if(c){t=0,l=0|n[(u=r)>>2],u=0|n[u+4>>2];do{l=0|GA(l,u),u=0|S(),n[(E=r)>>2]=l,n[E+4>>2]=u,t=t+1|0}while((0|t)<(0|c));t=58}else t=59}else t=58}while(0);if(58==(0|t)&&h&&(t=59),59==(0|t)&&1==(0|NA(0|n[(E=r)>>2],0|n[E+4>>2]))){a=9;break}m=0|n[(E=r)>>2],E=-1040385&n[E+4>>2],v=0|Ve(0|a,0,45),E=0|E|S(),n[(a=r)>>2]=m|v,n[a+4>>2]=E,a=0}else a=1}while(0);return B=o,0|(E=a)}function ue(A,e,t,r){A|=0,e|=0;var n=0,i=0,s=0;if(0==(0|(t|=0))&0==(0|(r|=0)))return i=1,T(0|(n=0)),0|i;i=A,n=e,A=1,e=0;do{A=0|Fe(0|((s=0==(1&t|0)&!0)?1:i),0|(s?0:n),0|A,0|e),e=0|S(),t=0|Ge(0|t,0|r,1),r=0|S(),i=0|Fe(0|i,0|n,0|i,0|n),n=0|S()}while(!(0==(0|t)&0==(0|r)));return T(0|e),0|A}function he(A,e,t){A|=0;var r,s=0,o=0,a=0,c=0,l=0,u=0,h=0,f=0,d=0;if(!(0|Y(e|=0,t|=0)))return 0|(d=0);if(e=0|X(e),s=+i[t>>3],o=e&(o=+i[t+8>>3])<0?o+6.283185307179586:o,(0|(d=0|n[A>>2]))<=0)return 0|(d=0);if(r=0|n[A+4>>2],e){e=0,f=o,t=-1,A=0;A:for(;;){for(h=A;c=+i[r+(h<<4)>>3],o=+i[r+(h<<4)+8>>3],a=+i[r+((A=(t+2|0)%(0|d)|0)<<4)>>3],l=+i[r+(A<<4)+8>>3],c>a?(u=c,c=l):(u=a,a=c,c=o,o=l),(s=s==a|s==u?s+2220446049250313e-31:s)<a|s>u;){if((0|(t=h+1|0))>=(0|d)){t=22;break A}A=h,h=t,t=A}if(((u=(l=c<0?c+6.283185307179586:c)+(s-a)/(u-a)*((c=o<0?o+6.283185307179586:o)-l))<0?u+6.283185307179586:u)>(f=l==f|c==f?f+-2220446049250313e-31:f)&&(e^=1),(0|(A=h+1|0))>=(0|d)){t=22;break}t=h}if(22==(0|t))return 0|e}else{e=0,f=o,t=-1,A=0;A:for(;;){for(h=A;c=+i[r+(h<<4)>>3],o=+i[r+(h<<4)+8>>3],a=+i[r+((A=(t+2|0)%(0|d)|0)<<4)>>3],l=+i[r+(A<<4)+8>>3],c>a?(u=c,c=l):(u=a,a=c,c=o,o=l),(s=s==a|s==u?s+2220446049250313e-31:s)<a|s>u;){if((0|(t=h+1|0))>=(0|d)){t=22;break A}A=h,h=t,t=A}if(c+(s-a)/(u-a)*(o-c)>(f=c==f|o==f?f+-2220446049250313e-31:f)&&(e^=1),(0|(A=h+1|0))>=(0|d)){t=22;break}t=h}if(22==(0|t))return 0|e}return 0}function fe(A,e){e|=0;var t,r,s,o,a,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0,b=0;if(!(r=0|n[(A|=0)>>2]))return n[e>>2]=0,n[e+4>>2]=0,n[e+8>>2]=0,n[e+12>>2]=0,n[e+16>>2]=0,n[e+20>>2]=0,n[e+24>>2]=0,void(n[e+28>>2]=0);if(i[(s=e+8|0)>>3]=17976931348623157e292,i[(o=e+24|0)>>3]=17976931348623157e292,i[e>>3]=-17976931348623157e292,i[(a=e+16|0)>>3]=-17976931348623157e292,!((0|r)<=0)){for(t=0|n[A+4>>2],_=17976931348623157e292,m=-17976931348623157e292,v=0,A=-1,f=17976931348623157e292,d=17976931348623157e292,g=-17976931348623157e292,u=-17976931348623157e292,E=0;l=+i[t+(E<<4)>>3],p=+i[t+(E<<4)+8>>3],h=+i[t+(((0|(A=A+2|0))==(0|r)?0:A)<<4)+8>>3],l<f&&(i[s>>3]=l,f=l),p<d&&(i[o>>3]=p,d=p),l>g?i[e>>3]=l:l=g,p>u&&(i[a>>3]=p,u=p),_=p>0&p<_?p:_,m=p<0&p>m?p:m,v|=+c(+(p-h))>3.141592653589793,(0|(A=E+1|0))!=(0|r);)b=E,g=l,E=A,A=b;v&&(i[a>>3]=m,i[o>>3]=_)}}function de(A,e){e|=0;var t,r=0,s=0,o=0,a=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0,b=0,w=0,y=0,T=0,S=0,C=0;if(m=0|n[(A|=0)>>2]){if(i[(v=e+8|0)>>3]=17976931348623157e292,i[(E=e+24|0)>>3]=17976931348623157e292,i[e>>3]=-17976931348623157e292,i[(b=e+16|0)>>3]=-17976931348623157e292,(0|m)>0){for(o=0|n[A+4>>2],g=17976931348623157e292,_=-17976931348623157e292,s=0,r=-1,h=17976931348623157e292,f=17976931348623157e292,p=-17976931348623157e292,l=-17976931348623157e292,w=0;a=+i[o+(w<<4)>>3],d=+i[o+(w<<4)+8>>3],u=+i[o+(((0|(S=r+2|0))==(0|m)?0:S)<<4)+8>>3],a<h&&(i[v>>3]=a,h=a),d<f&&(i[E>>3]=d,f=d),a>p?i[e>>3]=a:a=p,d>l&&(i[b>>3]=d,l=d),g=d>0&d<g?d:g,_=d<0&d>_?d:_,s|=+c(+(d-u))>3.141592653589793,(0|(r=w+1|0))!=(0|m);)S=w,p=a,w=r,r=S;s&&(i[b>>3]=_,i[E>>3]=g)}}else n[e>>2]=0,n[e+4>>2]=0,n[e+8>>2]=0,n[e+12>>2]=0,n[e+16>>2]=0,n[e+20>>2]=0,n[e+24>>2]=0,n[e+28>>2]=0;if(!((0|(r=0|n[(S=A+8|0)>>2]))<=0)){t=A+12|0,T=0;do{if(o=0|n[t>>2],s=T,E=e+((T=T+1|0)<<5)|0,b=0|n[o+(s<<3)>>2]){if(i[(w=e+(T<<5)+8|0)>>3]=17976931348623157e292,i[(A=e+(T<<5)+24|0)>>3]=17976931348623157e292,i[E>>3]=-17976931348623157e292,i[(y=e+(T<<5)+16|0)>>3]=-17976931348623157e292,(0|b)>0){for(m=0|n[o+(s<<3)+4>>2],g=17976931348623157e292,_=-17976931348623157e292,o=0,s=-1,v=0,h=17976931348623157e292,f=17976931348623157e292,d=-17976931348623157e292,l=-17976931348623157e292;a=+i[m+(v<<4)>>3],p=+i[m+(v<<4)+8>>3],u=+i[m+(((0|(s=s+2|0))==(0|b)?0:s)<<4)+8>>3],a<h&&(i[w>>3]=a,h=a),p<f&&(i[A>>3]=p,f=p),a>d?i[E>>3]=a:a=d,p>l&&(i[y>>3]=p,l=p),g=p>0&p<g?p:g,_=p<0&p>_?p:_,o|=+c(+(p-u))>3.141592653589793,(0|(s=v+1|0))!=(0|b);)C=v,v=s,d=a,s=C;o&&(i[y>>3]=_,i[A>>3]=g)}}else n[E>>2]=0,n[E+4>>2]=0,n[E+8>>2]=0,n[E+12>>2]=0,n[E+16>>2]=0,n[E+20>>2]=0,n[E+24>>2]=0,n[E+28>>2]=0,r=0|n[S>>2]}while((0|T)<(0|r))}}function pe(A,e,t){var r=0,i=0,s=0;if(!(0|he(A|=0,e|=0,t|=0)))return 0|(i=0);if((0|n[(i=A+8|0)>>2])<=0)return 0|(i=1);for(r=A+12|0,A=0;;){if(s=A,A=A+1|0,0|he((0|n[r>>2])+(s<<3)|0,e+(A<<5)|0,t)){A=0,r=6;break}if((0|A)>=(0|n[i>>2])){A=1,r=6;break}}return 6==(0|r)?0|A:0}function ge(A,e,t,r,n){e|=0,t|=0,r|=0,n|=0;var s,o,a,c,l,u,h,f=0;c=+i[(A|=0)>>3],a=+i[e>>3]-c,o=+i[A+8>>3],s=+i[e+8>>3]-o,u=+i[t>>3],f=((f=+i[r>>3]-u)*(o-(h=+i[t+8>>3]))-(c-u)*(l=+i[r+8>>3]-h))/(a*l-s*f),i[n>>3]=c+a*f,i[n+8>>3]=o+s*f}function _e(A,e){return e|=0,+c(+(+i[(A|=0)>>3]-+i[e>>3]))<1.1920928955078125e-7?0|(e=+c(+(+i[A+8>>3]-+i[e+8>>3]))<1.1920928955078125e-7):0|(e=0)}function me(A,e){e|=0;var t,r,n;return+((n=+i[(A|=0)>>3]-+i[e>>3])*n+(r=+i[A+8>>3]-+i[e+8>>3])*r+(t=+i[A+16>>3]-+i[e+16>>3])*t)}function ve(A,e,t){t|=0;var r,i,s,o,a=0,c=0,l=0;if(o=B,B=B+32|0,l=o,0|(a=0|HA(A|=0,e|=0,i=o+16|0)))return B=o,0|(t=a);r=0|IA(A,e),s=0|NA(A,e),function(A,e){A=7696+(28*(A|=0)|0)|0,n[(e|=0)>>2]=n[A>>2],n[e+4>>2]=n[A+4>>2],n[e+8>>2]=n[A+8>>2],n[e+12>>2]=n[A+12>>2]}(r,l),a=0|function(A,e){A|=0;var t=0,r=0;if((e|=0)>>>0>20)return-1;do{if((0|n[11120+(216*e|0)>>2])!=(0|A))if((0|n[11120+(216*e|0)+8>>2])!=(0|A))if((0|n[11120+(216*e|0)+16>>2])!=(0|A))if((0|n[11120+(216*e|0)+24>>2])!=(0|A))if((0|n[11120+(216*e|0)+32>>2])!=(0|A))if((0|n[11120+(216*e|0)+40>>2])!=(0|A))if((0|n[11120+(216*e|0)+48>>2])!=(0|A))if((0|n[11120+(216*e|0)+56>>2])!=(0|A))if((0|n[11120+(216*e|0)+64>>2])!=(0|A))if((0|n[11120+(216*e|0)+72>>2])!=(0|A))if((0|n[11120+(216*e|0)+80>>2])!=(0|A))if((0|n[11120+(216*e|0)+88>>2])!=(0|A))if((0|n[11120+(216*e|0)+96>>2])!=(0|A))if((0|n[11120+(216*e|0)+104>>2])!=(0|A))if((0|n[11120+(216*e|0)+112>>2])!=(0|A))if((0|n[11120+(216*e|0)+120>>2])!=(0|A))if((0|n[11120+(216*e|0)+128>>2])!=(0|A)){if((0|n[11120+(216*e|0)+136>>2])!=(0|A)){if((0|n[11120+(216*e|0)+144>>2])==(0|A)){A=0,t=2,r=0;break}if((0|n[11120+(216*e|0)+152>>2])==(0|A)){A=0,t=2,r=1;break}if((0|n[11120+(216*e|0)+160>>2])==(0|A)){A=0,t=2,r=2;break}if((0|n[11120+(216*e|0)+168>>2])==(0|A)){A=1,t=2,r=0;break}if((0|n[11120+(216*e|0)+176>>2])==(0|A)){A=1,t=2,r=1;break}if((0|n[11120+(216*e|0)+184>>2])==(0|A)){A=1,t=2,r=2;break}if((0|n[11120+(216*e|0)+192>>2])==(0|A)){A=2,t=2,r=0;break}if((0|n[11120+(216*e|0)+200>>2])==(0|A)){A=2,t=2,r=1;break}if((0|n[11120+(216*e|0)+208>>2])==(0|A)){A=2,t=2,r=2;break}return-1}A=2,t=1,r=2}else A=2,t=1,r=1;else A=2,t=1,r=0;else A=1,t=1,r=2;else A=1,t=1,r=1;else A=1,t=1,r=0;else A=0,t=1,r=2;else A=0,t=1,r=1;else A=0,t=1,r=0;else A=2,t=0,r=2;else A=2,t=0,r=1;else A=2,t=0,r=0;else A=1,t=0,r=2;else A=1,t=0,r=1;else A=1,t=0,r=0;else A=0,t=0,r=2;else A=0,t=0,r=1;else A=0,t=0,r=0}while(0);return 0|n[11120+(216*e|0)+(72*t|0)+(24*A|0)+(r<<3)+4>>2]}(r,0|n[i>>2]);A:do{if(0|G(r)){switch(0|r){case 4:A=0;break;case 14:A=1;break;case 24:A=2;break;case 38:A=3;break;case 49:A=4;break;case 58:A=5;break;case 63:A=6;break;case 72:A=7;break;case 83:A=8;break;case 97:A=9;break;case 107:A=10;break;case 117:A=11;break;default:a=1;break A}if(c=0|n[22e3+(24*A|0)+8>>2],e=0|n[22e3+(24*A|0)+16>>2],(0|(A=0|n[i>>2]))!=(0|n[l>>2])&&(l=0|z(r))|(0|(A=0|n[i>>2]))==(0|e)&&(a=(a+1|0)%6|0),3==(0|s)&(0|A)==(0|e)){a=(a+5|0)%6|0,c=22;break}5==(0|s)&(0|A)==(0|c)?(a=(a+1|0)%6|0,c=22):c=22}else c=22}while(0);return 22==(0|c)&&(n[t>>2]=a,a=0),B=o,0|(t=a)}function Ee(A,e,t,r){t|=0,r|=0;var i,s,o,a,c,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0;if(c=B,B=B+32|0,E=c+24|0,a=c+20|0,o=c+8|0,s=c+16|0,i=c,d=(d=0==(0|FA(A|=0,e|=0)))?6:5,g=0|ze(0|A,0|e,52),S(),d>>>0<=t>>>0)return B=c,0|(r=2);!(_=0==(0|(g&=15)))&&0==((m=0|Ve(7,0,3*(15^g)|0))&A|0)&0==((0|S())&e|0)?l=t:u=4;A:do{if(4==(0|u)){if((0|((l=0!=(0|FA(A,e)))?4:5))<(0|t))return B=c,0|(r=1);if(0|ve(A,e,E))return B=c,0|(r=1);if(u=(0|n[E>>2])+t|0,7==(0|(m=0|n[(l=l?22288+(((0|u)%5|0)<<2)|0:22320+(((0|u)%6|0)<<2)|0)>>2])))return B=c,0|(r=1);n[a>>2]=0,l=0|F(A,e,m,a,o);do{if(!l){if(p=0|n[(f=o)>>2],u=(h=(f=0|n[f+4>>2])>>>0<e>>>0|(0|f)==(0|e)&p>>>0<A>>>0)?p:A,h=h?f:e,!_&&0==(p&(_=0|Ve(7,0,3*(15^g)|0))|0)&0==(f&(0|S())|0))l=t;else{if(f=(t+-1+d|0)%(0|d)|0,l=0|FA(A,e),(0|f)<0&&C(23313,23315,245,23324),(0|((d=0!=(0|l))?4:5))<(0|f)&&C(23313,23315,245,23324),0|ve(A,e,E)&&C(23313,23315,245,23324),l=(0|n[E>>2])+f|0,7==(0|(f=0|n[(l=d?22288+(((0|l)%5|0)<<2)|0:22320+(((0|l)%6|0)<<2)|0)>>2]))&&C(23313,23315,245,23324),n[s>>2]=0,0|(l=0|F(A,e,f,s,i)))break;d=0|n[(p=i)>>2],p=0|n[p+4>>2];do{if(p>>>0<h>>>0|(0|p)==(0|h)&d>>>0<u>>>0){if(u=0|FA(d,p)?0|N(d,p,A,e):0|n[22384+((((0|n[s>>2])+(0|n[22352+(f<<2)>>2])|0)%6|0)<<2)>>2],l=0|FA(d,p),(u+-1|0)>>>0>5){l=-1,u=d,h=p;break}if(1==(0|u)&(l=0!=(0|l))){l=-1,u=d,h=p;break}do{if(!(0|ve(d,p,E))){if(l){l=(5+(0|n[21936+(u<<2)>>2])-(0|n[E>>2])|0)%5|0;break}l=(6+(0|n[21968+(u<<2)>>2])-(0|n[E>>2])|0)%6|0;break}l=-1}while(0);u=d,h=p}else l=t}while(0);p=0|n[(f=o)>>2],f=0|n[f+4>>2]}if((0|u)==(0|p)&(0|h)==(0|f)){if(A=(d=0!=(0|FA(p,f)))?0|N(p,f,A,e):0|n[22384+((((0|n[a>>2])+(0|n[22352+(m<<2)>>2])|0)%6|0)<<2)>>2],l=0|FA(p,f),(A+-1|0)>>>0<=5&&!(1==(0|A)&(v=0!=(0|l))))do{if(!(0|ve(p,f,E))){if(v){l=(5+(0|n[21936+(A<<2)>>2])-(0|n[E>>2])|0)%5|0;break}l=(6+(0|n[21968+(A<<2)>>2])-(0|n[E>>2])|0)%6|0;break}l=-1}while(0);else l=-1;l=6==(0|(l=l+1|0))|d&5==(0|l)?0:l}e=h,A=u;break A}}while(0);return B=c,0|(r=l)}}while(0);return v=0|Ve(0|l,0,56),E=0|S()|-2130706433&e|536870912,n[r>>2]=v|A,n[r+4>>2]=E,B=c,0|(r=0)}function be(A,e,t){A|=0,t|=0;var r=0;(0|(e|=0))>0?(r=0|ke(e,4),n[A>>2]=r,r||C(23337,23360,40,23374)):n[A>>2]=0,n[A+4>>2]=e,n[A+8>>2]=0,n[A+12>>2]=t}function we(A){var e,t,r,s=0,o=0,a=0,l=0;e=(A|=0)+4|0,t=A+12|0,r=A+8|0;A:for(;;){for(o=0|n[e>>2],s=0;;){if((0|s)>=(0|o))break A;if(a=0|n[A>>2],l=0|n[a+(s<<2)>>2])break;s=s+1|0}s=a+(~~(+c(+ +u(10,+ +(15-(0|n[t>>2])|0))*(+i[l>>3]+ +i[l+8>>3]))%+(0|o))>>>0<<2)|0,o=0|n[s>>2];e:do{if(0|o){if(a=l+32|0,(0|o)==(0|l))n[s>>2]=n[a>>2];else{if(!(s=0|n[(o=o+32|0)>>2]))break;for(;(0|s)!=(0|l);)if(!(s=0|n[(o=s+32|0)>>2]))break e;n[o>>2]=n[a>>2]}Me(l),n[r>>2]=(0|n[r>>2])-1}}while(0)}Me(0|n[A>>2])}function ye(A){var e,t=0,r=0;for(e=0|n[(A|=0)+4>>2],r=0;;){if((0|r)>=(0|e)){t=0,r=4;break}if(t=0|n[(0|n[A>>2])+(r<<2)>>2]){r=4;break}r=r+1|0}return 4==(0|r)?0|t:0}function Te(A,e){e|=0;var t=0,r=0,s=0,o=0;if(t=~~(+c(+ +u(10,+ +(15-(0|n[(A|=0)+12>>2])|0))*(+i[e>>3]+ +i[e+8>>3]))%+(0|n[A+4>>2]))>>>0,t=(0|n[A>>2])+(t<<2)|0,!(r=0|n[t>>2]))return 0|(o=1);o=e+32|0;do{if((0|r)!=(0|e)){if(!(t=0|n[r+32>>2]))return 0|(o=1);for(s=t;;){if((0|s)==(0|e)){s=8;break}if(!(t=0|n[s+32>>2])){t=1,s=10;break}r=s,s=t}if(8==(0|s)){n[r+32>>2]=n[o>>2];break}if(10==(0|s))return 0|t}else n[t>>2]=n[o>>2]}while(0);return Me(e),n[(o=A+8|0)>>2]=(0|n[o>>2])-1,0|(o=0)}function Se(A,e,t){A|=0,e|=0,t|=0;var r,s=0,o=0,a=0;(r=0|xe(40))||C(23390,23360,98,23403),n[r>>2]=n[e>>2],n[r+4>>2]=n[e+4>>2],n[r+8>>2]=n[e+8>>2],n[r+12>>2]=n[e+12>>2],n[(o=r+16|0)>>2]=n[t>>2],n[o+4>>2]=n[t+4>>2],n[o+8>>2]=n[t+8>>2],n[o+12>>2]=n[t+12>>2],n[r+32>>2]=0,o=~~(+c(+ +u(10,+ +(15-(0|n[A+12>>2])|0))*(+i[e>>3]+ +i[e+8>>3]))%+(0|n[A+4>>2]))>>>0,o=(0|n[A>>2])+(o<<2)|0,s=0|n[o>>2];do{if(s){for(;!(0|JA(s,e)&&0|JA(s+16|0,t));)if(o=0|n[s+32>>2],!(0|n[(s=0==(0|o)?s:o)+32>>2])){a=10;break}if(10==(0|a)){n[s+32>>2]=r;break}return Me(r),0|(a=s)}n[o>>2]=r}while(0);return n[(a=A+8|0)>>2]=1+(0|n[a>>2]),0|(a=r)}function Ce(A,e,t){e|=0,t|=0;var r=0,s=0;if(s=~~(+c(+ +u(10,+ +(15-(0|n[(A|=0)+12>>2])|0))*(+i[e>>3]+ +i[e+8>>3]))%+(0|n[A+4>>2]))>>>0,!(s=0|n[(0|n[A>>2])+(s<<2)>>2]))return 0|(t=0);if(!t){for(A=s;;){if(0|JA(A,e)){r=10;break}if(!(A=0|n[A+32>>2])){A=0,r=10;break}}if(10==(0|r))return 0|A}for(A=s;;){if(0|JA(A,e)&&0|JA(A+16|0,t)){r=10;break}if(!(A=0|n[A+32>>2])){A=0,r=10;break}}return 10==(0|r)?0|A:0}function Re(A,e){e|=0;var t=0;if(t=~~(+c(+ +u(10,+ +(15-(0|n[(A|=0)+12>>2])|0))*(+i[e>>3]+ +i[e+8>>3]))%+(0|n[A+4>>2]))>>>0,!(A=0|n[(0|n[A>>2])+(t<<2)>>2]))return 0|(t=0);for(;;){if(0|JA(A,e)){e=5;break}if(!(A=0|n[A+32>>2])){A=0,e=5;break}}return 5==(0|e)?0|A:0}function Pe(A){return 0|~~+function(A){return+ +Ye(+(A=+A))}(A=+A)}function xe(A){A|=0;var e,t=0,r=0,i=0,s=0,o=0,a=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0,b=0,w=0;e=B,B=B+16|0,d=e;do{if(A>>>0<245){if(A=(u=A>>>0<11?16:A+11&-8)>>>3,3&(r=(f=0|n[5857])>>>A)|0)return i=0|n[(r=(A=23468+((t=(1&r^1)+A|0)<<1<<2)|0)+8|0)>>2],(0|(o=0|n[(s=i+8|0)>>2]))==(0|A)?n[5857]=f&~(1<<t):(n[o+12>>2]=A,n[r>>2]=o),w=t<<3,n[i+4>>2]=3|w,n[(w=i+w+4|0)>>2]=1|n[w>>2],B=e,0|(w=s);if(u>>>0>(h=0|n[5859])>>>0){if(0|r)return t=((t=r<<A&((t=2<<A)|0-t))&0-t)-1|0,o=0|n[(A=(t=23468+((i=((r=(t>>>=c=t>>>12&16)>>>5&8)|c|(o=(t>>>=r)>>>2&4)|(A=(t>>>=o)>>>1&2)|(i=(t>>>=A)>>>1&1))+(t>>>i)|0)<<1<<2)|0)+8|0)>>2],(0|(r=0|n[(c=o+8|0)>>2]))==(0|t)?(A=f&~(1<<i),n[5857]=A):(n[r+12>>2]=t,n[A>>2]=r,A=f),a=(w=i<<3)-u|0,n[o+4>>2]=3|u,n[(s=o+u|0)+4>>2]=1|a,n[o+w>>2]=a,0|h&&(i=0|n[5862],r=23468+((t=h>>>3)<<1<<2)|0,A&(t=1<<t)?t=0|n[(A=r+8|0)>>2]:(n[5857]=A|t,t=r,A=r+8|0),n[A>>2]=i,n[t+12>>2]=i,n[i+8>>2]=t,n[i+12>>2]=r),n[5859]=a,n[5862]=s,B=e,0|(w=c);if(o=0|n[5858]){for(r=(o&0-o)-1|0,r=l=0|n[23732+(((i=(r>>>=s=r>>>12&16)>>>5&8)|s|(a=(r>>>=i)>>>2&4)|(c=(r>>>=a)>>>1&2)|(l=(r>>>=c)>>>1&1))+(r>>>l)<<2)>>2],c=l,l=(-8&n[l+4>>2])-u|0;(A=0|n[r+16>>2])||(A=0|n[r+20>>2]);)r=A,c=(s=(a=(-8&n[A+4>>2])-u|0)>>>0<l>>>0)?A:c,l=s?a:l;if((a=c+u|0)>>>0>c>>>0){s=0|n[c+24>>2],t=0|n[c+12>>2];do{if((0|t)==(0|c)){if(!(t=0|n[(A=c+20|0)>>2])&&!(t=0|n[(A=c+16|0)>>2])){r=0;break}for(;;)if(r=0|n[(i=t+20|0)>>2])t=r,A=i;else{if(!(r=0|n[(i=t+16|0)>>2]))break;t=r,A=i}n[A>>2]=0,r=t}else r=0|n[c+8>>2],n[r+12>>2]=t,n[t+8>>2]=r,r=t}while(0);do{if(0|s){if(t=0|n[c+28>>2],(0|c)==(0|n[(A=23732+(t<<2)|0)>>2])){if(n[A>>2]=r,!r){n[5858]=o&~(1<<t);break}}else if(n[((0|n[(w=s+16|0)>>2])==(0|c)?w:s+20|0)>>2]=r,!r)break;n[r+24>>2]=s,0|(t=0|n[c+16>>2])&&(n[r+16>>2]=t,n[t+24>>2]=r),0|(t=0|n[c+20>>2])&&(n[r+20>>2]=t,n[t+24>>2]=r)}}while(0);return l>>>0<16?(w=l+u|0,n[c+4>>2]=3|w,n[(w=c+w+4|0)>>2]=1|n[w>>2]):(n[c+4>>2]=3|u,n[a+4>>2]=1|l,n[a+l>>2]=l,0|h&&(i=0|n[5862],r=23468+((t=h>>>3)<<1<<2)|0,(t=1<<t)&f?t=0|n[(A=r+8|0)>>2]:(n[5857]=t|f,t=r,A=r+8|0),n[A>>2]=i,n[t+12>>2]=i,n[i+8>>2]=t,n[i+12>>2]=r),n[5859]=l,n[5862]=a),B=e,0|(w=c+8|0)}f=u}else f=u}else f=u}else if(A>>>0<=4294967231)if(u=-8&(A=A+11|0),i=0|n[5858]){s=0-u|0,l=(A>>>=8)?u>>>0>16777215?31:u>>>((l=14-((c=((_=A<<(f=(A+1048320|0)>>>16&8))+520192|0)>>>16&4)|f|(l=((_<<=c)+245760|0)>>>16&2))+(_<<l>>>15)|0)+7|0)&1|l<<1:0,r=0|n[23732+(l<<2)>>2];A:do{if(r)for(A=0,c=u<<(31==(0|l)?0:25-(l>>>1)|0),o=0;;){if((a=(-8&n[r+4>>2])-u|0)>>>0<s>>>0){if(!a){A=r,s=0,_=65;break A}A=r,s=a}if(o=0==(0|(_=0|n[r+20>>2]))|(0|_)==(0|(r=0|n[r+16+(c>>>31<<2)>>2]))?o:_,!r){r=o,_=61;break}c<<=1}else r=0,A=0,_=61}while(0);if(61==(0|_)){if(0==(0|r)&0==(0|A)){if(!(A=((A=2<<l)|0-A)&i)){f=u;break}f=(A&0-A)-1|0,A=0,r=0|n[23732+(((o=(f>>>=a=f>>>12&16)>>>5&8)|a|(c=(f>>>=o)>>>2&4)|(l=(f>>>=c)>>>1&2)|(r=(f>>>=l)>>>1&1))+(f>>>r)<<2)>>2]}r?_=65:(c=A,a=s)}if(65==(0|_))for(o=r;;){if(s=(r=(f=(-8&n[o+4>>2])-u|0)>>>0<s>>>0)?f:s,A=r?o:A,(r=0|n[o+16>>2])||(r=0|n[o+20>>2]),!r){c=A,a=s;break}o=r}if(0!=(0|c)&&a>>>0<((0|n[5859])-u|0)>>>0&&(h=c+u|0)>>>0>c>>>0){o=0|n[c+24>>2],t=0|n[c+12>>2];do{if((0|t)==(0|c)){if(!(t=0|n[(A=c+20|0)>>2])&&!(t=0|n[(A=c+16|0)>>2])){t=0;break}for(;;)if(r=0|n[(s=t+20|0)>>2])t=r,A=s;else{if(!(r=0|n[(s=t+16|0)>>2]))break;t=r,A=s}n[A>>2]=0}else w=0|n[c+8>>2],n[w+12>>2]=t,n[t+8>>2]=w}while(0);do{if(o){if(A=0|n[c+28>>2],(0|c)==(0|n[(r=23732+(A<<2)|0)>>2])){if(n[r>>2]=t,!t){i&=~(1<<A),n[5858]=i;break}}else if(n[((0|n[(w=o+16|0)>>2])==(0|c)?w:o+20|0)>>2]=t,!t)break;n[t+24>>2]=o,0|(A=0|n[c+16>>2])&&(n[t+16>>2]=A,n[A+24>>2]=t),(A=0|n[c+20>>2])&&(n[t+20>>2]=A,n[A+24>>2]=t)}}while(0);A:do{if(a>>>0<16)w=a+u|0,n[c+4>>2]=3|w,n[(w=c+w+4|0)>>2]=1|n[w>>2];else{if(n[c+4>>2]=3|u,n[h+4>>2]=1|a,n[h+a>>2]=a,t=a>>>3,a>>>0<256){r=23468+(t<<1<<2)|0,(A=0|n[5857])&(t=1<<t)?t=0|n[(A=r+8|0)>>2]:(n[5857]=A|t,t=r,A=r+8|0),n[A>>2]=h,n[t+12>>2]=h,n[h+8>>2]=t,n[h+12>>2]=r;break}if(t=23732+((r=(t=a>>>8)?a>>>0>16777215?31:a>>>((r=14-((E=((w=t<<(b=(t+1048320|0)>>>16&8))+520192|0)>>>16&4)|b|(r=((w<<=E)+245760|0)>>>16&2))+(w<<r>>>15)|0)+7|0)&1|r<<1:0)<<2)|0,n[h+28>>2]=r,n[(A=h+16|0)+4>>2]=0,n[A>>2]=0,!(i&(A=1<<r))){n[5858]=i|A,n[t>>2]=h,n[h+24>>2]=t,n[h+12>>2]=h,n[h+8>>2]=h;break}t=0|n[t>>2];e:do{if((-8&n[t+4>>2]|0)!=(0|a)){for(i=a<<(31==(0|r)?0:25-(r>>>1)|0);A=0|n[(r=t+16+(i>>>31<<2)|0)>>2];){if((-8&n[A+4>>2]|0)==(0|a)){t=A;break e}i<<=1,t=A}n[r>>2]=h,n[h+24>>2]=t,n[h+12>>2]=h,n[h+8>>2]=h;break A}}while(0);w=0|n[(b=t+8|0)>>2],n[w+12>>2]=h,n[b>>2]=h,n[h+8>>2]=w,n[h+12>>2]=t,n[h+24>>2]=0}}while(0);return B=e,0|(w=c+8|0)}f=u}else f=u;else f=-1}while(0);if((r=0|n[5859])>>>0>=f>>>0)return t=r-f|0,A=0|n[5862],t>>>0>15?(w=A+f|0,n[5862]=w,n[5859]=t,n[w+4>>2]=1|t,n[A+r>>2]=t,n[A+4>>2]=3|f):(n[5859]=0,n[5862]=0,n[A+4>>2]=3|r,n[(w=A+r+4|0)>>2]=1|n[w>>2]),B=e,0|(w=A+8|0);if((a=0|n[5860])>>>0>f>>>0)return E=a-f|0,n[5860]=E,b=(w=0|n[5863])+f|0,n[5863]=b,n[b+4>>2]=1|E,n[w+4>>2]=3|f,B=e,0|(w=w+8|0);if(0|n[5975]?A=0|n[5977]:(n[5977]=4096,n[5976]=4096,n[5978]=-1,n[5979]=-1,n[5980]=0,n[5968]=0,n[5975]=-16&d^1431655768,A=4096),c=f+48|0,(u=(o=A+(l=f+47|0)|0)&(s=0-A|0))>>>0<=f>>>0)return B=e,0|(w=0);if(0|(A=0|n[5967])&&(d=(h=0|n[5965])+u|0)>>>0<=h>>>0|d>>>0>A>>>0)return B=e,0|(w=0);A:do{if(4&n[5968])t=0,_=143;else{r=0|n[5863];e:do{if(r){for(i=23876;!((d=0|n[i>>2])>>>0<=r>>>0&&(d+(0|n[i+4>>2])|0)>>>0>r>>>0);){if(!(A=0|n[i+8>>2])){_=128;break e}i=A}if((t=o-a&s)>>>0<2147483647)if((0|(A=0|Ke(0|t)))==((0|n[i>>2])+(0|n[i+4>>2])|0)){if(-1!=(0|A)){a=t,o=A,_=145;break A}}else i=A,_=136;else t=0}else _=128}while(0);do{if(128==(0|_))if(-1!=(0|(r=0|Ke(0)))&&(t=r,g=(t=(0==((g=(p=0|n[5976])+-1|0)&t|0)?0:(g+t&0-p)-t|0)+u|0)+(p=0|n[5965])|0,t>>>0>f>>>0&t>>>0<2147483647)){if(0|(d=0|n[5967])&&g>>>0<=p>>>0|g>>>0>d>>>0){t=0;break}if((0|(A=0|Ke(0|t)))==(0|r)){a=t,o=r,_=145;break A}i=A,_=136}else t=0}while(0);do{if(136==(0|_)){if(r=0-t|0,!(c>>>0>t>>>0&t>>>0<2147483647&-1!=(0|i))){if(-1==(0|i)){t=0;break}a=t,o=i,_=145;break A}if((A=l-t+(A=0|n[5977])&0-A)>>>0>=2147483647){a=t,o=i,_=145;break A}if(-1==(0|Ke(0|A))){Ke(0|r),t=0;break}a=A+t|0,o=i,_=145;break A}}while(0);n[5968]=4|n[5968],_=143}}while(0);if(143==(0|_)&&u>>>0<2147483647&&!(-1==(0|(E=0|Ke(0|u)))|1^(v=(m=(g=0|Ke(0))-E|0)>>>0>(f+40|0)>>>0)|E>>>0<g>>>0&-1!=(0|E)&-1!=(0|g)^1)&&(a=v?m:t,o=E,_=145),145==(0|_)){t=(0|n[5965])+a|0,n[5965]=t,t>>>0>(0|n[5966])>>>0&&(n[5966]=t),l=0|n[5863];A:do{if(l){for(t=23876;;){if((0|o)==((A=0|n[t>>2])+(r=0|n[t+4>>2])|0)){_=154;break}if(!(i=0|n[t+8>>2]))break;t=i}if(154==(0|_)&&(b=t+4|0,0==(8&n[t+12>>2]|0))&&o>>>0>l>>>0&A>>>0<=l>>>0){n[b>>2]=r+a,b=l+(E=0==(7&(E=l+8|0)|0)?0:0-E&7)|0,E=(w=(0|n[5860])+a|0)-E|0,n[5863]=b,n[5860]=E,n[b+4>>2]=1|E,n[l+w+4>>2]=40,n[5864]=n[5979];break}for(o>>>0<(0|n[5861])>>>0&&(n[5861]=o),r=o+a|0,t=23876;;){if((0|n[t>>2])==(0|r)){_=162;break}if(!(A=0|n[t+8>>2]))break;t=A}if(162==(0|_)&&0==(8&n[t+12>>2]|0)){n[t>>2]=o,n[(h=t+4|0)>>2]=(0|n[h>>2])+a,u=(h=o+(0==(7&(h=o+8|0)|0)?0:0-h&7)|0)+f|0,c=(t=r+(0==(7&(t=r+8|0)|0)?0:0-t&7)|0)-h-f|0,n[h+4>>2]=3|f;e:do{if((0|l)==(0|t))w=(0|n[5860])+c|0,n[5860]=w,n[5863]=u,n[u+4>>2]=1|w;else{if((0|n[5862])==(0|t)){w=(0|n[5859])+c|0,n[5859]=w,n[5862]=u,n[u+4>>2]=1|w,n[u+w>>2]=w;break}if(1==(3&(A=0|n[t+4>>2])|0)){a=-8&A,i=A>>>3;t:do{if(A>>>0<256){if(A=0|n[t+8>>2],(0|(r=0|n[t+12>>2]))==(0|A)){n[5857]=n[5857]&~(1<<i);break}n[A+12>>2]=r,n[r+8>>2]=A;break}o=0|n[t+24>>2],A=0|n[t+12>>2];do{if((0|A)==(0|t)){if(A=0|n[(i=(r=t+16|0)+4|0)>>2])r=i;else if(!(A=0|n[r>>2])){A=0;break}for(;;)if(i=0|n[(s=A+20|0)>>2])A=i,r=s;else{if(!(i=0|n[(s=A+16|0)>>2]))break;A=i,r=s}n[r>>2]=0}else w=0|n[t+8>>2],n[w+12>>2]=A,n[A+8>>2]=w}while(0);if(!o)break;i=23732+((r=0|n[t+28>>2])<<2)|0;do{if((0|n[i>>2])==(0|t)){if(n[i>>2]=A,0|A)break;n[5858]=n[5858]&~(1<<r);break t}if(n[((0|n[(w=o+16|0)>>2])==(0|t)?w:o+20|0)>>2]=A,!A)break t}while(0);if(n[A+24>>2]=o,0|(i=0|n[(r=t+16|0)>>2])&&(n[A+16>>2]=i,n[i+24>>2]=A),!(r=0|n[r+4>>2]))break;n[A+20>>2]=r,n[r+24>>2]=A}while(0);t=t+a|0,s=a+c|0}else s=c;if(n[(t=t+4|0)>>2]=-2&n[t>>2],n[u+4>>2]=1|s,n[u+s>>2]=s,t=s>>>3,s>>>0<256){r=23468+(t<<1<<2)|0,(A=0|n[5857])&(t=1<<t)?t=0|n[(A=r+8|0)>>2]:(n[5857]=A|t,t=r,A=r+8|0),n[A>>2]=u,n[t+12>>2]=u,n[u+8>>2]=t,n[u+12>>2]=r;break}t=s>>>8;do{if(t){if(s>>>0>16777215){i=31;break}i=s>>>((i=14-((E=((w=t<<(b=(t+1048320|0)>>>16&8))+520192|0)>>>16&4)|b|(i=((w<<=E)+245760|0)>>>16&2))+(w<<i>>>15)|0)+7|0)&1|i<<1}else i=0}while(0);if(t=23732+(i<<2)|0,n[u+28>>2]=i,n[(A=u+16|0)+4>>2]=0,n[A>>2]=0,!((A=0|n[5858])&(r=1<<i))){n[5858]=A|r,n[t>>2]=u,n[u+24>>2]=t,n[u+12>>2]=u,n[u+8>>2]=u;break}t=0|n[t>>2];t:do{if((-8&n[t+4>>2]|0)!=(0|s)){for(i=s<<(31==(0|i)?0:25-(i>>>1)|0);A=0|n[(r=t+16+(i>>>31<<2)|0)>>2];){if((-8&n[A+4>>2]|0)==(0|s)){t=A;break t}i<<=1,t=A}n[r>>2]=u,n[u+24>>2]=t,n[u+12>>2]=u,n[u+8>>2]=u;break e}}while(0);w=0|n[(b=t+8|0)>>2],n[w+12>>2]=u,n[b>>2]=u,n[u+8>>2]=w,n[u+12>>2]=t,n[u+24>>2]=0}}while(0);return B=e,0|(w=h+8|0)}for(t=23876;!((A=0|n[t>>2])>>>0<=l>>>0&&(w=A+(0|n[t+4>>2])|0)>>>0>l>>>0);)t=0|n[t+8>>2];t=(A=(A=(s=w+-47|0)+(0==(7&(A=s+8|0)|0)?0:0-A&7)|0)>>>0<(s=l+16|0)>>>0?l:A)+8|0,b=o+(E=0==(7&(E=o+8|0)|0)?0:0-E&7)|0,E=(r=a+-40|0)-E|0,n[5863]=b,n[5860]=E,n[b+4>>2]=1|E,n[o+r+4>>2]=40,n[5864]=n[5979],n[(r=A+4|0)>>2]=27,n[t>>2]=n[5969],n[t+4>>2]=n[5970],n[t+8>>2]=n[5971],n[t+12>>2]=n[5972],n[5969]=o,n[5970]=a,n[5972]=0,n[5971]=t,t=A+24|0;do{b=t,n[(t=t+4|0)>>2]=7}while((b+8|0)>>>0<w>>>0);if((0|A)!=(0|l)){if(o=A-l|0,n[r>>2]=-2&n[r>>2],n[l+4>>2]=1|o,n[A>>2]=o,t=o>>>3,o>>>0<256){r=23468+(t<<1<<2)|0,(A=0|n[5857])&(t=1<<t)?t=0|n[(A=r+8|0)>>2]:(n[5857]=A|t,t=r,A=r+8|0),n[A>>2]=l,n[t+12>>2]=l,n[l+8>>2]=t,n[l+12>>2]=r;break}if(r=23732+((i=(t=o>>>8)?o>>>0>16777215?31:o>>>((i=14-((E=((w=t<<(b=(t+1048320|0)>>>16&8))+520192|0)>>>16&4)|b|(i=((w<<=E)+245760|0)>>>16&2))+(w<<i>>>15)|0)+7|0)&1|i<<1:0)<<2)|0,n[l+28>>2]=i,n[l+20>>2]=0,n[s>>2]=0,!((t=0|n[5858])&(A=1<<i))){n[5858]=t|A,n[r>>2]=l,n[l+24>>2]=r,n[l+12>>2]=l,n[l+8>>2]=l;break}t=0|n[r>>2];e:do{if((-8&n[t+4>>2]|0)!=(0|o)){for(i=o<<(31==(0|i)?0:25-(i>>>1)|0);A=0|n[(r=t+16+(i>>>31<<2)|0)>>2];){if((-8&n[A+4>>2]|0)==(0|o)){t=A;break e}i<<=1,t=A}n[r>>2]=l,n[l+24>>2]=t,n[l+12>>2]=l,n[l+8>>2]=l;break A}}while(0);w=0|n[(b=t+8|0)>>2],n[w+12>>2]=l,n[b>>2]=l,n[l+8>>2]=w,n[l+12>>2]=t,n[l+24>>2]=0}}else 0==(0|(w=0|n[5861]))|o>>>0<w>>>0&&(n[5861]=o),n[5969]=o,n[5970]=a,n[5972]=0,n[5866]=n[5975],n[5865]=-1,n[5870]=23468,n[5869]=23468,n[5872]=23476,n[5871]=23476,n[5874]=23484,n[5873]=23484,n[5876]=23492,n[5875]=23492,n[5878]=23500,n[5877]=23500,n[5880]=23508,n[5879]=23508,n[5882]=23516,n[5881]=23516,n[5884]=23524,n[5883]=23524,n[5886]=23532,n[5885]=23532,n[5888]=23540,n[5887]=23540,n[5890]=23548,n[5889]=23548,n[5892]=23556,n[5891]=23556,n[5894]=23564,n[5893]=23564,n[5896]=23572,n[5895]=23572,n[5898]=23580,n[5897]=23580,n[5900]=23588,n[5899]=23588,n[5902]=23596,n[5901]=23596,n[5904]=23604,n[5903]=23604,n[5906]=23612,n[5905]=23612,n[5908]=23620,n[5907]=23620,n[5910]=23628,n[5909]=23628,n[5912]=23636,n[5911]=23636,n[5914]=23644,n[5913]=23644,n[5916]=23652,n[5915]=23652,n[5918]=23660,n[5917]=23660,n[5920]=23668,n[5919]=23668,n[5922]=23676,n[5921]=23676,n[5924]=23684,n[5923]=23684,n[5926]=23692,n[5925]=23692,n[5928]=23700,n[5927]=23700,n[5930]=23708,n[5929]=23708,n[5932]=23716,n[5931]=23716,b=o+(E=0==(7&(E=o+8|0)|0)?0:0-E&7)|0,E=(w=a+-40|0)-E|0,n[5863]=b,n[5860]=E,n[b+4>>2]=1|E,n[o+w+4>>2]=40,n[5864]=n[5979]}while(0);if((t=0|n[5860])>>>0>f>>>0)return E=t-f|0,n[5860]=E,b=(w=0|n[5863])+f|0,n[5863]=b,n[b+4>>2]=1|E,n[w+4>>2]=3|f,B=e,0|(w=w+8|0)}return n[(w=23424)>>2]=12,B=e,0|(w=0)}function Me(A){var e=0,t=0,r=0,i=0,s=0,o=0,a=0,c=0;if(A|=0){t=A+-8|0,i=0|n[5861],c=t+(e=-8&(A=0|n[A+-4>>2]))|0;do{if(1&A)a=t,o=t;else{if(r=0|n[t>>2],!(3&A))return;if(s=r+e|0,(o=t+(0-r)|0)>>>0<i>>>0)return;if((0|n[5862])==(0|o)){if(3!=(3&(e=0|n[(A=c+4|0)>>2])|0)){a=o,e=s;break}return n[5859]=s,n[A>>2]=-2&e,n[o+4>>2]=1|s,void(n[o+s>>2]=s)}if(t=r>>>3,r>>>0<256){if(A=0|n[o+8>>2],(0|(e=0|n[o+12>>2]))==(0|A)){n[5857]=n[5857]&~(1<<t),a=o,e=s;break}n[A+12>>2]=e,n[e+8>>2]=A,a=o,e=s;break}i=0|n[o+24>>2],A=0|n[o+12>>2];do{if((0|A)==(0|o)){if(A=0|n[(t=(e=o+16|0)+4|0)>>2])e=t;else if(!(A=0|n[e>>2])){A=0;break}for(;;)if(t=0|n[(r=A+20|0)>>2])A=t,e=r;else{if(!(t=0|n[(r=A+16|0)>>2]))break;A=t,e=r}n[e>>2]=0}else a=0|n[o+8>>2],n[a+12>>2]=A,n[A+8>>2]=a}while(0);if(i){if(e=0|n[o+28>>2],(0|n[(t=23732+(e<<2)|0)>>2])==(0|o)){if(n[t>>2]=A,!A){n[5858]=n[5858]&~(1<<e),a=o,e=s;break}}else if(n[((0|n[(a=i+16|0)>>2])==(0|o)?a:i+20|0)>>2]=A,!A){a=o,e=s;break}n[A+24>>2]=i,0|(t=0|n[(e=o+16|0)>>2])&&(n[A+16>>2]=t,n[t+24>>2]=A),(e=0|n[e+4>>2])?(n[A+20>>2]=e,n[e+24>>2]=A,a=o,e=s):(a=o,e=s)}else a=o,e=s}}while(0);if(!(o>>>0>=c>>>0)&&1&(r=0|n[(A=c+4|0)>>2])){if(2&r)n[A>>2]=-2&r,n[a+4>>2]=1|e,n[o+e>>2]=e,i=e;else{if((0|n[5863])==(0|c)){if(c=(0|n[5860])+e|0,n[5860]=c,n[5863]=a,n[a+4>>2]=1|c,(0|a)!=(0|n[5862]))return;return n[5862]=0,void(n[5859]=0)}if((0|n[5862])==(0|c))return c=(0|n[5859])+e|0,n[5859]=c,n[5862]=o,n[a+4>>2]=1|c,void(n[o+c>>2]=c);i=(-8&r)+e|0,t=r>>>3;do{if(r>>>0<256){if(e=0|n[c+8>>2],(0|(A=0|n[c+12>>2]))==(0|e)){n[5857]=n[5857]&~(1<<t);break}n[e+12>>2]=A,n[A+8>>2]=e;break}s=0|n[c+24>>2],A=0|n[c+12>>2];do{if((0|A)==(0|c)){if(A=0|n[(t=(e=c+16|0)+4|0)>>2])e=t;else if(!(A=0|n[e>>2])){t=0;break}for(;;)if(t=0|n[(r=A+20|0)>>2])A=t,e=r;else{if(!(t=0|n[(r=A+16|0)>>2]))break;A=t,e=r}n[e>>2]=0,t=A}else t=0|n[c+8>>2],n[t+12>>2]=A,n[A+8>>2]=t,t=A}while(0);if(0|s){if(A=0|n[c+28>>2],(0|n[(e=23732+(A<<2)|0)>>2])==(0|c)){if(n[e>>2]=t,!t){n[5858]=n[5858]&~(1<<A);break}}else if(n[((0|n[(r=s+16|0)>>2])==(0|c)?r:s+20|0)>>2]=t,!t)break;n[t+24>>2]=s,0|(e=0|n[(A=c+16|0)>>2])&&(n[t+16>>2]=e,n[e+24>>2]=t),0|(A=0|n[A+4>>2])&&(n[t+20>>2]=A,n[A+24>>2]=t)}}while(0);if(n[a+4>>2]=1|i,n[o+i>>2]=i,(0|a)==(0|n[5862]))return void(n[5859]=i)}if(A=i>>>3,i>>>0<256)return t=23468+(A<<1<<2)|0,(e=0|n[5857])&(A=1<<A)?A=0|n[(e=t+8|0)>>2]:(n[5857]=e|A,A=t,e=t+8|0),n[e>>2]=a,n[A+12>>2]=a,n[a+8>>2]=A,void(n[a+12>>2]=t);A=23732+((r=(A=i>>>8)?i>>>0>16777215?31:i>>>((r=14-((s=((c=A<<(o=(A+1048320|0)>>>16&8))+520192|0)>>>16&4)|o|(r=((c<<=s)+245760|0)>>>16&2))+(c<<r>>>15)|0)+7|0)&1|r<<1:0)<<2)|0,n[a+28>>2]=r,n[a+20>>2]=0,n[a+16>>2]=0,e=0|n[5858],t=1<<r;A:do{if(e&t){A=0|n[A>>2];e:do{if((-8&n[A+4>>2]|0)!=(0|i)){for(r=i<<(31==(0|r)?0:25-(r>>>1)|0);e=0|n[(t=A+16+(r>>>31<<2)|0)>>2];){if((-8&n[e+4>>2]|0)==(0|i)){A=e;break e}r<<=1,A=e}n[t>>2]=a,n[a+24>>2]=A,n[a+12>>2]=a,n[a+8>>2]=a;break A}}while(0);c=0|n[(o=A+8|0)>>2],n[c+12>>2]=a,n[o>>2]=a,n[a+8>>2]=c,n[a+12>>2]=A,n[a+24>>2]=0}else n[5858]=e|t,n[A>>2]=a,n[a+24>>2]=A,n[a+12>>2]=a,n[a+8>>2]=a}while(0);if(c=(0|n[5865])-1|0,n[5865]=c,!(0|c)){for(A=23884;A=0|n[A>>2];)A=A+8|0;n[5865]=-1}}}}function ke(A,e){e|=0;var t=0;return(A|=0)?(t=0|E(e,A),(e|A)>>>0>65535&&(t=(0|(t>>>0)/(A>>>0))==(0|e)?t:-1)):t=0,(A=0|xe(t))&&3&n[A+-4>>2]?(Xe(0|A,0,0|t),0|A):0|A}function Be(A,e,t,r){return 0|(T((e|=0)+(r|=0)+((t=(A|=0)+(t|=0)>>>0)>>>0<A>>>0|0)>>>0|0),0|t)}function Ie(A,e,t,r){return 0|(T(0|(r=(e|=0)-(r|=0)-((t|=0)>>>0>(A|=0)>>>0|0)>>>0)),A-t>>>0|0)}function Le(A){return 0|((A|=0)?31-(0|y(A^A-1))|0:32)}function De(A,e,t,r,i){i|=0;var s=0,o=0,a=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0;if(u=A|=0,o=t|=0,a=f=r|=0,!(l=c=e|=0))return s=0!=(0|i),a?s?(n[i>>2]=0|A,n[i+4>>2]=0&e,i=0,0|(T(0|(f=0)),i)):(i=0,0|(T(0|(f=0)),i)):(s&&(n[i>>2]=(u>>>0)%(o>>>0),n[i+4>>2]=0),i=(u>>>0)/(o>>>0)>>>0,0|(T(0|(f=0)),i));s=0==(0|a);do{if(o){if(!s){if((s=(0|y(0|a))-(0|y(0|l))|0)>>>0<=31){o=h=s+1|0,A=u>>>(h>>>0)&(e=s-31>>31)|l<<(a=31-s|0),e&=l>>>(h>>>0),s=0,a=u<<a;break}return i?(n[i>>2]=0|A,n[i+4>>2]=c|0&e,i=0,0|(T(0|(f=0)),i)):(i=0,0|(T(0|(f=0)),i))}if((s=o-1|0)&o|0){o=a=33+(0|y(0|o))-(0|y(0|l))|0,A=(h=32-a|0)-1>>31&l>>>((d=a-32|0)>>>0)|(l<<h|u>>>(a>>>0))&(e=d>>31),e&=l>>>(a>>>0),s=u<<(p=64-a|0)&(c=h>>31),a=(l<<p|u>>>(d>>>0))&c|u<<h&a-33>>31;break}return 0|i&&(n[i>>2]=s&u,n[i+4>>2]=0),1==(0|o)?(p=0|A,0|(T(0|(d=c|0&e)),p)):(d=l>>>((p=0|Le(0|o))>>>0)|0,p=l<<32-p|u>>>(p>>>0)|0,0|(T(0|d),p))}if(s)return 0|i&&(n[i>>2]=(l>>>0)%(o>>>0),n[i+4>>2]=0),p=(l>>>0)/(o>>>0)>>>0,0|(T(0|(d=0)),p);if(!u)return 0|i&&(n[i>>2]=0,n[i+4>>2]=(l>>>0)%(a>>>0)),p=(l>>>0)/(a>>>0)>>>0,0|(T(0|(d=0)),p);if(!((s=a-1|0)&a))return 0|i&&(n[i>>2]=0|A,n[i+4>>2]=s&l|0&e),d=0,p=l>>>((0|Le(0|a))>>>0),0|(T(0|d),p);if((s=(0|y(0|a))-(0|y(0|l))|0)>>>0<=30){o=e=s+1|0,A=l<<(a=31-s|0)|u>>>(e>>>0),e=l>>>(e>>>0),s=0,a=u<<a;break}return i?(n[i>>2]=0|A,n[i+4>>2]=c|0&e,p=0,0|(T(0|(d=0)),p)):(p=0,0|(T(0|(d=0)),p))}while(0);if(o){l=0|Be(0|(h=0|t),0|(u=f|0&r),-1,-1),t=0|S(),c=a,a=0;do{r=c,c=s>>>31|c<<1,s=a|s<<1,Ie(0|l,0|t,0|(r=A<<1|r>>>31|0),0|(f=A>>>31|e<<1|0)),a=1&(d=(p=0|S())>>31|((0|p)<0?-1:0)<<1),A=0|Ie(0|r,0|f,d&h|0,(((0|p)<0?-1:0)>>31|((0|p)<0?-1:0)<<1)&u|0),e=0|S(),o=o-1|0}while(0!=(0|o));l=c,c=0}else l=a,c=0,a=0;return o=0,0|i&&(n[i>>2]=A,n[i+4>>2]=e),p=-2&(s<<1|0)|a,0|(T(0|(d=(0|s)>>>31|(l|o)<<1|0&(o<<1|s>>>31)|c)),p)}function Oe(A,e,t,r){t|=0;var n,i,s,o,a;return i=(r|=0)>>31|((0|r)<0?-1:0)<<1,n=((0|r)<0?-1:0)>>31|((0|r)<0?-1:0)<<1,s=0|Ie((a=(e|=0)>>31|((0|e)<0?-1:0)<<1)^(A|=0)|0,(o=((0|e)<0?-1:0)>>31|((0|e)<0?-1:0)<<1)^e|0,0|a,0|o),A=i^a,e=n^o,0|Ie((0|De(s,0|S(),0|Ie(i^t|0,n^r|0,0|i,0|n),0|S(),0))^A|0,(0|S())^e|0,0|A,0|e)}function Fe(A,e,t,r){e|=0,r|=0;var n,i;return t=0|function(A,e){var t,r,n,i=0;return A=((t=0|E(i=65535&(e|=0),n=65535&(A|=0)))>>>16)+(0|E(i,r=A>>>16))|0,e=0|E(i=e>>>16,n),0|(T((A>>>16)+(0|E(i,r))+(((65535&A)+e|0)>>>16)|0),A+e<<16|65535&t|0)}(n=A|=0,i=t|=0),A=0|S(),0|(T((0|E(e,i))+(0|E(r,n))+A|0&A|0),0|t)}function Ne(A,e,t,r){t|=0;var i,s,o,a,c,l;return i=B,B=B+16|0,a=0|i,l=(r|=0)>>31|((0|r)<0?-1:0)<<1,c=((0|r)<0?-1:0)>>31|((0|r)<0?-1:0)<<1,De(A=0|Ie((o=(e|=0)>>31|((0|e)<0?-1:0)<<1)^(A|=0)|0,(s=((0|e)<0?-1:0)>>31|((0|e)<0?-1:0)<<1)^e|0,0|o,0|s),e=0|S(),0|Ie(l^t|0,c^r|0,0|l,0|c),0|S(),a),r=0|Ie(n[a>>2]^o|0,n[a+4>>2]^s|0,0|o,0|s),t=0|S(),B=i,0|(T(0|t),r)}function Ue(A,e,t,r){var i,s;return s=B,B=B+16|0,De(A|=0,e|=0,t|=0,r|=0,i=0|s),B=s,0|(T(0|n[i+4>>2]),0|n[i>>2])}function Ge(A,e,t){return A|=0,e|=0,(0|(t|=0))<32?(T(e>>t|0),A>>>t|(e&(1<<t)-1)<<32-t):(T(0|((0|e)<0?-1:0)),e>>t-32|0)}function ze(A,e,t){return A|=0,e|=0,(0|(t|=0))<32?(T(e>>>t|0),A>>>t|(e&(1<<t)-1)<<32-t):(T(0),e>>>t-32|0)}function Ve(A,e,t){return A|=0,e|=0,(0|(t|=0))<32?(T(e<<t|(A&(1<<t)-1<<32-t)>>>32-t|0),A<<t):(T(A<<t-32|0),0)}function Qe(A,e){return e=+e,(A=+A)!=A?+e:e!=e?+A:+w(+A,+e)}function je(A,e){return e=+e,(A=+A)!=A?+e:e!=e?+A:+b(+A,+e)}function We(A){return(A=+A)>=0?+a(A+.5):+v(A-.5)}function He(A,e,t){A|=0,e|=0;var i,s,o=0;if((0|(t|=0))>=8192)return x(0|A,0|e,0|t),0|A;if(s=0|A,i=A+t|0,(3&A)==(3&e)){for(;3&A;){if(!t)return 0|s;r[A>>0]=0|r[e>>0],A=A+1|0,e=e+1|0,t=t-1|0}for(o=(t=-4&i|0)-64|0;(0|A)<=(0|o);)n[A>>2]=n[e>>2],n[A+4>>2]=n[e+4>>2],n[A+8>>2]=n[e+8>>2],n[A+12>>2]=n[e+12>>2],n[A+16>>2]=n[e+16>>2],n[A+20>>2]=n[e+20>>2],n[A+24>>2]=n[e+24>>2],n[A+28>>2]=n[e+28>>2],n[A+32>>2]=n[e+32>>2],n[A+36>>2]=n[e+36>>2],n[A+40>>2]=n[e+40>>2],n[A+44>>2]=n[e+44>>2],n[A+48>>2]=n[e+48>>2],n[A+52>>2]=n[e+52>>2],n[A+56>>2]=n[e+56>>2],n[A+60>>2]=n[e+60>>2],A=A+64|0,e=e+64|0;for(;(0|A)<(0|t);)n[A>>2]=n[e>>2],A=A+4|0,e=e+4|0}else for(t=i-4|0;(0|A)<(0|t);)r[A>>0]=0|r[e>>0],r[A+1>>0]=0|r[e+1>>0],r[A+2>>0]=0|r[e+2>>0],r[A+3>>0]=0|r[e+3>>0],A=A+4|0,e=e+4|0;for(;(0|A)<(0|i);)r[A>>0]=0|r[e>>0],A=A+1|0,e=e+1|0;return 0|s}function Xe(A,e,t){e|=0;var i,s=0,o=0,a=0;if(i=(A|=0)+(t|=0)|0,e&=255,(0|t)>=67){for(;3&A;)r[A>>0]=e,A=A+1|0;for(a=e|e<<8|e<<16|e<<24,o=(s=-4&i|0)-64|0;(0|A)<=(0|o);)n[A>>2]=a,n[A+4>>2]=a,n[A+8>>2]=a,n[A+12>>2]=a,n[A+16>>2]=a,n[A+20>>2]=a,n[A+24>>2]=a,n[A+28>>2]=a,n[A+32>>2]=a,n[A+36>>2]=a,n[A+40>>2]=a,n[A+44>>2]=a,n[A+48>>2]=a,n[A+52>>2]=a,n[A+56>>2]=a,n[A+60>>2]=a,A=A+64|0;for(;(0|A)<(0|s);)n[A>>2]=a,A=A+4|0}for(;(0|A)<(0|i);)r[A>>0]=e,A=A+1|0;return i-t|0}function Ye(A){return(A=+A)>=0?+a(A+.5):+v(A-.5)}function Ke(A){A|=0;var e,t,r;return r=0|P(),(0|A)>0&(0|(e=(t=0|n[o>>2])+A|0))<(0|t)|(0|e)<0?(k(0|e),R(12),-1):(0|e)>(0|r)&&!(0|M(0|e))?(R(12),-1):(n[o>>2]=e,0|t)}return{___divdi3:Oe,___muldi3:Fe,___remdi3:Ne,___uremdi3:Ue,_areNeighborCells:function(A,e,t,r,i){i|=0;var s,o,a,c=0,l=0,u=0,h=0;if(a=B,B=B+64|0,o=a,s=a+56|0,!(!0&134217728==(2013265920&(e|=0)|0)&!0&134217728==(2013265920&(r|=0)|0)))return B=a,0|(i=5);if((0|(A|=0))==(0|(t|=0))&(0|e)==(0|r))return n[i>>2]=0,B=a,0|(i=0);if(l=0|ze(0|A,0|e,52),S(),l&=15,h=0|ze(0|t,0|r,52),S(),(0|l)!=(15&h|0))return B=a,0|(i=12);if(c=l+-1|0,l>>>0>1){DA(A,e,c,o),DA(t,r,c,s),u=0|n[(h=o)>>2],h=0|n[h+4>>2];A:do{if((0|u)==(0|n[s>>2])&&(0|h)==(0|n[s+4>>2])){c=0|ze(0|A,0|e,0|(l=3*(15^l)|0)),S(),c&=7,l=0|ze(0|t,0|r,0|l),S(),l&=7;do{if(0==(0|c)|0==(0|l))n[i>>2]=1,c=0;else if(7==(0|c))c=5;else{if(1==(0|c)|1==(0|l)&&0|FA(u,h)){c=5;break}if((0|n[15536+(c<<2)>>2])!=(0|l)&&(0|n[15568+(c<<2)>>2])!=(0|l))break A;n[i>>2]=1,c=0}}while(0);return B=a,0|(i=c)}}while(0)}l=(c=o)+56|0;do{n[c>>2]=0,c=c+4|0}while((0|c)<(0|l));return I(A,e,1,o),c=(0|n[(e=o)>>2])==(0|t)&&(0|n[e+4>>2])==(0|r)||(0|n[(e=o+8|0)>>2])==(0|t)&&(0|n[e+4>>2])==(0|r)||(0|n[(e=o+16|0)>>2])==(0|t)&&(0|n[e+4>>2])==(0|r)||(0|n[(e=o+24|0)>>2])==(0|t)&&(0|n[e+4>>2])==(0|r)||(0|n[(e=o+32|0)>>2])==(0|t)&&(0|n[e+4>>2])==(0|r)||(0|n[(e=o+40|0)>>2])==(0|t)&&(0|n[e+4>>2])==(0|r)?1:1&((0|n[(c=o+48|0)>>2])==(0|t)?(0|n[c+4>>2])==(0|r):0),n[i>>2]=c,B=a,0|(i=0)},_bitshift64Ashr:Ge,_bitshift64Lshr:ze,_bitshift64Shl:Ve,_calloc:ke,_cellAreaKm2:function(A,e,t){return 0|(A=0|re(A|=0,e|=0,t|=0))||(i[t>>3]=6371.007180918475*+i[t>>3]*6371.007180918475),0|A},_cellAreaM2:function(A,e,t){return 0|(A=0|re(A|=0,e|=0,t|=0))||(i[t>>3]=6371.007180918475*+i[t>>3]*6371.007180918475*1e3*1e3),0|A},_cellAreaRads2:re,_cellToBoundary:YA,_cellToCenterChild:function(A,e,t,r){t|=0,r|=0;var i=0;return i=0|ze(0|(A|=0),0|(e|=0),52),S(),(0|t)<16&(0|(i&=15))<=(0|t)?((0|i)<(0|t)&&(i=0|Ve(-1,-1,3+(3*(t+-1-i|0)|0)|0),i=0|Ve(0|~i,0|~(0|S()),3*(15-t|0)|0),e=~(0|S())&e,A&=~i),i=0|Ve(0|t,0,52),t=-15728641&e|0|S(),n[r>>2]=A|i,n[r+4>>2]=t,0|(r=0)):0|(r=4)},_cellToChildPos:function(A,e,t,r){t|=0,r|=0;var i,s=0,o=0,a=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0;if(i=B,B=B+16|0,m=i,v=0|ze(0|(A|=0),0|(e|=0),52),S(),v&=15,t>>>0>15)return B=i,0|(v=4);if((0|v)<(0|t))return B=i,0|(v=12);if((0|v)!=(0|t))if(o=0|Ve(0|t,0,52),o|=A,c=0|S()|-15728641&e,(0|v)>(0|t)){l=t;do{_=0|Ve(7,0,3*(14-l|0)|0),l=l+1|0,o|=_,c=0|S()|c}while((0|l)<(0|v));_=o}else _=o;else _=A,c=e;g=0|ze(0|_,0|c,45),S();A:do{if(0|G(127&g)){if(l=0|ze(0|_,0|c,52),S(),0|(l&=15))for(o=1;;){if(!(0==((g=0|Ve(7,0,3*(15-o|0)|0))&_|0)&0==((0|S())&c|0))){u=33;break A}if(!(o>>>0<l>>>0))break;o=o+1|0}if(n[(g=r)>>2]=0,n[g+4>>2]=0,(0|v)>(0|t)){for(g=-15728641&e,p=v;;){if(d=p,(p=p+-1|0)>>>0>15|(0|v)<(0|p)){u=19;break}if((0|v)!=(0|p))if(o=0|Ve(0|p,0,52),o|=A,l=0|S()|g,(0|v)<(0|d))f=o;else{u=p;do{f=0|Ve(7,0,3*(14-u|0)|0),u=u+1|0,o|=f,l=0|S()|l}while((0|u)<(0|v));f=o}else f=A,l=e;if(h=0|ze(0|f,0|l,45),S(),0|G(127&h)){h=0|ze(0|f,0|l,52),S(),h&=15;e:do{if(h)for(u=1;;){if(o=0|ze(0|f,0|l,3*(15-u|0)|0),S(),0|(o&=7))break e;if(!(u>>>0<h>>>0)){o=0;break}u=u+1|0}else o=0}while(0);o=0==(0|o)&1}else o=0;if(l=0|ze(0|A,0|e,3*(15-d|0)|0),S(),7==(0|(l&=7))){s=5,u=42;break}if(1==(0|l)&(o=0!=(0|o))){s=5,u=42;break}if(0|(f=l+((0!=(0|l)&o)<<31>>31)|0)&&(u=0|ue(7,0,u=v-d|0,((0|u)<0)<<31>>31),h=0|S(),o?(o=0|Be(0|(o=0|Fe(0|u,0|h,5,0)),0|S(),-5,-1),o=0|Be(0|(o=0|Oe(0|o,0|S(),6,0)),0|S(),1,0),l=0|S()):(o=u,l=h),d=0|Be(0|o,0|l,0|(d=0|Fe(0|u,0|h,0|(d=f+-1|0),((0|d)<0)<<31>>31|0)),0|S()),h=0|Be(0|d,0|(f=0|S()),0|n[(h=r)>>2],0|n[h+4>>2]),f=0|S(),n[(d=r)>>2]=h,n[d+4>>2]=f),(0|p)<=(0|t)){u=37;break}}if(19==(0|u))C(23313,22674,1099,22710);else{if(37==(0|u)){s=0|n[(a=r)+4>>2],a=0|n[a>>2];break}if(42==(0|u))return B=i,0|s}}else s=0,a=0}else u=33}while(0);A:do{if(33==(0|u)){if(n[(g=r)>>2]=0,n[g+4>>2]=0,(0|v)>(0|t)){for(o=v;;){if(s=0|ze(0|A,0|e,3*(15-o|0)|0),S(),7==(0|(s&=7))){s=5;break}if(s=0|Fe(0|(a=0|ue(7,0,a=v-o|0,((0|a)<0)<<31>>31)),0|S(),0|s,0),a=0|S(),a=0|Be(0|n[(g=r)>>2],0|n[g+4>>2],0|s,0|a),s=0|S(),n[(g=r)>>2]=a,n[g+4>>2]=s,(0|(o=o+-1|0))<=(0|t))break A}return B=i,0|s}s=0,a=0}}while(0);return 0|OA(_,c,v,m)&&C(23313,22674,1063,22725),((0|s)>-1|-1==(0|s)&a>>>0>4294967295)&((0|(m=0|n[(v=m)+4>>2]))>(0|s)|((0|m)==(0|s)?(0|n[v>>2])>>>0>a>>>0:0))?(B=i,0|(v=0)):(C(23313,22674,1139,22710),0)},_cellToChildren:function(A,e,t,r){r|=0;var i,s,o=0,a=0;if(s=B,B=B+16|0,ZA(i=s,A|=0,e|=0,t|=0),0==(0|(A=0|n[(e=i)>>2]))&0==(0|(e=0|n[e+4>>2])))return B=s,0;o=0,t=0;do{n[(a=r+(o<<3)|0)>>2]=A,n[a+4>>2]=e,o=0|Be(0|o,0|t,1,0),t=0|S(),$A(i),A=0|n[(a=i)>>2],e=0|n[a+4>>2]}while(!(0==(0|A)&0==(0|e)));return B=s,0},_cellToChildrenSize:OA,_cellToLatLng:XA,_cellToLocalIj:function(A,e,t,r,n,i){var s,o;return A|=0,e|=0,t|=0,r|=0,i|=0,o=B,B=B+16|0,s=o,(n|=0)?A=15:(A=0|ce(A,e,t,r,s))||(vA(s,i),A=0),B=o,0|A},_cellToParent:DA,_cellToVertex:Ee,_cellToVertexes:function(A,e,t){t|=0;var r,i=0,s=0;return s=0==(0|FA(A|=0,e|=0)),r=0==(0|(i=0|Ee(A,e,0,t))),s?r?0|(i=0|Ee(A,e,1,t+8|0))||0|(i=0|Ee(A,e,2,t+16|0))||0|(i=0|Ee(A,e,3,t+24|0))||(i=0|Ee(A,e,4,t+32|0))?0|(s=i):0|Ee(A,e,5,t+40|0):0|(s=i):r?0|(i=0|Ee(A,e,1,t+8|0))||0|(i=0|Ee(A,e,2,t+16|0))||0|(i=0|Ee(A,e,3,t+24|0))||0|(i=0|Ee(A,e,4,t+32|0))?0|(s=i):(n[(s=t+40|0)>>2]=0,n[s+4>>2]=0,0|(s=0)):0|(s=i)},_cellsToDirectedEdge:function(A,e,t,r,i){return i|=0,7==(0|(t=0|N(A|=0,e|=0,t|=0,r|=0)))?0|(i=11):(r=0|Ve(0|t,0,56),e=-2130706433&e|0|S()|268435456,n[i>>2]=A|r,n[i+4>>2]=e,0|(i=0))},_cellsToLinkedMultiPolygon:function(A,e,t){t|=0;var r,i,s,o=0;if(s=B,B=B+32|0,r=s,A=0|function(A,e,t){A|=0,t|=0;var r,i,s=0,o=0,a=0,c=0,l=0,u=0;if(i=B,B=B+176|0,r=i,(0|(e|=0))<1)return be(t,0,0),B=i,0;for(l=0|ze(0|n[(l=A)>>2],0|n[l+4>>2],52),S(),be(t,(0|e)>6?e:6,15&l),l=0;!(0|(s=0|YA(0|n[(s=A+(l<<3)|0)>>2],0|n[s+4>>2],r)));){if((0|(s=0|n[r>>2]))>0){c=0;do{a=r+8+(c<<4)|0,(o=0|Ce(t,s=r+8+(((0|(c=c+1|0))%(0|s)|0)<<4)|0,a))?Te(t,o):Se(t,a,s),s=0|n[r>>2]}while((0|c)<(0|s))}if((0|(l=l+1|0))>=(0|e)){s=0,u=13;break}}return 13==(0|u)?(B=i,0|s):(we(t),B=i,0|(u=s))}(A|=0,e|=0,i=s+16|0),0|A)return B=s,0|(t=A);if(n[t>>2]=0,n[t+4>>2]=0,n[t+8>>2]=0,0|(A=0|ye(i)))do{e=0|ne(t);do{ie(e,A),o=A+16|0,n[r>>2]=n[o>>2],n[r+4>>2]=n[o+4>>2],n[r+8>>2]=n[o+8>>2],n[r+12>>2]=n[o+12>>2],Te(i,A),A=0|Re(i,r)}while(0!=(0|A));A=0|ye(i)}while(0!=(0|A));return we(i),(A=0|oe(t))?(se(t),B=s,0|(o=A)):(B=s,0|(o=0))},_childPosToCell:function(A,e,t,r,i,s){A|=0,e|=0,s|=0;var o,a=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0;if(o=B,B=B+16|0,a=o,(i|=0)>>>0>15)return B=o,0|(s=4);if(c=0|ze(0|(t|=0),0|(r|=0),52),S(),(0|(c&=15))>(0|i))return B=o,0|(s=12);if(0|OA(t,r,i,a)&&C(23313,22674,1063,22725),!(((0|e)>-1|-1==(0|e)&A>>>0>4294967295)&((0|(u=0|n[(h=a)+4>>2]))>(0|e)|((0|u)==(0|e)?(0|n[h>>2])>>>0>A>>>0:0))))return B=o,0|(s=2);h=i-c|0,i=0|Ve(0|i,0,52),l=0|S()|-15728641&r,n[(u=s)>>2]=i|t,n[u+4>>2]=l,u=0|ze(0|t,0|r,45),S();A:do{if(0|G(127&u)){if(0|c)for(a=1;;){if(!(0==((u=0|Ve(7,0,3*(15-a|0)|0))&t|0)&0==((0|S())&r|0)))break A;if(!(a>>>0<c>>>0))break;a=a+1|0}if((0|h)<1)return B=o,0|(s=0);for(u=15^c,r=-1,l=1,a=1;;){c=0|ue(7,0,c=h-l|0,((0|c)<0)<<31>>31),t=0|S();do{if(a){if(a=0|Oe(0|(a=0|Be(0|(a=0|Fe(0|c,0|t,5,0)),0|S(),-5,-1)),0|S(),6,0),(0|e)>(0|(i=0|S()))|(0|e)==(0|i)&A>>>0>a>>>0){e=0|Ie(0|(e=0|Be(0|A,0|e,-1,-1)),0|S(),0|a,0|i),a=0|S(),p=0|n[(f=s)>>2],f=0|n[f+4>>2],d=0|Ve(7,0,0|(g=3*(u+r|0)|0)),f&=~(0|S()),g=0|Ve(0|(i=0|Be(0|(r=0|Oe(0|e,0|a,0|c,0|t)),0|(A=0|S()),2,0)),0|S(),0|g),f=0|S()|f,n[(i=s)>>2]=g|p&~d,n[i+4>>2]=f,A=0|Ie(0|e,0|a,0|(A=0|Fe(0|r,0|A,0|c,0|t)),0|S()),a=0,e=0|S();break}d=0|n[(g=s)>>2],g=0|n[g+4>>2],p=0|Ve(7,0,3*(u+r|0)|0),g&=~(0|S()),n[(a=s)>>2]=d&~p,n[a+4>>2]=g,a=1;break}i=0|n[(d=s)>>2],d=0|n[d+4>>2],f=0|Ve(7,0,0|(r=3*(u+r|0)|0)),d&=~(0|S()),r=0|Ve(0|(g=0|Oe(0|A,0|e,0|c,0|t)),0|(a=0|S()),0|r),d=0|S()|d,n[(p=s)>>2]=r|i&~f,n[p+4>>2]=d,A=0|Ie(0|A,0|e,0|(a=0|Fe(0|g,0|a,0|c,0|t)),0|S()),a=0,e=0|S()}while(0);if(!((0|h)>(0|l))){e=0;break}r=~l,l=l+1|0}return B=o,0|e}}while(0);if((0|h)<1)return B=o,0|(g=0);for(i=15^c,a=1;;){if(p=0|ue(7,0,p=h-a|0,((0|p)<0)<<31>>31),g=0|S(),t=0|n[(l=s)>>2],l=0|n[l+4>>2],r=0|Ve(7,0,0|(c=3*(i-a|0)|0)),l&=~(0|S()),c=0|Ve(0|(f=0|Oe(0|A,0|e,0|p,0|g)),0|(d=0|S()),0|c),l=0|S()|l,n[(u=s)>>2]=c|t&~r,n[u+4>>2]=l,A=0|Ie(0|A,0|e,0|(g=0|Fe(0|f,0|d,0|p,0|g)),0|S()),e=0|S(),(0|h)<=(0|a)){e=0;break}a=a+1|0}return B=o,0|e},_compactCells:function(A,e,t,r){e|=0;var i,s=0,o=0,a=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0,b=0,w=0,y=0,T=0,R=0;if(0==(0|(t|=0))&0==(0|(r|=0)))return 0|(T=0);if(o=0|n[(s=A|=0)>>2],!0&0==(15728640&(s=0|n[s+4>>2])|0)){if(!((0|r)>0|0==(0|r)&t>>>0>0))return 0|(T=0);if(n[(T=e)>>2]=o,n[T+4>>2]=s,1==(0|t)&0==(0|r))return 0|(T=0);s=1;do{y=0|n[(w=A+(s<<3)|0)+4>>2],n[(T=e+(s<<3)|0)>>2]=n[w>>2],n[T+4>>2]=y,s=s+1|0}while(0<(0|r)|0==(0|r)&s>>>0<t>>>0);return 0|(s=0)}if(!(y=0|xe(i=t<<3)))return 0|(T=13);if(He(0|y,0|A,0|i),!(w=0|ke(t,8)))return Me(y),0|(T=13);A:do{if(0|t){e:for(;;){E=0|ze(0|(v=0|n[(s=y)>>2]),0|(s=0|n[s+4>>2]),52),S(),b=(E&=15)+-1|0,m=(0|t)>0;t:do{if(0!=(0|E)&m){if(p=((0|t)<0)<<31>>31,g=0|Ve(0|b,0,52),_=0|S(),b>>>0>15){if(!(0==(0|v)&0==(0|s))){T=17;break e}for(o=0;;){if((0|(o=o+1|0))>=(0|t))break t;if(!(0==(0|(_=0|n[(r=y+(o<<3)|0)>>2]))&0==(0|(r=0|n[r+4>>2])))){s=r,T=17;break e}}}for(o=0,A=v,r=s;;){if(!(0==(0|A)&0==(0|r))){if(!(!0&0==(117440512&r|0))){T=22;break e}if(c=0|ze(0|A,0|r,52),S(),(0|(c&=15))<(0|b)){s=12,T=28;break e}if((0|c)!=(0|b)&&(A|=g,r=-15728641&r|_,c>>>0>=E>>>0)){a=b;do{d=0|Ve(7,0,3*(14-a|0)|0),a=a+1|0,A|=d,r=0|S()|r}while(a>>>0<c>>>0)}if(a=0|Ue(0|A,0|r,0|t,0|p),S(),0==(0|(l=0|n[(c=u=w+(a<<3)|0)>>2]))&0==(0|(c=0|n[c+4>>2])))a=u;else for(d=0;;){if((0|d)>(0|t)){T=32;break e}if((0|l)==(0|A)&(-117440513&c|0)==(0|r)){h=0|ze(0|l,0|c,56),S(),f=(h&=7)+1|0,R=0|ze(0|l,0|c,45),S();r:do{if(0|G(127&R)){if(l=0|ze(0|l,0|c,52),S(),!(l&=15)){c=6;break}for(c=1;;){if(!(0==((R=0|Ve(7,0,3*(15-c|0)|0))&A|0)&0==((0|S())&r|0))){c=7;break r}if(!(c>>>0<l>>>0)){c=6;break}c=c+1|0}}else c=7}while(0);if((h+2|0)>>>0>c>>>0){T=42;break e}R=0|Ve(0|f,0,56),r=0|S()|-117440513&r,n[(f=u)>>2]=0,n[f+4>>2]=0,A|=R}else a=(a+1|0)%(0|t)|0;if(0==(0|(l=0|n[(c=u=w+(a<<3)|0)>>2]))&0==(0|(c=0|n[c+4>>2]))){a=u;break}d=d+1|0}n[(R=a)>>2]=A,n[R+4>>2]=r}if((0|(o=o+1|0))>=(0|t))break t;A=0|n[(r=y+(o<<3)|0)>>2],r=0|n[r+4>>2]}}}while(0);if((t+5|0)>>>0<11){T=85;break}if(!(_=0|ke((0|t)/6|0,8))){T=49;break}t:do{if(m){d=0,f=0;do{if(!(0==(0|(o=0|n[(r=c=w+(d<<3)|0)>>2]))&0==(0|(r=0|n[r+4>>2])))){l=0|ze(0|o,0|r,56),S(),A=(l&=7)+1|0,u=-117440513&r,R=0|ze(0|o,0|r,45),S();r:do{if(0|G(127&R)){if(h=0|ze(0|o,0|r,52),S(),0|(h&=15))for(a=1;;){if(!(0==(o&(R=0|Ve(7,0,3*(15-a|0)|0))|0)&0==(u&(0|S())|0)))break r;if(!(a>>>0<h>>>0))break;a=a+1|0}o|=r=0|Ve(0|A,0,56),r=0|S()|u,n[(A=c)>>2]=o,n[A+4>>2]=r,A=l+2|0}}while(0);7==(0|A)&&(n[(R=_+(f<<3)|0)>>2]=o,n[R+4>>2]=-117440513&r,f=f+1|0)}d=d+1|0}while((0|d)!=(0|t));if(m){if(d=((0|t)<0)<<31>>31,p=0|Ve(0|b,0,52),g=0|S(),b>>>0>15){if(!(0==(0|v)&0==(0|s))){s=4,T=84;break e}for(s=0;;){if((0|(s=s+1|0))>=(0|t)){o=0,s=f;break t}if(!(0==(0|n[(R=y+(s<<3)|0)>>2])&0==(0|n[R+4>>2]))){s=4,T=84;break e}}}for(h=0,o=0,u=v;;){do{if(!(0==(0|u)&0==(0|s))){if(c=0|ze(0|u,0|s,52),S(),(0|(c&=15))<(0|b)){s=12,T=84;break e}do{if((0|c)==(0|b))r=u,c=s;else{if(r=u|p,A=-15728641&s|g,c>>>0<E>>>0){c=A;break}a=b;do{R=0|Ve(7,0,3*(14-a|0)|0),a=a+1|0,r|=R,A=0|S()|A}while(a>>>0<c>>>0);c=A}}while(0);for(a=0|Ue(0|r,0|c,0|t,0|d),S(),A=0;;){if((0|A)>(0|t)){T=77;break e}if((-117440513&(l=0|n[(R=w+(a<<3)|0)+4>>2])|0)==(0|c)&&(0|n[R>>2])==(0|r)){T=79;break}if((0|n[(R=w+((a=(a+1|0)%(0|t)|0)<<3)|0)>>2])==(0|r)&&(0|n[R+4>>2])==(0|c))break;A=A+1|0}if(79==(0|T)&&(T=0,!0&100663296==(117440512&l|0)))break;n[(R=e+(o<<3)|0)>>2]=u,n[R+4>>2]=s,o=o+1|0}}while(0);if((0|(s=h+1|0))>=(0|t)){s=f;break t}h=s,u=0|n[(R=y+(s<<3)|0)>>2],s=0|n[R+4>>2]}}else o=0,s=f}else o=0,s=0}while(0);if(Xe(0|w,0,0|i),He(0|y,0|_,s<<3|0),Me(_),!s)break A;e=e+(o<<3)|0,t=s}if(17==(0|T))!0&0==(117440512&s|0)?(s=4,T=28):T=22;else if(32==(0|T))C(23313,22674,362,22684);else{if(42==(0|T))return Me(y),Me(w),0|(R=10);if(49==(0|T))return Me(y),Me(w),0|(R=13);if(77==(0|T))C(23313,22674,462,22684);else{if(84==(0|T))return Me(_),Me(y),Me(w),0|(R=s);if(85==(0|T)){He(0|e,0|y,t<<3|0);break}}}if(22==(0|T))return Me(y),Me(w),0|(R=5);if(28==(0|T))return Me(y),Me(w),0|(R=s)}}while(0);return Me(y),Me(w),0|(R=0)},_destroyLinkedMultiPolygon:se,_directedEdgeToBoundary:yA,_directedEdgeToCells:function(A,e,t){A|=0;var r,i,s,o=0;return r=B,B=B+16|0,o=r,!0&268435456==(2013265920&(e|=0)|0)?(i=-2130706433&e|134217728,n[(s=t|=0)>>2]=A,n[s+4>>2]=i,n[o>>2]=0,e=0|ze(0|A,0|e,56),S(),o=0|F(A,i,7&e,o,t+8|0),B=r,0|o):(B=r,0|(o=6))},_edgeLengthKm:function(A,e,t){t|=0;var r,s=0,o=0,a=0,c=0,u=0,d=0,p=0;if(r=B,B=B+176|0,0|(A=0|yA(A|=0,e|=0,c=r)))return c=A,a=+i[t>>3],a*=6371.007180918475,i[t>>3]=a,B=r,0|c;if(i[t>>3]=0,(0|(A=0|n[c>>2]))<=1)return c=0,a=0,a*=6371.007180918475,i[t>>3]=a,B=r,0|c;e=A+-1|0,A=0,s=+i[c+8>>3],o=+i[c+16>>3],a=0;do{d=s,s=+i[c+8+((A=A+1|0)<<4)>>3],p=+f(.5*(s-d)),u=o,o=+i[c+8+(A<<4)+8>>3],u=p*p+(u=+f(.5*(o-u)))*(+h(+d)*+h(+s)*u),a+=2*+m(+ +l(+u),+ +l(+(1-u)))}while((0|A)!=(0|e));return i[t>>3]=a,c=0,p=a,p*=6371.007180918475,i[t>>3]=p,B=r,0|c},_edgeLengthM:function(A,e,t){t|=0;var r,s=0,o=0,a=0,c=0,u=0,d=0,p=0;if(r=B,B=B+176|0,0|(A=0|yA(A|=0,e|=0,c=r)))return c=A,a=+i[t>>3],a*=6371.007180918475,a*=1e3,i[t>>3]=a,B=r,0|c;if(i[t>>3]=0,(0|(A=0|n[c>>2]))<=1)return c=0,a=0,a*=6371.007180918475,a*=1e3,i[t>>3]=a,B=r,0|c;e=A+-1|0,A=0,s=+i[c+8>>3],o=+i[c+16>>3],a=0;do{d=s,s=+i[c+8+((A=A+1|0)<<4)>>3],p=+f(.5*(s-d)),u=o,o=+i[c+8+(A<<4)+8>>3],u=p*p+(u=+f(.5*(o-u)))*(+h(+d)*+h(+s)*u),a+=2*+m(+ +l(+u),+ +l(+(1-u)))}while((0|A)!=(0|e));return i[t>>3]=a,c=0,p=a,p*=6371.007180918475,p*=1e3,i[t>>3]=p,B=r,0|c},_edgeLengthRads:function(A,e,t){t|=0;var r,s=0,o=0,a=0,c=0,u=0,d=0,p=0;if(r=B,B=B+176|0,0|(A=0|yA(A|=0,e|=0,c=r)))return B=r,0|(c=A);if(i[t>>3]=0,(0|(A=0|n[c>>2]))<=1)return B=r,0|(c=0);e=A+-1|0,A=0,s=+i[c+8>>3],o=+i[c+16>>3],a=0;do{d=s,s=+i[c+8+((A=A+1|0)<<4)>>3],p=+f(.5*(s-d)),u=o,o=+i[c+8+(A<<4)+8>>3],u=p*p+(u=+f(.5*(o-u)))*(+h(+s)*+h(+d)*u),a+=2*+m(+ +l(+u),+ +l(+(1-u)))}while((0|A)<(0|e));return i[t>>3]=a,B=r,0|(c=0)},_emscripten_replace_memory:function(A){return r=new Int8Array(A),new Uint8Array(A),n=new Int32Array(A),new Float32Array(A),i=new Float64Array(A),t=A,!0},_free:Me,_getBaseCellNumber:IA,_getDirectedEdgeDestination:function(A,e,t){A|=0,e|=0,t|=0;var r,i,s=0;return r=B,B=B+16|0,n[(s=r)>>2]=0,!0&268435456==(2013265920&e|0)?(i=0|ze(0|A,0|e,56),S(),s=0|F(A,-2130706433&e|134217728,7&i,s,t),B=r,0|s):(B=r,0|(s=6))},_getDirectedEdgeOrigin:function(A,e,t){return A|=0,t|=0,!0&268435456==(2013265920&(e|=0)|0)?(n[t>>2]=A,n[t+4>>2]=-2130706433&e|134217728,0|(t=0)):0|(t=6)},_getHexagonAreaAvgKm2:function(A,e){return e|=0,(A|=0)>>>0>15?0|(e=4):(i[e>>3]=+i[20528+(A<<3)>>3],0|(e=0))},_getHexagonAreaAvgM2:function(A,e){return e|=0,(A|=0)>>>0>15?0|(e=4):(i[e>>3]=+i[20656+(A<<3)>>3],0|(e=0))},_getHexagonEdgeLengthAvgKm:function(A,e){return e|=0,(A|=0)>>>0>15?0|(e=4):(i[e>>3]=+i[20784+(A<<3)>>3],0|(e=0))},_getHexagonEdgeLengthAvgM:function(A,e){return e|=0,(A|=0)>>>0>15?0|(e=4):(i[e>>3]=+i[20912+(A<<3)>>3],0|(e=0))},_getIcosahedronFaces:function A(e,t,r){r|=0;var i,s=0,o=0,a=0,c=0,l=0,u=0,h=0,f=0;i=B,B=B+128|0,h=i+112|0,a=i+96|0,f=i,o=0|ze(0|(e|=0),0|(t|=0),52),S(),l=15&o,n[h>>2]=l,c=0|ze(0|e,0|t,45),S(),c&=127;A:do{if(0|G(c)){if(0|l)for(s=1;;){if(!(0==((u=0|Ve(7,0,3*(15-s|0)|0))&e|0)&0==((0|S())&t|0))){o=0;break A}if(!(s>>>0<l>>>0))break;s=s+1|0}if(!(1&o))return u=0|Ve(l+1|0,0,52),f=0|S()|-15728641&t,f=0|A((u|e)&~(h=0|Ve(7,0,3*(14-l|0)|0)),f&~(0|S()),r),B=i,0|f;o=1}else o=0}while(0);if(!(s=0|HA(e,t,a))){o?(PA(a,h,f),u=5):(BA(a,h,f),u=6);A:do{if(0|G(c))if(l)for(s=1;;){if(!(0==((c=0|Ve(7,0,3*(15-s|0)|0))&e|0)&0==((0|S())&t|0))){e=2;break A}if(!(s>>>0<l>>>0)){e=5;break}s=s+1|0}else e=5;else e=2}while(0);Xe(0|r,-1,e<<2|0);A:do{if(o)for(a=0;;){if(MA(c=f+(a<<4)|0,0|n[h>>2]),c=0|n[c>>2],-1==(0|(l=0|n[r>>2]))|(0|l)==(0|c))s=r;else{o=0;do{if((o=o+1|0)>>>0>=e>>>0){s=1;break A}l=0|n[(s=r+(o<<2)|0)>>2]}while(!(-1==(0|l)|(0|l)==(0|c)))}if(n[s>>2]=c,(a=a+1|0)>>>0>=u>>>0){s=0;break}}else for(a=0;;){if(xA(c=f+(a<<4)|0,0|n[h>>2],0,1),c=0|n[c>>2],-1==(0|(l=0|n[r>>2]))|(0|l)==(0|c))s=r;else{o=0;do{if((o=o+1|0)>>>0>=e>>>0){s=1;break A}l=0|n[(s=r+(o<<2)|0)>>2]}while(!(-1==(0|l)|(0|l)==(0|c)))}if(n[s>>2]=c,(a=a+1|0)>>>0>=u>>>0){s=0;break}}}while(0)}return B=i,0|(f=s)},_getNumCells:ee,_getPentagons:KA,_getRes0Cells:function(A){A|=0;var e=0,t=0,r=0;e=0;do{Ve(0|e,0,45),r=134225919|S(),n[(t=A+(e<<3)|0)>>2]=-1,n[t+4>>2]=r,e=e+1|0}while(122!=(0|e));return 0},_getResolution:function(A,e){return e=0|ze(0|(A|=0),0|(e|=0),52),S(),15&e|0},_greatCircleDistanceKm:Ae,_greatCircleDistanceM:function(A,e){A|=0;var t,r,n,s=0;return r=+i[(e|=0)>>3],t=+i[A>>3],s=(n=+f(.5*(r-t)))*n+(s=+f(.5*(+i[e+8>>3]-+i[A+8>>3])))*(+h(+r)*+h(+t)*s),2*+m(+ +l(+s),+ +l(+(1-s)))*6371.007180918475*1e3},_greatCircleDistanceRads:function(A,e){A|=0;var t,r,n,s=0;return r=+i[(e|=0)>>3],t=+i[A>>3],s=(n=+f(.5*(r-t)))*n+(s=+f(.5*(+i[e+8>>3]-+i[A+8>>3])))*(+h(+r)*+h(+t)*s),2*+m(+ +l(+s),+ +l(+(1-s)))},_gridDisk:I,_gridDiskDistances:L,_gridDistance:function(A,e,t,r,i){t|=0,r|=0,i|=0;var s,o,a=0,c=0;return o=B,B=B+32|0,c=o,0|(s=0|ce(A|=0,e|=0,A,e,a=o+12|0))?(B=o,0|(c=s)):0|(A=0|ce(A,e,t,r,c))?(B=o,0|(c=A)):(a=0|mA(a,c),n[(c=i)>>2]=a,n[c+4>>2]=((0|a)<0)<<31>>31,B=o,0|(c=0))},_gridPathCells:function(A,e,t,r,i){t|=0,r|=0,i|=0;var s,o=0,a=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0,b=0,w=0,y=0,T=0,R=0,P=0;if(s=B,B=B+48|0,l=s+12|0,R=s,!(o=0|ce(A|=0,e|=0,A,e,a=s+24|0))&&!(o=0|ce(A,e,t,r,l))){T=((0|(y=0|mA(a,l)))<0)<<31>>31,n[a>>2]=0,n[a+4>>2]=0,n[a+8>>2]=0,n[l>>2]=0,n[l+4>>2]=0,n[l+8>>2]=0,0|ce(A,e,A,e,a)&&C(23313,23090,691,23299),0|ce(A,e,t,r,l)&&C(23313,23090,696,23299),bA(a),bA(l),y?(_=+(0|y),w=a,r=d=0|n[a>>2],o=p=0|n[(E=a+4|0)>>2],t=g=0|n[(b=a+8|0)>>2],m=+((0|n[l>>2])-d|0)/_,v=+((0|n[l+4>>2])-p|0)/_,_=+((0|n[l+8>>2])-g|0)/_):(E=o=a+4|0,b=t=a+8|0,w=a,r=0|n[a>>2],o=0|n[o>>2],t=0|n[t>>2],m=0,v=0,_=0),n[R>>2]=r,n[(g=R+4|0)>>2]=o,n[(p=R+8|0)>>2]=t;A:do{if((0|y)<0)o=0;else for(f=0,d=0,o=r;;){P=m*(h=+(d>>>0)+4294967296*+(0|f))+ +(0|o),u=v*h+ +(0|n[E>>2]),h=_*h+ +(0|n[b>>2]),t=~~+We(+P),a=~~+We(+u),o=~~+We(+h),P=+c(+(+(0|t)-P)),u=+c(+(+(0|a)-u)),h=+c(+(+(0|o)-h));do{if(!(P>u&P>h)){if(l=0-t|0,u>h){r=l-o|0;break}r=a,o=l-a|0;break}t=0-(a+o)|0,r=a}while(0);if(n[R>>2]=t,n[g>>2]=r,n[p>>2]=o,wA(R),0|(o=0|le(A,e,R,i+(d<<3)|0)))break A;if(!((0|f)<(0|T)|(0|f)==(0|T)&d>>>0<y>>>0)){o=0;break A}o=0|Be(0|d,0|f,1,0),f=l=0|S(),d=o,o=0|n[w>>2]}}while(0);return B=s,0|(R=o)}return B=s,0|(R=o)},_gridPathCellsSize:function(A,e,t,r,i){t|=0,r|=0,i|=0;var s,o=0,a=0,c=0;return s=B,B=B+32|0,c=s,(o=0|ce(A|=0,e|=0,A,e,a=s+12|0))||(o=0|ce(A,e,t,r,c))?(B=s,0|(c=o)):(r=0|Be(0|(r=0|mA(a,c)),((0|r)<0)<<31>>31|0,1,0),a=0|S(),n[(c=i)>>2]=r,n[c+4>>2]=a,B=s,0|(c=0))},_gridRingUnsafe:function(A,e,t,r){A|=0,e|=0,t|=0,r|=0;var i,s,o=0,a=0,c=0,l=0,u=0,h=0,f=0,d=0,p=0;if(s=B,B=B+16|0,p=s+8|0,n[(d=i=s)>>2]=A,n[d+4>>2]=e,!t)return n[(p=r)>>2]=A,n[p+4>>2]=e,B=s,0|(p=0);n[p>>2]=0;A:do{if(0|FA(A,e))A=9;else{if(a=(0|t)>0){o=0,d=A;do{if(0|(A=0|F(d,e,4,p,i)))break A;if(o=o+1|0,0|FA(d=0|n[(e=i)>>2],e=0|n[e+4>>2])){A=9;break A}}while((0|o)<(0|t));if(n[(f=r)>>2]=d,n[f+4>>2]=e,f=t+-1|0,a){h=0,A=1;do{if(o=22384+(h<<2)|0,5==(0|h))for(c=0|n[o>>2],a=0,o=A;;){if(0|(A=0|F(0|n[(A=i)>>2],0|n[A+4>>2],c,p,i)))break A;if((0|a)!=(0|f)){if(l=0|n[(u=i)>>2],u=0|n[u+4>>2],n[(A=r+(o<<3)|0)>>2]=l,n[A+4>>2]=u,0|FA(l,u)){A=9;break A}A=o+1|0}else A=o;if((0|(a=a+1|0))>=(0|t))break;o=A}else for(c=i,u=0|n[o>>2],l=0,o=A,a=0|n[c>>2],c=0|n[c+4>>2];;){if(0|(A=0|F(a,c,u,p,i)))break A;if(a=0|n[(c=i)>>2],c=0|n[c+4>>2],n[(A=r+(o<<3)|0)>>2]=a,n[A+4>>2]=c,A=o+1|0,0|FA(a,c)){A=9;break A}if((0|(l=l+1|0))>=(0|t))break;o=A}h=h+1|0}while(h>>>0<6);c=d,o=0|n[(A=i)>>2],a=e,A=0|n[A+4>>2]}else c=d,o=d,a=e,A=e}else n[(c=r)>>2]=A,n[c+4>>2]=e,c=A,o=A,a=e,A=e;A=(0|c)==(0|o)&(0|a)==(0|A)?0:9}}while(0);return B=s,0|(p=A)},_i64Add:Be,_i64Subtract:Ie,_isPentagon:FA,_isResClassIII:function(A,e){return e=0|ze(0|(A|=0),0|(e|=0),52),S(),1&e|0},_isValidCell:LA,_isValidDirectedEdge:function(A,e){var t=0;switch(t=0|ze(0|(A|=0),0|(e|=0),56),S(),7&t){case 0:case 7:return 0|(t=0)}return t=-2130706433&e|134217728,!0&268435456==(2013265920&e|0)?!0&16777216==(117440512&e|0)&0!=(0|FA(A,t))?0|(t=0):0|(t=0|LA(A,t)):0|(t=0)},_isValidVertex:function(A,e){A|=0;var t,r,i=0,s=0;return r=B,B=B+16|0,t=r,!0&536870912==(2013265920&(e|=0)|0)&&0|LA(A,i=-2130706433&e|134217728)?(s=0|ze(0|A,0|e,56),S(),i=(s=0==(0|Ee(A,i,7&s,t)))&((0|n[(i=t)>>2])==(0|A)?(0|n[i+4>>2])==(0|e):0)&1,B=r,0|i):(B=r,0|(i=0))},_latLngToCell:jA,_llvm_maxnum_f64:Qe,_llvm_minnum_f64:je,_llvm_round_f64:We,_localIjToCell:function(A,e,t,r,n){var i,s;return A|=0,e|=0,t|=0,n|=0,s=B,B=B+16|0,i=s,(r|=0)?t=15:(t=0|EA(t,i))||(t=0|le(A,e,i,n)),B=s,0|t},_malloc:xe,_maxFaceCount:function(A,e,t){t|=0;var r=0,i=0;if(i=0|ze(0|(A|=0),0|(e|=0),45),S(),!(0|G(127&i)))return i=2,n[t>>2]=i,0;if(i=0|ze(0|A,0|e,52),S(),!(i&=15))return i=5,n[t>>2]=i,0;for(r=1;;){if(!(0==((0|Ve(7,0,3*(15-r|0)|0))&A|0)&0==((0|S())&e|0))){r=2,A=6;break}if(!(r>>>0<i>>>0)){r=5,A=6;break}r=r+1|0}return 6==(0|A)?(n[t>>2]=r,0):0},_maxGridDiskSize:function(A,e){e|=0;var t=0,r=0,i=0;return(0|(A|=0))<0?0|(e=2):(0|A)>13780509?0|(e=0|ee(15,e)):(i=0|Fe(0|A,0|(t=((0|A)<0)<<31>>31),3,0),r=0|S(),t=0|Be(0|A,0|t,1,0),t=0|Be(0|(t=0|Fe(0|i,0|r,0|t,0|S())),0|S(),1,0),A=0|S(),n[e>>2]=t,n[e+4>>2]=A,0|(e=0))},_maxPolygonToCellsSize:function(A,e,t,r){e|=0,r|=0;var i,s=0,o=0,a=0,c=0,l=0;if(i=B,B=B+48|0,s=i+16|0,o=i+8|0,a=i,0|(t|=0))return B=i,0|(a=15);if(c=0|n[(l=A|=0)+4>>2],n[(t=o)>>2]=n[l>>2],n[t+4>>2]=c,fe(o,s),!(e=0|K(s,e,a))){if(t=0|n[o>>2],(0|(o=0|n[A+8>>2]))>0){s=0|n[A+12>>2],e=0;do{t=(0|n[s+(e<<3)>>2])+t|0,e=e+1|0}while((0|e)<(0|o))}s=0|n[(e=a)>>2],(0|(e=0|n[e+4>>2]))<(0|(o=((0|t)<0)<<31>>31))|(0|e)==(0|o)&s>>>0<t>>>0?(n[(e=a)>>2]=t,n[e+4>>2]=o,e=o):t=s,c=0|Be(0|t,0|e,12,0),l=0|S(),n[(e=a)>>2]=c,n[e+4>>2]=l,n[(e=r)>>2]=c,n[e+4>>2]=l,e=0}return B=i,0|(l=e)},_memcpy:He,_memset:Xe,_originToDirectedEdges:function(A,e,t){t|=0;var r,i=0;return r=0==(0|FA(A|=0,e|=0)),e&=-2130706433,n[(i=t)>>2]=r?A:0,n[i+4>>2]=r?285212672|e:0,n[(i=t+8|0)>>2]=A,n[i+4>>2]=301989888|e,n[(i=t+16|0)>>2]=A,n[i+4>>2]=318767104|e,n[(i=t+24|0)>>2]=A,n[i+4>>2]=335544320|e,n[(i=t+32|0)>>2]=A,n[i+4>>2]=352321536|e,n[(t=t+40|0)>>2]=A,n[t+4>>2]=369098752|e,0},_pentagonCount:function(){return 12},_polygonToCells:function(A,e,t,r){e|=0,r|=0;var i,s,o,a,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0,_=0,m=0,v=0,E=0,b=0,w=0,y=0,T=0,C=0,R=0,P=0,x=0,M=0,k=0,I=0,L=0,F=0,N=0,G=0;if(a=B,B=B+112|0,i=a+80|0,f=a+72|0,s=a,o=a+56|0,0|(t|=0))return B=a,0|(G=15);if(!(G=0|xe(32+(n[(d=(A|=0)+8|0)>>2]<<5)|0)))return B=a,0|(G=13);if(de(A,G),N=0|n[(F=A)+4>>2],n[(t=f)>>2]=n[F>>2],n[t+4>>2]=N,fe(f,i),t=0|K(i,e,s))F=0,N=0;else{if(t=0|n[f>>2],(0|(l=0|n[d>>2]))>0){u=0|n[A+12>>2],c=0;do{t=(0|n[u+(c<<3)>>2])+t|0,c=c+1|0}while((0|c)!=(0|l));c=t}else c=t;l=0|n[(t=s)>>2],(0|(t=0|n[t+4>>2]))<(0|(u=((0|c)<0)<<31>>31))|(0|t)==(0|u)&l>>>0<c>>>0?(n[(t=s)>>2]=c,n[t+4>>2]=u,t=u):c=l,F=0|Be(0|c,0|t,12,0),N=0|S(),n[(t=s)>>2]=F,n[t+4>>2]=N,t=0}if(0|t)return Me(G),B=a,0|(G=t);if(!(c=0|ke(F,8)))return Me(G),B=a,0|(G=13);if(!(h=0|ke(F,8)))return Me(G),Me(c),B=a,0|(G=13);n[(I=i)>>2]=0,n[I+4>>2]=0,L=0|n[(I=A)+4>>2],n[(t=f)>>2]=n[I>>2],n[t+4>>2]=L,t=0|U(f,F,N,e,i,c,h);A:do{if(t)Me(c),Me(h),Me(G);else{e:do{if((0|n[d>>2])>0){for(u=A+12|0,l=0;t=0|U((0|n[u>>2])+(l<<3)|0,F,N,e,i,c,h),l=l+1|0,!(0|t);)if((0|l)>=(0|n[d>>2]))break e;Me(c),Me(h),Me(G);break A}}while(0);(0|N)>0|0==(0|N)&F>>>0>0&&Xe(0|h,0,F<<3|0),I=0|n[(L=i)+4>>2];e:do{if((0|I)>0|0==(0|I)&(0|n[L>>2])>>>0>0){x=c,M=h,k=c,I=h,L=c,t=c,C=c,R=h,P=h,c=h;t:for(;;){for(b=0,w=0,y=0,T=0,l=0,u=0;;){f=(h=s)+56|0;do{n[h>>2]=0,h=h+4|0}while((0|h)<(0|f));if(0|D(d=0|n[(e=x+(b<<3)|0)>>2],e=0|n[e+4>>2],1,s,0)){f=(h=s)+56|0;do{n[h>>2]=0,h=h+4|0}while((0|h)<(0|f));0|(h=0|ke(7,4))&&(O(d,e,1,s,h,7,0,0),Me(h))}for(E=0;;){m=0|n[(v=s+(E<<3)|0)>>2],v=0|n[v+4>>2];r:do{if(0==(0|m)&0==(0|v))h=l,f=u;else{if(p=0|Ue(0|m,0|v,0|F,0|N),d=0|S(),!(0==(0|(f=0|n[(e=h=r+(p<<3)|0)>>2]))&0==(0|(e=0|n[e+4>>2])))){g=0,_=0;do{if((0|g)>(0|N)|(0|g)==(0|N)&_>>>0>F>>>0)break t;if((0|f)==(0|m)&(0|e)==(0|v)){h=l,f=u;break r}p=0|Ne(0|(h=0|Be(0|p,0|d,1,0)),0|S(),0|F,0|N),d=0|S(),_=0|Be(0|_,0|g,1,0),g=0|S(),f=0|n[(e=h=r+(p<<3)|0)>>2],e=0|n[e+4>>2]}while(!(0==(0|f)&0==(0|e)))}0==(0|m)&0==(0|v)?(h=l,f=u):(XA(m,v,o),0|pe(A,G,o)&&(_=0|Be(0|l,0|u,1,0),u=0|S(),n[(g=h)>>2]=m,n[g+4>>2]=v,n[(l=M+(l<<3)|0)>>2]=m,n[l+4>>2]=v,l=_),h=l,f=u)}}while(0);if((E=E+1|0)>>>0>=7)break;l=h,u=f}if(b=0|Be(0|b,0|w,1,0),w=0|S(),y=0|Be(0|y,0|T,1,0),T=0|S(),l=0|n[(u=i)>>2],!((0|T)<(0|(u=0|n[u+4>>2]))|(0|T)==(0|u)&y>>>0<l>>>0))break;l=h,u=f}if((0|u)>0|0==(0|u)&l>>>0>0){l=0,u=0;do{n[(T=x+(l<<3)|0)>>2]=0,n[T+4>>2]=0,l=0|Be(0|l,0|u,1,0),u=0|S(),y=0|n[(T=i)+4>>2]}while((0|u)<(0|y)|((0|u)==(0|y)?l>>>0<(0|n[T>>2])>>>0:0))}if(n[(T=i)>>2]=h,n[T+4>>2]=f,!((0|f)>0|0==(0|f)&h>>>0>0))break e;E=c,b=P,w=L,y=R,T=M,c=C,P=t,R=k,C=E,t=b,L=I,I=w,k=y,M=x,x=T}Me(k),Me(I),Me(G),t=1;break A}t=h}while(0);Me(G),Me(c),Me(t),t=0}}while(0);return B=a,0|(G=t)},_readInt64AsDoubleFromPointer:function(A){return+(+((0|n[(A|=0)>>2])>>>0)+4294967296*+(0|n[A+4>>2]))},_res0CellCount:function(){return 122},_round:Ye,_sbrk:Ke,_sizeOfCellBoundary:function(){return 168},_sizeOfCoordIJ:function(){return 8},_sizeOfGeoLoop:function(){return 8},_sizeOfGeoPolygon:function(){return 16},_sizeOfH3Index:function(){return 8},_sizeOfLatLng:function(){return 16},_sizeOfLinkedGeoPolygon:function(){return 12},_uncompactCells:function(A,e,t,r,i,s,o){A|=0,r|=0,i|=0,s|=0;var a,c=0,l=0,u=0,h=0,f=0,d=0,p=0,g=0;if(a=B,B=B+16|0,g=a,!((0|(t|=0))>0|0==(0|t)&(e|=0)>>>0>0))return B=a,0|(g=0);if((0|(o|=0))>=16)return B=a,0|(g=12);d=0,p=0,f=0,c=0;A:for(;;){if(h=0|ze(0|(l=0|n[(u=A+(d<<3)|0)>>2]),0|(u=0|n[u+4>>2]),52),S(),(15&h|0)>(0|o)){c=12,l=11;break}if(ZA(g,l,u,o),0==(0|(u=0|n[(h=g)>>2]))&0==(0|(h=0|n[h+4>>2])))l=f;else{l=f;do{if(!((0|c)<(0|s)|(0|c)==(0|s)&l>>>0<i>>>0)){l=10;break A}n[(f=r+(l<<3)|0)>>2]=u,n[f+4>>2]=h,l=0|Be(0|l,0|c,1,0),c=0|S(),$A(g),u=0|n[(f=g)>>2],h=0|n[f+4>>2]}while(!(0==(0|u)&0==(0|h)))}if(d=0|Be(0|d,0|p,1,0),!((0|(p=0|S()))<(0|t)|(0|p)==(0|t)&d>>>0<e>>>0)){c=0,l=11;break}f=l}return 10==(0|l)?(B=a,0|(g=14)):11==(0|l)?(B=a,0|c):0},_uncompactCellsSize:function(A,e,t,r,i){A|=0,e|=0,t|=0,r|=0,i|=0;var s,o,a=0,c=0,l=0,u=0,h=0,f=0;o=B,B=B+16|0,s=o;A:do{if((0|t)>0|0==(0|t)&e>>>0>0){for(h=0,c=0,a=0,f=0;;){if(!(0==(0|(l=0|n[(u=A+(h<<3)|0)>>2]))&0==(0|(u=0|n[u+4>>2]))||(u=0==(0|OA(l,u,r,s)),c=0|Be(0|n[(l=s)>>2],0|n[l+4>>2],0|c,0|a),a=0|S(),u))){a=12;break}if(h=0|Be(0|h,0|f,1,0),!((0|(f=0|S()))<(0|t)|(0|f)==(0|t)&h>>>0<e>>>0))break A}return B=o,0|a}c=0,a=0}while(0);return n[i>>2]=c,n[i+4>>2]=a,B=o,0|(i=0)},_vertexToLatLng:function(A,e,t){t|=0;var r,i,s,o,a=0,c=0;return o=B,B=B+192|0,i=o,s=o+168|0,a=0|ze(0|(A|=0),0|(e|=0),56),S(),a&=7,0|(r=0|HA(A,c=-2130706433&e|134217728,s))?(B=o,0|(c=r)):(e=0|ze(0|A,0|e,52),S(),e&=15,0|FA(A,c)?RA(s,e,a,1,i):kA(s,e,a,1,i),c=i+8|0,n[t>>2]=n[c>>2],n[t+4>>2]=n[c+4>>2],n[t+8>>2]=n[c+8>>2],n[t+12>>2]=n[c+12>>2],B=o,0|(c=0))},establishStackSpace:function(A,e){B=A|=0},stackAlloc:function(A){var e;return e=B,B=(B=B+(A|=0)|0)+15&-16,0|e},stackRestore:function(A){B=A|=0},stackSave:function(){return 0|B}}}({Math:Math,Int8Array:Int8Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Float32Array:Float32Array,Float64Array:Float64Array},{a:oA,b:function(A){c=A},c:function(){return c},d:function(A,e,t,r){oA("Assertion failed: "+d(A)+", at: "+[e?d(e):"unknown filename",t,r?d(r):"unknown function"])},e:function(A){return t.___errno_location&&(v[t.___errno_location()>>2]=A),A},f:W,g:function(A,e,t){_.set(_.subarray(e,e+t),A)},h:function(A){var e=W(),t=16777216,r=2130706432;if(A>r)return!1;for(var n=Math.max(e,16777216);n<A;)n=n<=536870912?w(2*n,t):Math.min(w((3*n+2147483648)/4,t),r);return!!H(n)},i:function(A){oA("OOM")},j:V,k:Q,l:H,m:j,n:function(){var A=j();return t.extraStackTrace&&(A+="\n"+t.extraStackTrace()),Q(A)},o:24144,p:24128},p),q=(t.___divdi3=$.___divdi3,t.___muldi3=$.___muldi3,t.___remdi3=$.___remdi3,t.___uremdi3=$.___uremdi3,t._areNeighborCells=$._areNeighborCells,t._bitshift64Ashr=$._bitshift64Ashr,t._bitshift64Lshr=$._bitshift64Lshr,t._bitshift64Shl=$._bitshift64Shl,t._calloc=$._calloc,t._cellAreaKm2=$._cellAreaKm2,t._cellAreaM2=$._cellAreaM2,t._cellAreaRads2=$._cellAreaRads2,t._cellToBoundary=$._cellToBoundary,t._cellToCenterChild=$._cellToCenterChild,t._cellToChildPos=$._cellToChildPos,t._cellToChildren=$._cellToChildren,t._cellToChildrenSize=$._cellToChildrenSize,t._cellToLatLng=$._cellToLatLng,t._cellToLocalIj=$._cellToLocalIj,t._cellToParent=$._cellToParent,t._cellToVertex=$._cellToVertex,t._cellToVertexes=$._cellToVertexes,t._cellsToDirectedEdge=$._cellsToDirectedEdge,t._cellsToLinkedMultiPolygon=$._cellsToLinkedMultiPolygon,t._childPosToCell=$._childPosToCell,t._compactCells=$._compactCells,t._destroyLinkedMultiPolygon=$._destroyLinkedMultiPolygon,t._directedEdgeToBoundary=$._directedEdgeToBoundary,t._directedEdgeToCells=$._directedEdgeToCells,t._edgeLengthKm=$._edgeLengthKm,t._edgeLengthM=$._edgeLengthM,t._edgeLengthRads=$._edgeLengthRads,t._emscripten_replace_memory=$._emscripten_replace_memory),J=(t._free=$._free,t._getBaseCellNumber=$._getBaseCellNumber,t._getDirectedEdgeDestination=$._getDirectedEdgeDestination,t._getDirectedEdgeOrigin=$._getDirectedEdgeOrigin,t._getHexagonAreaAvgKm2=$._getHexagonAreaAvgKm2,t._getHexagonAreaAvgM2=$._getHexagonAreaAvgM2,t._getHexagonEdgeLengthAvgKm=$._getHexagonEdgeLengthAvgKm,t._getHexagonEdgeLengthAvgM=$._getHexagonEdgeLengthAvgM,t._getIcosahedronFaces=$._getIcosahedronFaces,t._getNumCells=$._getNumCells,t._getPentagons=$._getPentagons,t._getRes0Cells=$._getRes0Cells,t._getResolution=$._getResolution,t._greatCircleDistanceKm=$._greatCircleDistanceKm,t._greatCircleDistanceM=$._greatCircleDistanceM,t._greatCircleDistanceRads=$._greatCircleDistanceRads,t._gridDisk=$._gridDisk,t._gridDiskDistances=$._gridDiskDistances,t._gridDistance=$._gridDistance,t._gridPathCells=$._gridPathCells,t._gridPathCellsSize=$._gridPathCellsSize,t._gridRingUnsafe=$._gridRingUnsafe,t._i64Add=$._i64Add,t._i64Subtract=$._i64Subtract,t._isPentagon=$._isPentagon,t._isResClassIII=$._isResClassIII,t._isValidCell=$._isValidCell,t._isValidDirectedEdge=$._isValidDirectedEdge,t._isValidVertex=$._isValidVertex,t._latLngToCell=$._latLngToCell,t._llvm_maxnum_f64=$._llvm_maxnum_f64,t._llvm_minnum_f64=$._llvm_minnum_f64,t._llvm_round_f64=$._llvm_round_f64,t._localIjToCell=$._localIjToCell,t._malloc=$._malloc,t._maxFaceCount=$._maxFaceCount,t._maxGridDiskSize=$._maxGridDiskSize,t._maxPolygonToCellsSize=$._maxPolygonToCellsSize,t._memcpy=$._memcpy,t._memset=$._memset,t._originToDirectedEdges=$._originToDirectedEdges,t._pentagonCount=$._pentagonCount,t._polygonToCells=$._polygonToCells,t._readInt64AsDoubleFromPointer=$._readInt64AsDoubleFromPointer,t._res0CellCount=$._res0CellCount,t._round=$._round,t._sbrk=$._sbrk,t._sizeOfCellBoundary=$._sizeOfCellBoundary,t._sizeOfCoordIJ=$._sizeOfCoordIJ,t._sizeOfGeoLoop=$._sizeOfGeoLoop,t._sizeOfGeoPolygon=$._sizeOfGeoPolygon,t._sizeOfH3Index=$._sizeOfH3Index,t._sizeOfLatLng=$._sizeOfLatLng,t._sizeOfLinkedGeoPolygon=$._sizeOfLinkedGeoPolygon,t._uncompactCells=$._uncompactCells,t._uncompactCellsSize=$._uncompactCellsSize,t._vertexToLatLng=$._vertexToLatLng,t.establishStackSpace=$.establishStackSpace,t.stackAlloc=$.stackAlloc),AA=t.stackRestore=$.stackRestore,eA=t.stackSave=$.stackSave;if(t.asm=$,t.cwrap=function(A,e,t,r){var n=(t=t||[]).every((function(A){return"number"===A}));return"string"!==e&&n&&!r?u(A):function(){return h(A,e,t,arguments)}},t.setValue=function(A,e,t,r){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":g[A>>0]=e;break;case"i16":m[A>>1]=e;break;case"i32":v[A>>2]=e;break;case"i64":N=[e>>>0,(F=e,+M(F)>=1?F>0?(0|I(+B(F/4294967296),4294967295))>>>0:~~+k((F-+(~~F>>>0))/4294967296)>>>0:0)],v[A>>2]=N[0],v[A+4>>2]=N[1];break;case"float":E[A>>2]=e;break;case"double":b[A>>3]=e;break;default:oA("invalid type for setValue: "+t)}},t.getValue=function(A,e,t){switch("*"===(e=e||"i8").charAt(e.length-1)&&(e="i32"),e){case"i1":case"i8":return g[A>>0];case"i16":return m[A>>1];case"i32":case"i64":return v[A>>2];case"float":return E[A>>2];case"double":return b[A>>3];default:oA("invalid type for getValue: "+e)}return null},U){z(U)||(K=U,U=t.locateFile?t.locateFile(K,s):s+K),L++,t.monitorRunDependencies&&t.monitorRunDependencies(L);var tA=function(A){A.byteLength&&(A=new Uint8Array(A)),_.set(A,8),t.memoryInitializerRequest&&delete t.memoryInitializerRequest.response,function(A){if(L--,t.monitorRunDependencies&&t.monitorRunDependencies(L),0==L&&(null!==D&&(clearInterval(D),D=null),O)){var e=O;O=null,e()}}()},rA=function(){n(U,tA,(function(){throw"could not load memory initializer "+U}))},nA=Y(U);if(nA)tA(nA.buffer);else if(t.memoryInitializerRequest){var iA=function(){var A=t.memoryInitializerRequest,e=A.response;if(200!==A.status&&0!==A.status){var r=Y(t.memoryInitializerRequestURL);if(!r)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+A.status+", retrying "+U),void rA();e=r.buffer}tA(e)};t.memoryInitializerRequest.response?setTimeout(iA,0):t.memoryInitializerRequest.addEventListener("load",iA)}else rA()}function sA(A){function e(){Z||(Z=!0,l||(S(R),S(P),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)A=t.postRun.shift(),x.unshift(A);var A;S(x)}()))}A=A||i,L>0||(!function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)A=t.preRun.shift(),C.unshift(A);var A;S(C)}(),L>0||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e()))}function oA(A){throw t.onAbort&&t.onAbort(A),o(A+=""),a(A),l=!0,"abort("+A+"). Build with -s ASSERTIONS=1 for more info."}if(O=function A(){Z||sA(),Z||(O=A)},t.run=sA,t.abort=oA,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return sA(),A}("object"==typeof r?r:{}),n="number",i={0:"Success",1:"The operation failed but a more specific error is not available",2:"Argument was outside of acceptable range",3:"Latitude or longitude arguments were outside of acceptable range",4:"Resolution argument was outside of acceptable range",5:"Cell argument was not valid",6:"Directed edge argument was not valid",7:"Undirected edge argument was not valid",8:"Vertex argument was not valid",9:"Pentagon distortion was encountered",10:"Duplicate input",11:"Cell arguments were not neighbors",12:"Cell arguments had incompatible resolutions",13:"Memory allocation failed",14:"Bounds of provided memory were insufficient",15:"Mode or flags argument was not valid"},s=1e3,o={1e3:"Unknown unit",1001:"Array length out of bounds",1002:"Got unexpected null value for H3 index"};function a(A,e,t){var r=t&&"value"in t,n=new Error((A[e]||"Unknown error")+" (code: "+e+(r?", value: "+t.value:"")+")");return n.code=e,n}function c(A,e){var t=2===arguments.length?{value:e}:{};return a(i,A,t)}function l(A,e){var t=2===arguments.length?{value:e}:{};return a(o,A,t)}function u(A){if(0!==A)throw c(A)}var h={};[["sizeOfH3Index",n],["sizeOfLatLng",n],["sizeOfCellBoundary",n],["sizeOfGeoLoop",n],["sizeOfGeoPolygon",n],["sizeOfLinkedGeoPolygon",n],["sizeOfCoordIJ",n],["readInt64AsDoubleFromPointer",n],["isValidCell",n,[n,n]],["latLngToCell",n,[n,n,n,n]],["cellToLatLng",n,[n,n,n]],["cellToBoundary",n,[n,n,n]],["maxGridDiskSize",n,[n,n]],["gridDisk",n,[n,n,n,n]],["gridDiskDistances",n,[n,n,n,n,n]],["gridRingUnsafe",n,[n,n,n,n]],["maxPolygonToCellsSize",n,[n,n,n,n]],["polygonToCells",n,[n,n,n,n]],["cellsToLinkedMultiPolygon",n,[n,n,n]],["destroyLinkedMultiPolygon",null,[n]],["compactCells",n,[n,n,n,n]],["uncompactCells",n,[n,n,n,n,n,n]],["uncompactCellsSize",n,[n,n,n,n,n]],["isPentagon",n,[n,n]],["isResClassIII",n,[n,n]],["getBaseCellNumber",n,[n,n]],["getResolution",n,[n,n]],["maxFaceCount",n,[n,n,n]],["getIcosahedronFaces",n,[n,n,n]],["cellToParent",n,[n,n,n,n]],["cellToChildren",n,[n,n,n,n]],["cellToCenterChild",n,[n,n,n,n]],["cellToChildrenSize",n,[n,n,n,n]],["cellToChildPos",n,[n,n,n,n]],["childPosToCell",n,[n,n,n,n,n,n]],["areNeighborCells",n,[n,n,n,n,n]],["cellsToDirectedEdge",n,[n,n,n,n,n]],["getDirectedEdgeOrigin",n,[n,n,n]],["getDirectedEdgeDestination",n,[n,n,n]],["isValidDirectedEdge",n,[n,n]],["directedEdgeToCells",n,[n,n,n]],["originToDirectedEdges",n,[n,n,n]],["directedEdgeToBoundary",n,[n,n,n]],["gridDistance",n,[n,n,n,n,n]],["gridPathCells",n,[n,n,n,n,n]],["gridPathCellsSize",n,[n,n,n,n,n]],["cellToLocalIj",n,[n,n,n,n,n,n]],["localIjToCell",n,[n,n,n,n,n]],["getHexagonAreaAvgM2",n,[n,n]],["getHexagonAreaAvgKm2",n,[n,n]],["getHexagonEdgeLengthAvgM",n,[n,n]],["getHexagonEdgeLengthAvgKm",n,[n,n]],["greatCircleDistanceM",n,[n,n]],["greatCircleDistanceKm",n,[n,n]],["greatCircleDistanceRads",n,[n,n]],["cellAreaM2",n,[n,n,n]],["cellAreaKm2",n,[n,n,n]],["cellAreaRads2",n,[n,n,n]],["edgeLengthM",n,[n,n,n]],["edgeLengthKm",n,[n,n,n]],["edgeLengthRads",n,[n,n,n]],["getNumCells",n,[n,n]],["getRes0Cells",n,[n]],["res0CellCount",n],["getPentagons",n,[n,n]],["pentagonCount",n],["cellToVertex",n,[n,n,n,n]],["cellToVertexes",n,[n,n,n]],["vertexToLatLng",n,[n,n,n]],["isValidVertex",n,[n,n]]].forEach((function(A){h[A[0]]=r.cwrap.apply(r,A)}));var f=16,d=h.sizeOfH3Index(),p=h.sizeOfLatLng(),g=h.sizeOfCellBoundary(),_=(h.sizeOfGeoPolygon(),h.sizeOfGeoLoop(),h.sizeOfLinkedGeoPolygon(),h.sizeOfCoordIJ(),"m"),m="km";function v(A){if("number"!=typeof A||A<0||A>15||Math.floor(A)!==A)throw c(4,A);return A}function E(A){if(!A)throw l(1002);return A}Math.pow(2,32);var b=/[^0-9a-fA-F]/;function w(A){if(Array.isArray(A)&&2===A.length&&Number.isInteger(A[0])&&Number.isInteger(A[1]))return A;if("string"!=typeof A||b.test(A))return[0,0];var e=parseInt(A.substring(0,A.length-8),f);return[parseInt(A.substring(A.length-8),f),e]}function y(A){if(A>=0)return A.toString(f);var e=T(8,(A&=2147483647).toString(f));return e=(parseInt(e[0],f)+8).toString(f)+e.substring(1)}function T(A,e){for(var t=A-e.length,r="",n=0;n<t;n++)r+="0";return r+=e}Math.pow(2,32);function S(A,e){void 0===e&&(e=0);var t=r.getValue(A+d*e,"i32"),n=r.getValue(A+d*e+4,"i32");return n?function(A,e){return y(e)+T(8,y(A))}(t,n):null}function C(A,e){return void 0===e&&(e=0),r.getValue(A+8*e,"double")}function R(A){return h.readInt64AsDoubleFromPointer(A)}function P(A){return 180*r.getValue(A,"double")/Math.PI}function x(A){return[P(A),P(A+8)]}function M(A){return[P(A+8),P(A)]}function k(A,e,t){for(var n=r.getValue(A,"i32"),i=A+8,s=[],o=e?M:x,a=0;a<2*n;a+=2)s.push(o(i+8*a));return t&&s.push(s[0]),s}function B(A){var e=w(A),t=e[0],r=e[1];return Boolean(h.isPentagon(t,r))}function I(A){var e=r._malloc(p),t=w(A),n=t[0],i=t[1];try{return u(h.cellToLatLng(n,i,e)),x(e)}finally{r._free(e)}}function L(A,e){v(A);var t=r._malloc(8);try{switch(e){case _:u(h.getHexagonEdgeLengthAvgM(A,t));break;case m:u(h.getHexagonEdgeLengthAvgKm(A,t));break;default:throw l(s,e)}return C(t)}finally{r._free(t)}}function D(A){return A*Math.PI/180}var O=t(1420),F=t(7277),N=t(5801),U=t(8427);class G extends O.A{static{this.layerName="CompositeLayer"}get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every((A=>A.isLoaded))}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(A){}setState(A){super.setState(A),this.setNeedsUpdate()}getPickingInfo({info:A}){const{object:e}=A;return e&&e.__source&&e.__source.parent&&e.__source.parent.id===this.id?(A.object=e.__source.object,A.index=e.__source.index,A):A}filterSubLayer(A){return!0}shouldRenderSubLayer(A,e){return e&&e.length}getSubLayerClass(A,e){const{_subLayerProps:t}=this.props;return t&&t[A]&&t[A].type||e}getSubLayerRow(A,e,t){return A.__source={parent:this,object:e,index:t},A}getSubLayerAccessor(A){if("function"==typeof A){const e={index:-1,data:this.props.data,target:[]};return(t,r)=>t&&t.__source?(e.index=t.__source.index,A(t.__source.object,e)):A(t,r)}return A}getSubLayerProps(A={}){const{opacity:e,pickable:t,visible:r,parameters:n,getPolygonOffset:i,highlightedObjectIndex:s,autoHighlight:o,highlightColor:a,coordinateSystem:c,coordinateOrigin:l,wrapLongitude:u,positionFormat:h,modelMatrix:f,extensions:d,fetch:p,operation:g,_subLayerProps:_}=this.props,m={id:"",updateTriggers:{},opacity:e,pickable:t,visible:r,parameters:n,getPolygonOffset:i,highlightedObjectIndex:s,autoHighlight:o,highlightColor:a,coordinateSystem:c,coordinateOrigin:l,wrapLongitude:u,positionFormat:h,modelMatrix:f,extensions:d,fetch:p,operation:g},v=_&&A.id&&_[A.id],E=v&&v.updateTriggers,b=A.id||"sublayer";if(v){const e=this.props[U.fW],t=A.type?A.type._propTypes:{};for(const A in v){const r=t[A]||e[A];r&&"accessor"===r.type&&(v[A]=this.getSubLayerAccessor(v[A]))}}Object.assign(m,A,v),m.id=`${this.props.id}-${b}`,m.updateTriggers={all:this.props.updateTriggers?.all,...A.updateTriggers,...E};for(const w of d){const A=w.getSubLayerProps.call(this,w);A&&Object.assign(m,A,{updateTriggers:Object.assign(m.updateTriggers,A.updateTriggers)})}return m}_updateAutoHighlight(A){for(const e of this.getSubLayers())e.updateAutoHighlight(A)}_getAttributeManager(){return null}_postUpdate(A,e){let t=this.internalState.subLayers;const r=!t||this.needsUpdate();if(r){const A=this.renderLayers();t=(0,N.B)(A,Boolean),this.internalState.subLayers=t}(0,F.A)("compositeLayer.renderLayers",this,r,t);for(const n of t)n.parent=this}}var z=t(1729),V=t(8277);const Q={name:"project32",dependencies:[t(6690).A],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"},j="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\nstruct AmbientLight {\nvec3 color;\n};\nstruct PointLight {\nvec3 color;\nvec3 position;\nvec3 attenuation;\n};\nstruct DirectionalLight {\nvec3 color;\nvec3 direction;\n};\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\nuniform bool lighting_uEnabled;\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\nreturn pointLight.attenuation.x\n+ pointLight.attenuation.y * distance\n+ pointLight.attenuation.z * distance * distance;\n}\n#endif\n",W={lightSources:{}};function H(A={}){const{color:e=[0,0,0],intensity:t=1}=A;return e.map((A=>A*t/255))}const X={name:"lights",vs:j,fs:j,getUniforms:function A(e=W){if("lightSources"in e){const{ambientLight:A,pointLights:t,directionalLights:r}=e.lightSources||{};return A||t&&t.length>0||r&&r.length>0?Object.assign({},function({ambientLight:A,pointLights:e=[],directionalLights:t=[]}){const r={};return r["lighting_uAmbientLight.color"]=A?H(A):[0,0,0],e.forEach(((A,e)=>{r[`lighting_uPointLight[${e}].color`]=H(A),r[`lighting_uPointLight[${e}].position`]=A.position,r[`lighting_uPointLight[${e}].attenuation`]=A.attenuation||[1,0,0]})),r.lighting_uPointLightCount=e.length,t.forEach(((A,e)=>{r[`lighting_uDirectionalLight[${e}].color`]=H(A),r[`lighting_uDirectionalLight[${e}].direction`]=A.direction})),r.lighting_uDirectionalLightCount=t.length,r}({ambientLight:A,pointLights:t,directionalLights:r}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in e){const t={pointLights:[],directionalLights:[]};for(const A of e.lights||[])switch(A.type){case"ambient":t.ambientLight=A;break;case"directional":t.directionalLights?.push(A);break;case"point":t.pointLights?.push(A)}return A({lightSources:t})}return{}},defines:{MAX_LIGHTS:3}},Y="uniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\nvec3 halfway_direction = normalize(light_direction + view_direction);\nfloat lambertian = dot(light_direction, normal_worldspace);\nfloat specular = 0.0;\nif (lambertian > 0.0) {\nfloat specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\nspecular = pow(specular_angle, lighting_uShininess);\n}\nlambertian = max(lambertian, 0.0);\nreturn (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\nvec3 lightColor = surfaceColor;\nif (lighting_uEnabled) {\nvec3 view_direction = normalize(cameraPosition - position_worldspace);\nlightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (i >= lighting_uPointLightCount) {\nbreak;\n}\nPointLight pointLight = lighting_uPointLight[i];\nvec3 light_position_worldspace = pointLight.position;\nvec3 light_direction = normalize(light_position_worldspace - position_worldspace);\nlightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n}\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (i >= lighting_uDirectionalLightCount) {\nbreak;\n}\nDirectionalLight directionalLight = lighting_uDirectionalLight[i];\nlightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n}\n}\nreturn lightColor;\n}\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\nvec3 lightColor = vec3(0, 0, 0);\nvec3 surfaceColor = vec3(0, 0, 0);\nif (lighting_uEnabled) {\nvec3 view_direction = normalize(cameraPosition - position_worldspace);\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (i >= lighting_uPointLightCount) {\nbreak;\n}\nPointLight pointLight = lighting_uPointLight[i];\nvec3 light_position_worldspace = pointLight.position;\nvec3 light_direction = normalize(light_position_worldspace - position_worldspace);\nlightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n}\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (i >= lighting_uDirectionalLightCount) {\nbreak;\n}\nDirectionalLight directionalLight = lighting_uDirectionalLight[i];\nlightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n}\n}\nreturn lightColor;\n}\n",K={};function Z(A=K){if(!("material"in A))return{};const{material:e}=A;return e?function(A){const{ambient:e=.35,diffuse:t=.6,shininess:r=32,specularColor:n=[30,30,30]}=A;return{lighting_uAmbient:e,lighting_uDiffuse:t,lighting_uShininess:r,lighting_uSpecularColor:n.map((A=>A/255))}}(e):{lighting_uEnabled:!1}}const $={name:"gouraud-lighting",dependencies:[X],vs:Y,defines:{LIGHTING_VERTEX:1},getUniforms:Z},q={name:"phong-lighting",dependencies:[X],fs:Y,defines:{LIGHTING_FRAGMENT:1},getUniforms:Z},J=new Float32Array([0,1,1,1]),AA={name:"picking",vs:"uniform pickingUniforms {\nfloat isActive;\nfloat isAttribute;\nfloat isHighlightActive;\nfloat useFloatColors;\nvec3 highlightedObjectColor;\nvec4 highlightColor;\n} picking;\nout vec4 picking_vRGBcolor_Avalid;\nvec3 picking_normalizeColor(vec3 color) {\nreturn picking.useFloatColors > 0.5 ? color : color / 255.0;\n}\nvec4 picking_normalizeColor(vec4 color) {\nreturn picking.useFloatColors > 0.5 ? color : color / 255.0;\n}\nbool picking_isColorZero(vec3 color) {\nreturn dot(color, vec3(1.0)) < 0.00001;\n}\nbool picking_isColorValid(vec3 color) {\nreturn dot(color, vec3(1.0)) > 0.00001;\n}\nbool isVertexHighlighted(vec3 vertexColor) {\nvec3 highlightedObjectColor = picking_normalizeColor(picking.highlightedObjectColor);\nreturn\nbool(picking.isHighlightActive) && picking_isColorZero(abs(vertexColor - highlightedObjectColor));\n}\nvoid picking_setPickingColor(vec3 pickingColor) {\npickingColor = picking_normalizeColor(pickingColor);\nif (bool(picking.isActive)) {\npicking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\nif (!bool(picking.isAttribute)) {\npicking_vRGBcolor_Avalid.rgb = pickingColor;\n}\n} else {\npicking_vRGBcolor_Avalid.a = float(isVertexHighlighted(pickingColor));\n}\n}\nvoid picking_setPickingAttribute(float value) {\nif (bool(picking.isAttribute)) {\npicking_vRGBcolor_Avalid.r = value;\n}\n}\nvoid picking_setPickingAttribute(vec2 value) {\nif (bool(picking.isAttribute)) {\npicking_vRGBcolor_Avalid.rg = value;\n}\n}\nvoid picking_setPickingAttribute(vec3 value) {\nif (bool(picking.isAttribute)) {\npicking_vRGBcolor_Avalid.rgb = value;\n}\n}\n",fs:"uniform pickingUniforms {\nfloat isActive;\nfloat isAttribute;\nfloat isHighlightActive;\nfloat useFloatColors;\nvec3 highlightedObjectColor;\nvec4 highlightColor;\n} picking;\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\nif (picking.isActive > 0.5) {\nreturn color;\n}\nbool selected = bool(picking_vRGBcolor_Avalid.a);\nif (selected) {\nfloat highLightAlpha = picking.highlightColor.a;\nfloat blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\nfloat highLightRatio = highLightAlpha / blendedAlpha;\nvec3 blendedRGB = mix(color.rgb, picking.highlightColor.rgb, highLightRatio);\nreturn vec4(blendedRGB, blendedAlpha);\n} else {\nreturn color;\n}\n}\nvec4 picking_filterPickingColor(vec4 color) {\nif (bool(picking.isActive)) {\nif (picking_vRGBcolor_Avalid.a == 0.0) {\ndiscard;\n}\nreturn picking_vRGBcolor_Avalid;\n}\nreturn color;\n}\nvec4 picking_filterColor(vec4 color) {\nvec4 highlightColor = picking_filterHighlightColor(color);\nreturn picking_filterPickingColor(highlightColor);\n}\n",uniformTypes:{isActive:"f32",isAttribute:"f32",isHighlightActive:"f32",useFloatColors:"f32",highlightedObjectColor:"vec3<f32>",highlightColor:"vec4<f32>"},defaultUniforms:{isActive:!1,isAttribute:!1,isHighlightActive:!1,useFloatColors:!0,highlightedObjectColor:new Float32Array([0,0,0]),highlightColor:J},getUniforms:function(A={},e){const t={};if(void 0===A.highlightedObjectColor);else if(null===A.highlightedObjectColor)t.isHighlightActive=!1;else{t.isHighlightActive=!0;const e=A.highlightedObjectColor.slice(0,3);t.highlightedObjectColor=e}if(A.highlightColor){const e=Array.from(A.highlightColor,(A=>A/255));Number.isFinite(e[3])||(e[3]=1),t.highlightColor=e}void 0!==A.isActive&&(t.isActive=Boolean(A.isActive),t.isAttribute=Boolean(A.isAttribute));void 0!==A.useFloatColors&&(t.useFloatColors=Boolean(A.useFloatColors));return t}};const eA={...AA,defaultUniforms:{...AA.defaultUniforms,useFloatColors:!1},inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}}};var tA=t(6704),rA=t(457),nA=t(9038),iA=t(290);class sA{id;topology;vertexCount;indices;attributes;userData={};constructor(A){const{attributes:e={},indices:t=null,vertexCount:r=null}=A;this.id=A.id||(0,nA.L)("geometry"),this.topology=A.topology,t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t),this.attributes={};for(const[n,i]of Object.entries(e)){const A=ArrayBuffer.isView(i)?{value:i}:i;(0,iA.v)(ArrayBuffer.isView(A.value),`${this._print(n)}: must be typed array or object with value as typed array`),"POSITION"!==n&&"positions"!==n||A.size||(A.size=3),"indices"===n?((0,iA.v)(!this.indices),this.indices=A):this.attributes[n]=A}this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this.vertexCount=r||this._calculateVertexCount(this.attributes,this.indices)}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(A){return`Geometry ${this.id} attribute ${A}`}_setAttributes(A,e){return this}_calculateVertexCount(A,e){if(e)return e.value.length;let t=1/0;for(const r of Object.values(A)){const{value:A,size:e,constant:n}=r;!n&&A&&e>=1&&(t=Math.min(t,A.length/e))}return(0,iA.v)(Number.isFinite(t)),t}}var oA=t(6570);const aA=1,cA=-1;function lA(A,e,t={}){const r=function(A,e={}){return Math.sign(function(A,e={}){const{start:t=0,end:r=A.length,plane:n="xy"}=e,i=e.size||2;let s=0;const o=uA[n[0]],a=uA[n[1]];for(let c=t,l=r-i;c<r;c+=i)s+=(A[c+o]-A[l+o])*(A[c+a]+A[l+a]),l=c;return s/2}(A,e))}(A,t);return r!==e&&(function(A,e){const{start:t=0,end:r=A.length,size:n=2}=e,i=(r-t)/n,s=Math.floor(i/2);for(let o=0;o<s;++o){const e=t+o*n,r=t+(i-1-o)*n;for(let t=0;t<n;++t){const n=A[e+t];A[e+t]=A[r+t],A[r+t]=n}}}(A,t),!0)}const uA={x:0,y:1,z:2};function hA(A,e,t,r,n=[]){let i,s;if(8&t)i=(r[3]-A[1])/(e[1]-A[1]),s=3;else if(4&t)i=(r[1]-A[1])/(e[1]-A[1]),s=1;else if(2&t)i=(r[2]-A[0])/(e[0]-A[0]),s=2;else{if(!(1&t))return null;i=(r[0]-A[0])/(e[0]-A[0]),s=0}for(let o=0;o<A.length;o++)n[o]=(1&s)===o?r[s]:i*(e[o]-A[o])+A[o];return n}function fA(A,e){let t=0;return A[0]<e[0]?t|=1:A[0]>e[2]&&(t|=2),A[1]<e[1]?t|=4:A[1]>e[3]&&(t|=8),t}function dA(A,e){const t=e.length,r=A.length;if(r>0){let n=!0;for(let i=0;i<t;i++)if(A[r-t+i]!==e[i]){n=!1;break}if(n)return!1}for(let n=0;n<t;n++)A[r+n]=e[n];return!0}function pA(A,e){const t=e.length;for(let r=0;r<t;r++)A[r]=e[r]}function gA(A,e,t,r,n=[]){const i=r+e*t;for(let s=0;s<t;s++)n[s]=A[i+s];return n}function _A(A,e){const{size:t=2,broken:r=!1,gridResolution:n=10,gridOffset:i=[0,0],startIndex:s=0,endIndex:o=A.length}=e||{},a=(o-s)/t;let c=[];const l=[c],u=gA(A,0,t,s);let h,f;const d=EA(u,n,i,[]),p=[];dA(c,u);for(let g=1;g<a;g++){for(h=gA(A,g,t,s,h),f=fA(h,d);f;){hA(u,h,f,d,p);const A=fA(p,d);A&&(hA(u,p,A,d,p),f=A),dA(c,p),pA(u,p),bA(d,n,f),r&&c.length>t&&(c=[],l.push(c),dA(c,u)),f=fA(h,d)}dA(c,h),pA(u,h)}return r?l:l[0]}function mA(A,e=null,t){if(!A.length)return[];const{size:r=2,gridResolution:n=10,gridOffset:i=[0,0],edgeTypes:s=!1}=t||{},o=[],a=[{pos:A,types:s?new Array(A.length/r).fill(1):null,holes:e||[]}],c=[[],[]];let l=[];for(;a.length;){const{pos:A,types:e,holes:t}=a.shift();wA(A,r,t[0]||A.length,c),l=EA(c[0],n,i,l);const u=fA(c[1],l);if(u){let n=vA(A,e,r,0,t[0]||A.length,l,u);const i={pos:n[0].pos,types:n[0].types,holes:[]},o={pos:n[1].pos,types:n[1].types,holes:[]};a.push(i,o);for(let a=0;a<t.length;a++)n=vA(A,e,r,t[a],t[a+1]||A.length,l,u),n[0]&&(i.holes.push(i.pos.length),i.pos=yA(i.pos,n[0].pos),s&&(i.types=yA(i.types,n[0].types))),n[1]&&(o.holes.push(o.pos.length),o.pos=yA(o.pos,n[1].pos),s&&(o.types=yA(o.types,n[1].types)))}else{const r={positions:A};s&&(r.edgeTypes=e),t.length&&(r.holeIndices=t),o.push(r)}}return o}function vA(A,e,t,r,n,i,s){const o=(n-r)/t,a=[],c=[],l=[],u=[],h=[];let f,d,p;const g=gA(A,o-1,t,r);let _=Math.sign(8&s?g[1]-i[3]:g[0]-i[2]),m=e&&e[o-1],v=0,E=0;for(let b=0;b<o;b++)f=gA(A,b,t,r,f),d=Math.sign(8&s?f[1]-i[3]:f[0]-i[2]),p=e&&e[r/t+b],d&&_&&_!==d&&(hA(g,f,s,i,h),dA(a,h)&&l.push(m),dA(c,h)&&u.push(m)),d<=0?(dA(a,f)&&l.push(p),v-=d):l.length&&(l[l.length-1]=0),d>=0?(dA(c,f)&&u.push(p),E+=d):u.length&&(u[u.length-1]=0),pA(g,f),_=d,m=p;return[v?{pos:a,types:e&&l}:null,E?{pos:c,types:e&&u}:null]}function EA(A,e,t,r){const n=Math.floor((A[0]-t[0])/e)*e+t[0],i=Math.floor((A[1]-t[1])/e)*e+t[1];return r[0]=n,r[1]=i,r[2]=n+e,r[3]=i+e,r}function bA(A,e,t){8&t?(A[1]+=e,A[3]+=e):4&t?(A[1]-=e,A[3]-=e):2&t?(A[0]+=e,A[2]+=e):1&t&&(A[0]-=e,A[2]-=e)}function wA(A,e,t,r){let n=1/0,i=-1/0,s=1/0,o=-1/0;for(let a=0;a<t;a+=e){const e=A[a],t=A[a+1];n=e<n?e:n,i=e>i?e:i,s=t<s?t:s,o=t>o?t:o}return r[0][0]=n,r[0][1]=s,r[1][0]=i,r[1][1]=o,r}function yA(A,e){for(let t=0;t<e.length;t++)A.push(e[t]);return A}function TA(A,e,t,r){let n=-1,i=-1;for(let s=t+1;s<r;s+=e){const e=Math.abs(A[s]);e>n&&(n=e,i=s-1)}return i}function SA(A,e,t,r,n=85.051129){const i=A[t],s=A[r-e];if(Math.abs(i-s)>180){const r=gA(A,0,e,t);r[0]+=360*Math.round((s-i)/360),dA(A,r),r[1]=Math.sign(r[1])*n,dA(A,r),r[0]=i,dA(A,r)}}function CA(A,e,t,r){let n,i=A[0];for(let s=t;s<r;s+=e){n=A[s];const e=n-i;(e>180||e<-180)&&(n-=360*Math.round(e/360)),A[s]=i=n}}function RA(A,e){let t;const r=A.length/e;for(let i=0;i<r&&(t=A[i*e],(t+180)%360==0);i++);const n=360*-Math.round(t/360);if(0!==n)for(let i=0;i<r;i++)A[i*e]+=n}const PA=aA,xA=cA,MA={isClosed:!0};function kA(A){return"positions"in A?A.positions:A}function BA(A){return"holeIndices"in A?A.holeIndices:null}function IA(A,e,t,r,n){let i=e;const s=t.length;for(let o=0;o<s;o++)for(let e=0;e<r;e++)A[i++]=t[o][e]||0;if(!function(A){const e=A[0],t=A[A.length-1];return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}(t))for(let o=0;o<r;o++)A[i++]=t[0][o]||0;return MA.start=e,MA.end=i,MA.size=r,lA(A,n,MA),i}function LA(A,e,t,r,n=0,i,s){const o=(i=i||t.length)-n;if(o<=0)return e;let a=e;for(let c=0;c<o;c++)A[a++]=t[n+c];if(!function(A,e,t,r){for(let n=0;n<e;n++)if(A[t+n]!==A[r-e+n])return!1;return!0}(t,r,n,i))for(let c=0;c<r;c++)A[a++]=t[n+c];return MA.start=e,MA.end=a,MA.size=r,lA(A,s,MA),a}function DA(A,e){!function(A){if(A=A&&A.positions||A,!Array.isArray(A)&&!ArrayBuffer.isView(A))throw new Error("invalid polygon")}(A);const t=[],r=[];if("positions"in A){const{positions:n,holeIndices:i}=A;if(i){let A=0;for(let s=0;s<=i.length;s++)A=LA(t,A,n,e,i[s-1],i[s],0===s?PA:xA),r.push(A);return r.pop(),{positions:t,holeIndices:r}}A=n}if(!function(A){return Array.isArray(A[0])}(A))return LA(t,0,A,e,0,t.length,PA),t;if(!function(A){return A.length>=1&&A[0].length>=2&&Number.isFinite(A[0][0])}(A)){let n=0;for(const[i,s]of A.entries())n=IA(t,n,s,e,0===i?PA:xA),r.push(n);return r.pop(),{positions:t,holeIndices:r}}return IA(t,0,A,e,PA),t}function OA(A,e,t){const r=A.length/3;let n=0;for(let i=0;i<r;i++){const s=(i+1)%r;n+=A[3*i+e]*A[3*s+t],n-=A[3*s+e]*A[3*i+t]}return Math.abs(n/2)}function FA(A,e,t,r){const n=A.length/3;for(let i=0;i<n;i++){const n=3*i,s=A[n+0],o=A[n+1],a=A[n+2];A[n+e]=s,A[n+t]=o,A[n+r]=a}}var NA=t(8457),UA=t(1829),GA=t(6049);class zA{constructor(A){this.indexStarts=[0],this.vertexStarts=[0],this.vertexCount=0,this.instanceCount=0;const{attributes:e={}}=A;this.typedArrayManager=NA.A,this.attributes={},this._attributeDefs=e,this.opts=A,this.updateGeometry(A)}updateGeometry(A){Object.assign(this.opts,A);const{data:e,buffers:t={},getGeometry:r,geometryBuffer:n,positionFormat:i,dataChanged:s,normalize:o=!0}=this.opts;if(this.data=e,this.getGeometry=r,this.positionSize=n&&n.size||("XY"===i?2:3),this.buffers=t,this.normalize=o,n&&((0,UA.A)(e.startIndices),this.getGeometry=this.getGeometryFromBuffer(n),o||(t.vertexPositions=n)),this.geometryBuffer=t.vertexPositions,Array.isArray(s))for(const a of s)this._rebuildGeometry(a);else this._rebuildGeometry()}updatePartialGeometry({startRow:A,endRow:e}){this._rebuildGeometry({startRow:A,endRow:e})}getGeometryFromBuffer(A){const e=A.value||A;return ArrayBuffer.isView(e)?(0,z.I)(e,{size:this.positionSize,offset:A.offset,stride:A.stride,startIndices:this.data.startIndices}):null}_allocate(A,e){const{attributes:t,buffers:r,_attributeDefs:n,typedArrayManager:i}=this;for(const s in n)if(s in r)i.release(t[s]),t[s]=null;else{const r=n[s];r.copy=e,t[s]=i.allocate(t[s],A,r)}}_forEachGeometry(A,e,t){const{data:r,getGeometry:n}=this,{iterable:i,objectInfo:s}=(0,z.X)(r,e,t);for(const o of i){s.index++;A(n?n(o,s):null,s.index)}}_rebuildGeometry(A){if(!this.data)return;let{indexStarts:e,vertexStarts:t,instanceCount:r}=this;const{data:n,geometryBuffer:i}=this,{startRow:s=0,endRow:o=1/0}=A||{},a={};if(A||(e=[0],t=[0]),this.normalize||!i)this._forEachGeometry(((A,e)=>{const r=A&&this.normalizeGeometry(A);a[e]=r,t[e+1]=t[e]+(r?this.getGeometrySize(r):0)}),s,o),r=t[t.length-1];else if(t=n.startIndices,r=t[n.length]||0,ArrayBuffer.isView(i))r=r||i.length/this.positionSize;else if(i instanceof GA.h){const A=4*this.positionSize;r=r||i.byteLength/A}else if(i.buffer){const A=i.stride||4*this.positionSize;r=r||i.buffer.byteLength/A}else if(i.value){const A=i.value,e=i.stride/A.BYTES_PER_ELEMENT||this.positionSize;r=r||A.length/e}this._allocate(r,Boolean(A)),this.indexStarts=e,this.vertexStarts=t,this.instanceCount=r;const c={};this._forEachGeometry(((A,n)=>{const i=a[n]||A;c.vertexStart=t[n],c.indexStart=e[n];const s=n<t.length-1?t[n+1]:r;c.geometrySize=s-t[n],c.geometryIndex=n,this.updateGeometryAttributes(i,c)}),s,o),this.vertexCount=e[e.length-1]}}class VA extends zA{constructor(A){const{fp64:e,IndexType:t=Uint32Array}=A;super({...A,attributes:{positions:{size:3,type:e?Float64Array:Float32Array},vertexValid:{type:Uint16Array,size:1},indices:{type:t,size:1}}})}get(A){const{attributes:e}=this;return"indices"===A?e.indices&&e.indices.subarray(0,this.vertexCount):e[A]}updateGeometry(A){super.updateGeometry(A);const e=this.buffers.indices;if(e)this.vertexCount=(e.value||e).length;else if(this.data&&!this.getGeometry)throw new Error("missing indices buffer")}normalizeGeometry(A){if(this.normalize){const e=DA(A,this.positionSize);return this.opts.resolution?mA(kA(e),BA(e),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0}):this.opts.wrapLongitude?function(A,e=null,t){const{size:r=2,normalize:n=!0,edgeTypes:i=!1}=t||{};e=e||[];const s=[],o=[];let a=0,c=0;for(let u=0;u<=e.length;u++){const n=e[u]||A.length,i=c,l=TA(A,r,a,n);for(let e=l;e<n;e++)s[c++]=A[e];for(let e=a;e<l;e++)s[c++]=A[e];CA(s,r,i,c),SA(s,r,i,c,t?.maxLatitude),a=n,o[u]=c}o.pop();const l=mA(s,o,{size:r,gridResolution:360,gridOffset:[-180,-180],edgeTypes:i});if(n)for(const u of l)RA(u.positions,r);return l}(kA(e),BA(e),{size:this.positionSize,maxLatitude:86,edgeTypes:!0}):e}return A}getGeometrySize(A){if(QA(A)){let e=0;for(const t of A)e+=this.getGeometrySize(t);return e}return kA(A).length/this.positionSize}getGeometryFromBuffer(A){return this.normalize||!this.buffers.indices?super.getGeometryFromBuffer(A):null}updateGeometryAttributes(A,e){if(A&&QA(A))for(const t of A){const A=this.getGeometrySize(t);e.geometrySize=A,this.updateGeometryAttributes(t,e),e.vertexStart+=A,e.indexStart=this.indexStarts[e.geometryIndex+1]}else{const t=A;this._updateIndices(t,e),this._updatePositions(t,e),this._updateVertexValid(t,e)}}_updateIndices(A,{geometryIndex:e,vertexStart:t,indexStart:r}){const{attributes:n,indexStarts:i,typedArrayManager:s}=this;let o=n.indices;if(!o||!A)return;let a=r;const c=function(A,e,t,r){let n=BA(A);n&&(n=n.map((A=>A/e)));let i=kA(A);const s=r&&3===e;if(t){const A=i.length;i=i.slice();const r=[];for(let n=0;n<A;n+=e){r[0]=i[n],r[1]=i[n+1],s&&(r[2]=i[n+2]);const A=t(r);i[n]=A[0],i[n+1]=A[1],s&&(i[n+2]=A[2])}}if(s){const A=OA(i,0,1),e=OA(i,0,2),r=OA(i,1,2);if(!A&&!e&&!r)return[];A>e&&A>r||(e>r?(t||(i=i.slice()),FA(i,0,2,1)):(t||(i=i.slice()),FA(i,2,0,1)))}return oA(i,n,e)}(A,this.positionSize,this.opts.preproject,this.opts.full3d);o=s.allocate(o,r+c.length,{copy:!0});for(let l=0;l<c.length;l++)o[a++]=c[l]+t;i[e+1]=r+c.length,n.indices=o}_updatePositions(A,{vertexStart:e,geometrySize:t}){const{attributes:{positions:r},positionSize:n}=this;if(!r||!A)return;const i=kA(A);for(let s=e,o=0;o<t;s++,o++){const A=i[o*n],e=i[o*n+1],t=n>2?i[o*n+2]:0;r[3*s]=A,r[3*s+1]=e,r[3*s+2]=t}}_updateVertexValid(A,{vertexStart:e,geometrySize:t}){const{positionSize:r}=this,n=this.attributes.vertexValid,i=A&&BA(A);if(A&&A.edgeTypes?n.set(A.edgeTypes,e):n.fill(1,e,e+t),i)for(let s=0;s<i.length;s++)n[e+i[s]/r-1]=0;n[e+t-1]=0}}function QA(A){return Array.isArray(A)&&A.length>0&&!Number.isFinite(A[0])}const jA="uniform bool extruded;\nuniform bool isWireframe;\nuniform float elevationScale;\nuniform float opacity;\nin vec4 fillColors;\nin vec4 lineColors;\nin vec3 pickingColors;\nout vec4 vColor;\nstruct PolygonProps {\nvec3 positions;\nvec3 positions64Low;\nvec3 normal;\nfloat elevations;\n};\nvec3 project_offset_normal(vec3 vector) {\nif (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\nproject_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\nreturn normalize(vector * project_uCommonUnitsPerWorldUnit);\n}\nreturn project_normal(vector);\n}\nvoid calculatePosition(PolygonProps props) {\nvec3 pos = props.positions;\nvec3 pos64Low = props.positions64Low;\nvec3 normal = props.normal;\nvec4 colors = isWireframe ? lineColors : fillColors;\ngeometry.worldPosition = props.positions;\ngeometry.pickingColor = pickingColors;\nif (extruded) {\npos.z += props.elevations * elevationScale;\n}\ngl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\nif (extruded) {\n#ifdef IS_SIDE_VERTEX\nnormal = project_offset_normal(normal);\n#else\nnormal = project_normal(normal);\n#endif\ngeometry.normal = normal;\nvec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\nvColor = vec4(lightColor, colors.a * opacity);\n} else {\nvColor = vec4(colors.rgb, colors.a * opacity);\n}\nDECKGL_FILTER_COLOR(vColor, geometry);\n}\n",WA=`#version 300 es\n#define SHADER_NAME solid-polygon-layer-vertex-shader\nin vec3 vertexPositions;\nin vec3 vertexPositions64Low;\nin float elevations;\n${jA}\nvoid main(void) {\nPolygonProps props;\nprops.positions = vertexPositions;\nprops.positions64Low = vertexPositions64Low;\nprops.elevations = elevations;\nprops.normal = vec3(0.0, 0.0, 1.0);\ncalculatePosition(props);\n}\n`,HA=`#version 300 es\n#define SHADER_NAME solid-polygon-layer-vertex-shader-side\n#define IS_SIDE_VERTEX\nin vec2 positions;\nin vec3 vertexPositions;\nin vec3 nextVertexPositions;\nin vec3 vertexPositions64Low;\nin vec3 nextVertexPositions64Low;\nin float elevations;\nin float instanceVertexValid;\n${jA}\nvoid main(void) {\nif(instanceVertexValid < 0.5){\ngl_Position = vec4(0.);\nreturn;\n}\nPolygonProps props;\nvec3 pos;\nvec3 pos64Low;\nvec3 nextPos;\nvec3 nextPos64Low;\n#if RING_WINDING_ORDER_CW == 1\npos = vertexPositions;\npos64Low = vertexPositions64Low;\nnextPos = nextVertexPositions;\nnextPos64Low = nextVertexPositions64Low;\n#else\npos = nextVertexPositions;\npos64Low = nextVertexPositions64Low;\nnextPos = vertexPositions;\nnextPos64Low = vertexPositions64Low;\n#endif\nprops.positions = mix(pos, nextPos, positions.x);\nprops.positions64Low = mix(pos64Low, nextPos64Low, positions.x);\nprops.normal = vec3(\npos.y - nextPos.y + (pos64Low.y - nextPos64Low.y),\nnextPos.x - pos.x + (nextPos64Low.x - pos64Low.x),\n0.0);\nprops.elevations = elevations * positions.y;\ncalculatePosition(props);\n}\n`,XA=[0,0,0,255],YA={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",_full3d:!1,elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:A=>A.polygon},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:XA},getLineColor:{type:"accessor",value:XA},material:!0},KA={enter:(A,e)=>e.length?e.subarray(e.length-A.length):A};class ZA extends O.A{static{this.defaultProps=YA}static{this.layerName="SolidPolygonLayer"}getShaders(A){return super.getShaders({vs:"top"===A?WA:HA,fs:"#version 300 es\n#define SHADER_NAME solid-polygon-layer-fragment-shader\nprecision highp float;\nin vec4 vColor;\nout vec4 fragColor;\nvoid main(void) {\nfragColor = vColor;\ngeometry.uv = vec2(0.);\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",defines:{RING_WINDING_ORDER_CW:this.props._normalize||"CCW"!==this.props._windingOrder?1:0},modules:[Q,$,eA]})}get wrapLongitude(){return!1}getBounds(){return this.getAttributeManager()?.getBounds(["vertexPositions"])}initializeState(){const{viewport:A}=this.context;let{coordinateSystem:e}=this.props;const{_full3d:t}=this.props;let r;A.isGeospatial&&e===tA.rf.DEFAULT&&(e=tA.rf.LNGLAT),e===tA.rf.LNGLAT&&(r=t?A.projectPosition.bind(A):A.projectFlat.bind(A)),this.setState({numInstances:0,polygonTesselator:new VA({preproject:r,fp64:this.use64bitPositions(),IndexType:Uint32Array})});const n=this.getAttributeManager(),i=!0;n.remove(["instancePickingColors"]),n.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:i},vertexPositions:{size:3,type:"float64",stepMode:"dynamic",fp64:this.use64bitPositions(),transition:KA,accessor:"getPolygon",update:this.calculatePositions,noAlloc:i,shaderAttributes:{nextVertexPositions:{vertexOffset:1}}},instanceVertexValid:{size:1,type:"uint16",stepMode:"instance",update:this.calculateVertexValid,noAlloc:i},elevations:{size:1,stepMode:"dynamic",transition:KA,accessor:"getElevation"},fillColors:{size:this.props.colorFormat.length,type:"unorm8",stepMode:"dynamic",transition:KA,accessor:"getFillColor",defaultValue:XA},lineColors:{size:this.props.colorFormat.length,type:"unorm8",stepMode:"dynamic",transition:KA,accessor:"getLineColor",defaultValue:XA},pickingColors:{size:4,type:"uint8",stepMode:"dynamic",accessor:(A,{index:e,target:t})=>this.encodePickingColor(A&&A.__source?A.__source.index:e,t)}})}getPickingInfo(A){const e=super.getPickingInfo(A),{index:t}=e,r=this.props.data;return r[0]&&r[0].__source&&(e.object=r.find((A=>A.__source.index===t))),e}disablePickingIndex(A){const e=this.props.data;if(e[0]&&e[0].__source)for(let t=0;t<e.length;t++)e[t].__source.index===A&&this._disablePickingIndex(t);else super.disablePickingIndex(A)}draw({uniforms:A}){const{extruded:e,filled:t,wireframe:r,elevationScale:n}=this.props,{topModel:i,sideModel:s,wireframeModel:o,polygonTesselator:a}=this.state,c={...A,extruded:Boolean(e),elevationScale:n};o&&r&&(o.setInstanceCount(a.instanceCount-1),o.setUniforms(c),o.draw(this.context.renderPass)),s&&t&&(s.setInstanceCount(a.instanceCount-1),s.setUniforms(c),s.draw(this.context.renderPass)),i&&t&&(i.setVertexCount(a.vertexCount),i.setUniforms(c),i.draw(this.context.renderPass))}updateState(A){super.updateState(A),this.updateGeometry(A);const{props:e,oldProps:t,changeFlags:r}=A,n=this.getAttributeManager();(r.extensionsChanged||e.filled!==t.filled||e.extruded!==t.extruded)&&(this.state.models?.forEach((A=>A.destroy())),this.setState(this._getModels()),n.invalidateAll())}updateGeometry({props:A,oldProps:e,changeFlags:t}){if(t.dataChanged||t.updateTriggersChanged&&(t.updateTriggersChanged.all||t.updateTriggersChanged.getPolygon)){const{polygonTesselator:e}=this.state,r=A.data.attributes||{};e.updateGeometry({data:A.data,normalize:A._normalize,geometryBuffer:r.getPolygon,buffers:r,getGeometry:A.getPolygon,positionFormat:A.positionFormat,wrapLongitude:A.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:t.dataChanged,full3d:A._full3d}),this.setState({numInstances:e.instanceCount,startIndices:e.vertexStarts}),t.dataChanged||this.getAttributeManager().invalidateAll()}}_getModels(){const{id:A,filled:e,extruded:t}=this.props;let r,n,i;if(e){const e=this.getShaders("top");e.defines.NON_INSTANCED_MODEL=1;const t=this.getAttributeManager().getBufferLayouts({isInstanced:!1});r=new rA.K(this.context.device,{...e,id:`${A}-top`,topology:"triangle-list",uniforms:{isWireframe:!1},bufferLayout:t,isIndexed:!0,userData:{excludeAttributes:{instanceVertexValid:!0}}})}if(t){const e=this.getAttributeManager().getBufferLayouts({isInstanced:!0});n=new rA.K(this.context.device,{...this.getShaders("side"),id:`${A}-side`,bufferLayout:e,uniforms:{isWireframe:!1},geometry:new sA({topology:"triangle-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,1,1,0,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}}),i=new rA.K(this.context.device,{...this.getShaders("side"),id:`${A}-wireframe`,bufferLayout:e,uniforms:{isWireframe:!0},geometry:new sA({topology:"line-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}})}return{models:[n,i,r].filter(Boolean),topModel:r,sideModel:n,wireframeModel:i}}calculateIndices(A){const{polygonTesselator:e}=this.state;A.startIndices=e.indexStarts,A.value=e.get("indices")}calculatePositions(A){const{polygonTesselator:e}=this.state;A.startIndices=e.vertexStarts,A.value=e.get("positions")}calculateVertexValid(A){A.value=this.state.polygonTesselator.get("vertexValid")}}function $A(A,e,t,r){let n;if(Array.isArray(A[0])){const t=A.length*e;n=new Array(t);for(let r=0;r<A.length;r++)for(let t=0;t<e;t++)n[r*e+t]=A[r][t]||0}else n=A;return t?_A(n,{size:e,gridResolution:t}):r?function(A,e){const{size:t=2,startIndex:r=0,endIndex:n=A.length,normalize:i=!0}=e||{},s=A.slice(r,n);CA(s,t,0,n-r);const o=_A(s,{size:t,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(i)for(const a of o)RA(a,t);return o}(n,{size:e}):n}class qA extends zA{constructor(A){super({...A,attributes:{positions:{size:3,padding:18,initialize:!0,type:A.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get(A){return this.attributes[A]}getGeometryFromBuffer(A){return this.normalize?super.getGeometryFromBuffer(A):null}normalizeGeometry(A){return this.normalize?$A(A,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):A}getGeometrySize(A){if(JA(A)){let e=0;for(const t of A)e+=this.getGeometrySize(t);return e}const e=this.getPathLength(A);return e<2?0:this.isClosed(A)?e<3?0:e+2:e}updateGeometryAttributes(A,e){if(0!==e.geometrySize)if(A&&JA(A))for(const t of A){const A=this.getGeometrySize(t);e.geometrySize=A,this.updateGeometryAttributes(t,e),e.vertexStart+=A}else this._updateSegmentTypes(A,e),this._updatePositions(A,e)}_updateSegmentTypes(A,e){const t=this.attributes.segmentTypes,r=!!A&&this.isClosed(A),{vertexStart:n,geometrySize:i}=e;t.fill(0,n,n+i),r?(t[n]=4,t[n+i-2]=4):(t[n]+=1,t[n+i-2]+=2),t[n+i-1]=4}_updatePositions(A,e){const{positions:t}=this.attributes;if(!t||!A)return;const{vertexStart:r,geometrySize:n}=e,i=new Array(3);for(let s=r,o=0;o<n;s++,o++)this.getPointOnPath(A,o,i),t[3*s]=i[0],t[3*s+1]=i[1],t[3*s+2]=i[2]}getPathLength(A){return A.length/this.positionSize}getPointOnPath(A,e,t=[]){const{positionSize:r}=this;e*r>=A.length&&(e+=1-A.length/r);const n=e*r;return t[0]=A[n],t[1]=A[n+1],t[2]=3===r&&A[n+2]||0,t}isClosed(A){if(!this.normalize)return Boolean(this.opts.loop);const{positionSize:e}=this,t=A.length-e;return A[0]===A[t]&&A[1]===A[t+1]&&(2===e||A[2]===A[t+2])}}function JA(A){return Array.isArray(A[0])}const Ae=[0,0,0,255],ee={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:A=>A.path},getColor:{type:"accessor",value:Ae},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},te={enter:(A,e)=>e.length?e.subarray(e.length-A.length):A};class re extends O.A{static{this.defaultProps=ee}static{this.layerName="PathLayer"}getShaders(){return super.getShaders({vs:"#version 300 es\n#define SHADER_NAME path-layer-vertex-shader\nin vec2 positions;\nin float instanceTypes;\nin vec3 instanceStartPositions;\nin vec3 instanceEndPositions;\nin vec3 instanceLeftPositions;\nin vec3 instanceRightPositions;\nin vec3 instanceLeftPositions64Low;\nin vec3 instanceStartPositions64Low;\nin vec3 instanceEndPositions64Low;\nin vec3 instanceRightPositions64Low;\nin float instanceStrokeWidths;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float capType;\nuniform float miterLimit;\nuniform bool billboard;\nuniform int widthUnits;\nuniform float opacity;\nout vec4 vColor;\nout vec2 vCornerOffset;\nout float vMiterLength;\nout vec2 vPathPosition;\nout float vPathLength;\nout float vJointType;\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\nfloat flipIfTrue(bool flag) {\nreturn -(float(flag) * 2. - 1.);\n}\nvec3 getLineJoinOffset(\nvec3 prevPoint, vec3 currPoint, vec3 nextPoint,\nvec2 width\n) {\nbool isEnd = positions.x > 0.0;\nfloat sideOfPath = positions.y;\nfloat isJoint = float(sideOfPath == 0.0);\nvec3 deltaA3 = (currPoint - prevPoint);\nvec3 deltaB3 = (nextPoint - currPoint);\nmat3 rotationMatrix;\nbool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\nif (needsRotation) {\ndeltaA3 = deltaA3 * rotationMatrix;\ndeltaB3 = deltaB3 * rotationMatrix;\n}\nvec2 deltaA = deltaA3.xy / width;\nvec2 deltaB = deltaB3.xy / width;\nfloat lenA = length(deltaA);\nfloat lenB = length(deltaB);\nvec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\nvec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\nvec2 perpA = vec2(-dirA.y, dirA.x);\nvec2 perpB = vec2(-dirB.y, dirB.x);\nvec2 tangent = dirA + dirB;\ntangent = length(tangent) > 0. ? normalize(tangent) : perpA;\nvec2 miterVec = vec2(-tangent.y, tangent.x);\nvec2 dir = isEnd ? dirA : dirB;\nvec2 perp = isEnd ? perpA : perpB;\nfloat L = isEnd ? lenA : lenB;\nfloat sinHalfA = abs(dot(miterVec, perp));\nfloat cosHalfA = abs(dot(dirA, miterVec));\nfloat turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\nfloat cornerPosition = sideOfPath * turnDirection;\nfloat miterSize = 1.0 / max(sinHalfA, EPSILON);\nmiterSize = mix(\nmin(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\nmiterSize,\nstep(0.0, cornerPosition)\n);\nvec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n* (sideOfPath + isJoint * turnDirection);\nbool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\nbool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\nbool isCap = isStartCap || isEndCap;\nif (isCap) {\noffsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);\nvJointType = capType;\n} else {\nvJointType = jointType;\n}\nvPathLength = L;\nvCornerOffset = offsetVec;\nvMiterLength = dot(vCornerOffset, miterVec * turnDirection);\nvMiterLength = isCap ? isJoint : vMiterLength;\nvec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\nvPathPosition = vec2(\ndot(offsetFromStartOfPath, perp),\ndot(offsetFromStartOfPath, dir)\n);\ngeometry.uv = vPathPosition;\nfloat isValid = step(instanceTypes, 3.5);\nvec3 offset = vec3(offsetVec * width * isValid, 0.0);\nif (needsRotation) {\noffset = rotationMatrix * offset;\n}\nreturn offset;\n}\nvoid clipLine(inout vec4 position, vec4 refPosition) {\nif (position.w < EPSILON) {\nfloat r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\nposition = refPosition + (position - refPosition) * r;\n}\n}\nvoid main() {\ngeometry.pickingColor = instancePickingColors;\nvColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\nfloat isEnd = positions.x;\nvec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\nvec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\nvec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\nvec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\nvec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\nvec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\ngeometry.worldPosition = currPosition;\nvec2 widthPixels = vec2(clamp(\nproject_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\nwidthMinPixels, widthMaxPixels) / 2.0);\nvec3 width;\nif (billboard) {\nvec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\nvec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\nvec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\nclipLine(prevPositionScreen, currPositionScreen);\nclipLine(nextPositionScreen, currPositionScreen);\nclipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\nwidth = vec3(widthPixels, 0.0);\nDECKGL_FILTER_SIZE(width, geometry);\nvec3 offset = getLineJoinOffset(\nprevPositionScreen.xyz / prevPositionScreen.w,\ncurrPositionScreen.xyz / currPositionScreen.w,\nnextPositionScreen.xyz / nextPositionScreen.w,\nproject_pixel_size_to_clipspace(width.xy)\n);\nDECKGL_FILTER_GL_POSITION(currPositionScreen, geometry);\ngl_Position = vec4(currPositionScreen.xyz + offset * currPositionScreen.w, currPositionScreen.w);\n} else {\nprevPosition = project_position(prevPosition, prevPosition64Low);\ncurrPosition = project_position(currPosition, currPosition64Low);\nnextPosition = project_position(nextPosition, nextPosition64Low);\nwidth = vec3(project_pixel_size(widthPixels), 0.0);\nDECKGL_FILTER_SIZE(width, geometry);\nvec3 offset = getLineJoinOffset(prevPosition, currPosition, nextPosition, width.xy);\ngeometry.position = vec4(currPosition + offset, 1.0);\ngl_Position = project_common_position_to_clipspace(geometry.position);\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n}\nDECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME path-layer-fragment-shader\nprecision highp float;\nuniform float miterLimit;\nin vec4 vColor;\nin vec2 vCornerOffset;\nin float vMiterLength;\nin vec2 vPathPosition;\nin float vPathLength;\nin float vJointType;\nout vec4 fragColor;\nvoid main(void) {\ngeometry.uv = vPathPosition;\nif (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\nif (vJointType > 0.5 && length(vCornerOffset) > 1.0) {\ndiscard;\n}\nif (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {\ndiscard;\n}\n}\nfragColor = vColor;\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[Q,eA]})}get wrapLongitude(){return!1}getBounds(){return this.getAttributeManager()?.getBounds(["vertexPositions"])}initializeState(){this.getAttributeManager().addInstanced({vertexPositions:{size:3,vertexOffset:1,type:"float64",fp64:this.use64bitPositions(),transition:te,accessor:"getPath",update:this.calculatePositions,noAlloc:true,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:"uint8",update:this.calculateSegmentTypes,noAlloc:true},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:te,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",accessor:"getColor",transition:te,defaultValue:Ae},instancePickingColors:{size:4,type:"uint8",accessor:(A,{index:e,target:t})=>this.encodePickingColor(A&&A.__source?A.__source.index:e,t)}}),this.setState({pathTesselator:new qA({fp64:this.use64bitPositions()})})}updateState(A){super.updateState(A);const{props:e,changeFlags:t}=A,r=this.getAttributeManager();if(t.dataChanged||t.updateTriggersChanged&&(t.updateTriggersChanged.all||t.updateTriggersChanged.getPath)){const{pathTesselator:A}=this.state,n=e.data.attributes||{};A.updateGeometry({data:e.data,geometryBuffer:n.getPath,buffers:n,normalize:!e._pathType,loop:"loop"===e._pathType,getGeometry:e.getPath,positionFormat:e.positionFormat,wrapLongitude:e.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:t.dataChanged}),this.setState({numInstances:A.instanceCount,startIndices:A.vertexStarts}),t.dataChanged||r.invalidateAll()}t.extensionsChanged&&(this.state.model?.destroy(),this.state.model=this._getModel(),r.invalidateAll())}getPickingInfo(A){const e=super.getPickingInfo(A),{index:t}=e,r=this.props.data;return r[0]&&r[0].__source&&(e.object=r.find((A=>A.__source.index===t))),e}disablePickingIndex(A){const e=this.props.data;if(e[0]&&e[0].__source)for(let t=0;t<e.length;t++)e[t].__source.index===A&&this._disablePickingIndex(t);else super.disablePickingIndex(A)}draw({uniforms:A}){const{jointRounded:e,capRounded:t,billboard:r,miterLimit:n,widthUnits:i,widthScale:s,widthMinPixels:o,widthMaxPixels:a}=this.props,c=this.state.model;c.setUniforms(A),c.setUniforms({jointType:Number(e),capType:Number(t),billboard:r,widthUnits:tA.p5[i],widthScale:s,miterLimit:n,widthMinPixels:o,widthMaxPixels:a}),c.draw(this.context.renderPass)}_getModel(){return new rA.K(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new sA({topology:"triangle-list",attributes:{indices:new Uint16Array([0,1,2,1,4,2,1,3,4,3,5,4]),positions:{value:new Float32Array([0,0,0,-1,0,1,1,-1,1,1,1,0]),size:2}}}),isInstanced:!0})}calculatePositions(A){const{pathTesselator:e}=this.state;A.startIndices=e.vertexStarts,A.value=e.get("positions")}calculateSegmentTypes(A){const{pathTesselator:e}=this.state;A.startIndices=e.vertexStarts,A.value=e.get("segmentTypes")}}const ne=[0,0,0,255],ie={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,_normalize:!0,_windingOrder:"CW",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,getPolygon:{type:"accessor",value:A=>A.polygon},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:ne},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0};class se extends G{static{this.layerName="PolygonLayer"}static{this.defaultProps=ie}initializeState(){this.state={paths:[],pathsDiff:null},this.props.getLineDashArray&&V.A.removed("getLineDashArray","PathStyleExtension")()}updateState({changeFlags:A}){const e=A.dataChanged||A.updateTriggersChanged&&(A.updateTriggersChanged.all||A.updateTriggersChanged.getPolygon);if(e&&Array.isArray(A.dataChanged)){const e=this.state.paths.slice(),t=A.dataChanged.map((A=>function({data:A,getIndex:e,dataRange:t,replace:r}){const{startRow:n=0,endRow:i=1/0}=t,s=A.length;let o=s,a=s;for(let u=0;u<s;u++){const t=e(A[u]);if(o>u&&t>=n&&(o=u),t>=i){a=u;break}}let c=o;const l=a-o!==r.length?A.slice(a):void 0;for(let u=0;u<r.length;u++)A[c++]=r[u];if(l){for(let e=0;e<l.length;e++)A[c++]=l[e];A.length=c}return{startRow:o,endRow:o+r.length}}({data:e,getIndex:A=>A.__source.index,dataRange:A,replace:this._getPaths(A)})));this.setState({paths:e,pathsDiff:t})}else e&&this.setState({paths:this._getPaths(),pathsDiff:null})}_getPaths(A={}){const{data:e,getPolygon:t,positionFormat:r,_normalize:n}=this.props,i=[],s="XY"===r?2:3,{startRow:o,endRow:a}=A,{iterable:c,objectInfo:l}=(0,z.X)(e,o,a);for(const u of c){l.index++;let A=t(u,l);n&&(A=DA(A,s));const{holeIndices:e}=A,r=A.positions||A;if(e)for(let t=0;t<=e.length;t++){const A=r.slice(e[t-1]||0,e[t]||r.length);i.push(this.getSubLayerRow({path:A},u,l.index))}else i.push(this.getSubLayerRow({path:r},u,l.index))}return i}renderLayers(){const{data:A,_dataDiff:e,stroked:t,filled:r,extruded:n,wireframe:i,_normalize:s,_windingOrder:o,elevationScale:a,transitions:c,positionFormat:l}=this.props,{lineWidthUnits:u,lineWidthScale:h,lineWidthMinPixels:f,lineWidthMaxPixels:d,lineJointRounded:p,lineMiterLimit:g,lineDashJustified:_}=this.props,{getFillColor:m,getLineColor:v,getLineWidth:E,getLineDashArray:b,getElevation:w,getPolygon:y,updateTriggers:T,material:S}=this.props,{paths:C,pathsDiff:R}=this.state,P=this.getSubLayerClass("fill",ZA),x=this.getSubLayerClass("stroke",re),M=this.shouldRenderSubLayer("fill",C)&&new P({_dataDiff:e,extruded:n,elevationScale:a,filled:r,wireframe:i,_normalize:s,_windingOrder:o,getElevation:w,getFillColor:m,getLineColor:n&&i?v:ne,material:S,transitions:c},this.getSubLayerProps({id:"fill",updateTriggers:T&&{getPolygon:T.getPolygon,getElevation:T.getElevation,getFillColor:T.getFillColor,lineColors:n&&i,getLineColor:T.getLineColor}}),{data:A,positionFormat:l,getPolygon:y});return[!n&&M,!n&&t&&this.shouldRenderSubLayer("stroke",C)&&new x({_dataDiff:R&&(()=>R),widthUnits:u,widthScale:h,widthMinPixels:f,widthMaxPixels:d,jointRounded:p,miterLimit:g,dashJustified:_,_pathType:"loop",transitions:c&&{getWidth:c.getLineWidth,getColor:c.getLineColor,getPath:c.getPolygon},getColor:this.getSubLayerAccessor(v),getWidth:this.getSubLayerAccessor(E),getDashArray:this.getSubLayerAccessor(b)},this.getSubLayerProps({id:"stroke",updateTriggers:T&&{getWidth:T.getLineWidth,getColor:T.getLineColor,getDashArray:T.getLineDashArray}}),{data:C,positionFormat:l,getPath:A=>A.path}),n&&M]}}class oe extends sA{constructor(A){const{indices:e,attributes:t}=function(A){const{radius:e,height:t=1,nradial:r=10}=A;let{vertices:n}=A;n&&(V.A.assert(n.length>=r),n=n.flatMap((A=>[A[0],A[1]])),lA(n,cA));const i=t>0,s=r+1,o=i?3*s+1:r,a=2*Math.PI/r,c=new Uint16Array(i?3*r*2:0),l=new Float32Array(3*o),u=new Float32Array(3*o);let h=0;if(i){for(let A=0;A<s;A++){const i=A*a,s=A%r,o=Math.sin(i),c=Math.cos(i);for(let A=0;A<2;A++)l[h+0]=n?n[2*s]:c*e,l[h+1]=n?n[2*s+1]:o*e,l[h+2]=(.5-A)*t,u[h+0]=n?n[2*s]:c,u[h+1]=n?n[2*s+1]:o,h+=3}l[h+0]=l[h-3],l[h+1]=l[h-2],l[h+2]=l[h-1],h+=3}for(let f=i?0:1;f<s;f++){const A=Math.floor(f/2)*Math.sign(.5-f%2),i=A*a,s=(A+r)%r,o=Math.sin(i),c=Math.cos(i);l[h+0]=n?n[2*s]:c*e,l[h+1]=n?n[2*s+1]:o*e,l[h+2]=t/2,u[h+2]=1,h+=3}if(i){let A=0;for(let e=0;e<r;e++)c[A++]=2*e+0,c[A++]=2*e+2,c[A++]=2*e+0,c[A++]=2*e+1,c[A++]=2*e+1,c[A++]=2*e+3}return{indices:c,attributes:{POSITION:{size:3,value:l},NORMAL:{size:3,value:u}}}}(A);super({...A,indices:e,attributes:t})}}const ae=[0,0,0,255],ce={diskResolution:{type:"number",min:4,value:20},vertices:null,radius:{type:"number",min:0,value:1e3},angle:{type:"number",value:0},offset:{type:"array",value:[0,0]},coverage:{type:"number",min:0,max:1,value:1},elevationScale:{type:"number",min:0,value:1},radiusUnits:"meters",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,extruded:!0,wireframe:!1,filled:!0,stroked:!1,flatShading:!1,getPosition:{type:"accessor",value:A=>A.position},getFillColor:{type:"accessor",value:ae},getLineColor:{type:"accessor",value:ae},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0,getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class le extends O.A{static{this.layerName="ColumnLayer"}static{this.defaultProps=ce}getShaders(){const A={},{flatShading:e}=this.props;return e&&(A.FLAT_SHADING=1),super.getShaders({vs:"#version 300 es\n#define SHADER_NAME column-layer-vertex-shader\nin vec3 positions;\nin vec3 normals;\nin vec3 instancePositions;\nin float instanceElevations;\nin vec3 instancePositions64Low;\nin vec4 instanceFillColors;\nin vec4 instanceLineColors;\nin float instanceStrokeWidths;\nin vec3 instancePickingColors;\nuniform float opacity;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform bool extruded;\nuniform bool stroked;\nuniform bool isStroke;\nuniform float coverage;\nuniform float elevationScale;\nuniform float edgeDistance;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform int radiusUnits;\nuniform int widthUnits;\nout vec4 vColor;\n#ifdef FLAT_SHADING\nout vec4 position_commonspace;\n#endif\nvoid main(void) {\ngeometry.worldPosition = instancePositions;\nvec4 color = isStroke ? instanceLineColors : instanceFillColors;\nmat2 rotationMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\nfloat elevation = 0.0;\nfloat strokeOffsetRatio = 1.0;\nif (extruded) {\nelevation = instanceElevations * (positions.z + 1.0) / 2.0 * elevationScale;\n} else if (stroked) {\nfloat widthPixels = clamp(\nproject_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\nwidthMinPixels, widthMaxPixels) / 2.0;\nfloat halfOffset = project_pixel_size(widthPixels) / project_size(edgeDistance * coverage * radius);\nif (isStroke) {\nstrokeOffsetRatio -= sign(positions.z) * halfOffset;\n} else {\nstrokeOffsetRatio -= halfOffset;\n}\n}\nfloat shouldRender = float(color.a > 0.0 && instanceElevations >= 0.0);\nfloat dotRadius = radius * coverage * shouldRender;\ngeometry.pickingColor = instancePickingColors;\nvec3 centroidPosition = vec3(instancePositions.xy, instancePositions.z + elevation);\nvec3 centroidPosition64Low = instancePositions64Low;\nvec2 offset = (rotationMatrix * positions.xy * strokeOffsetRatio + offset) * dotRadius;\nif (radiusUnits == UNIT_METERS) {\noffset = project_size(offset);\n}\nvec3 pos = vec3(offset, 0.);\nDECKGL_FILTER_SIZE(pos, geometry);\ngl_Position = project_position_to_clipspace(centroidPosition, centroidPosition64Low, pos, geometry.position);\ngeometry.normal = project_normal(vec3(rotationMatrix * normals.xy, normals.z));\nDECKGL_FILTER_GL_POSITION(gl_Position, geometry);\nif (extruded && !isStroke) {\n#ifdef FLAT_SHADING\nposition_commonspace = geometry.position;\nvColor = vec4(color.rgb, color.a * opacity);\n#else\nvec3 lightColor = lighting_getLightColor(color.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);\nvColor = vec4(lightColor, color.a * opacity);\n#endif\n} else {\nvColor = vec4(color.rgb, color.a * opacity);\n}\nDECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME column-layer-fragment-shader\nprecision highp float;\nuniform vec3 project_uCameraPosition;\nuniform bool extruded;\nuniform bool isStroke;\nout vec4 fragColor;\nin vec4 vColor;\n#ifdef FLAT_SHADING\nin vec4 position_commonspace;\n#endif\nvoid main(void) {\nfragColor = vColor;\ngeometry.uv = vec2(0.);\n#ifdef FLAT_SHADING\nif (extruded && !isStroke && !bool(picking.isActive)) {\nvec3 normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\nfragColor.rgb = lighting_getLightColor(vColor.rgb, project_uCameraPosition, position_commonspace.xyz, normal);\n}\n#endif\nDECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",defines:A,modules:[Q,e?q:$,eA]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceElevations:{size:1,transition:!0,accessor:"getElevation"},instanceFillColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getFillColor",defaultValue:ae},instanceLineColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getLineColor",defaultValue:ae},instanceStrokeWidths:{size:1,accessor:"getLineWidth",transition:!0}})}updateState(A){super.updateState(A);const{props:e,oldProps:t,changeFlags:r}=A,n=r.extensionsChanged||e.flatShading!==t.flatShading;n&&(this.state.models?.forEach((A=>A.destroy())),this.setState(this._getModels()),this.getAttributeManager().invalidateAll());const i=this.getNumInstances();this.state.fillModel.setInstanceCount(i),this.state.wireframeModel.setInstanceCount(i),(n||e.diskResolution!==t.diskResolution||e.vertices!==t.vertices||(e.extruded||e.stroked)!==(t.extruded||t.stroked))&&this._updateGeometry(e)}getGeometry(A,e,t){const r=new oe({radius:1,height:t?2:0,vertices:e,nradial:A});let n=0;if(e)for(let i=0;i<A;i++){const t=e[i];n+=Math.sqrt(t[0]*t[0]+t[1]*t[1])/A}else n=1;return this.setState({edgeDistance:Math.cos(Math.PI/A)*n}),r}_getModels(){const A=this.getShaders(),e=this.getAttributeManager().getBufferLayouts(),t=new rA.K(this.context.device,{...A,id:`${this.props.id}-fill`,bufferLayout:e,isInstanced:!0}),r=new rA.K(this.context.device,{...A,id:`${this.props.id}-wireframe`,bufferLayout:e,isInstanced:!0});return{fillModel:t,wireframeModel:r,models:[r,t]}}_updateGeometry({diskResolution:A,vertices:e,extruded:t,stroked:r}){const n=this.getGeometry(A,e,t||r);this.setState({fillVertexCount:n.attributes.POSITION.value.length/3});const i=this.state.fillModel,s=this.state.wireframeModel;i.setGeometry(n),i.setTopology("triangle-strip"),i.setIndexBuffer(null),s.setGeometry(n),s.setTopology("line-list")}draw({uniforms:A}){const{lineWidthUnits:e,lineWidthScale:t,lineWidthMinPixels:r,lineWidthMaxPixels:n,radiusUnits:i,elevationScale:s,extruded:o,filled:a,stroked:c,wireframe:l,offset:u,coverage:h,radius:f,angle:d}=this.props,p=this.state.fillModel,g=this.state.wireframeModel,{fillVertexCount:_,edgeDistance:m}=this.state,v={...A,radius:f,angle:d/180*Math.PI,offset:u,extruded:o,stroked:c,coverage:h,elevationScale:s,edgeDistance:m,radiusUnits:tA.p5[i],widthUnits:tA.p5[e],widthScale:t,widthMinPixels:r,widthMaxPixels:n};o&&l&&(g.setUniforms(v),g.setUniforms({isStroke:!0}),g.draw(this.context.renderPass)),p.setUniforms(v),a&&(p.setVertexCount(_),p.setUniforms({isStroke:!1}),p.draw(this.context.renderPass)),!o&&c&&(p.setVertexCount(2*_/3),p.setUniforms({isStroke:!0}),p.draw(this.context.renderPass))}}var ue=t(4315);function he(A,e){e=void 0===e?A[0][0]:e;for(const t of A){const A=t[0]-e;A>180?t[0]-=360:A<-180&&(t[0]+=360)}}function fe(A,e,t){const r=A(e,t),[n,i]=I(r);return[i,n]}function de(A,e=1){const t=function(A,e){var t=r._malloc(g),n=w(A),i=n[0],s=n[1];try{return u(h.cellToBoundary(i,s,t)),k(t,e,e)}finally{r._free(t)}}(A,!0);return 1!==e?function(A,e,t){const[r,n]=I(A),i=e.length;he(e,n);const s=e[0]===e[i-1]?i-1:i;for(let o=0;o<s;o++)e[o][0]=(0,ue.Cc)(n,e[o][0],t),e[o][1]=(0,ue.Cc)(r,e[o][1],t)}(A,t,e):he(t),t}const pe={...se.defaultProps,highPrecision:"auto",coverage:{type:"number",min:0,max:1,value:1},centerHexagon:null,getHexagon:{type:"accessor",value:A=>A.hexagon},extruded:!0};class ge extends G{static{this.defaultProps=pe}static{this.layerName="H3HexagonLayer"}static{this._checkH3Lib=()=>{}}initializeState(){ge._checkH3Lib(),this.state={edgeLengthKM:0,resolution:-1}}shouldUpdateState({changeFlags:A}){return this._shouldUseHighPrecision()?A.propsOrDataChanged:A.somethingChanged}updateState({props:A,changeFlags:e}){if(!0!==A.highPrecision&&(e.dataChanged||e.updateTriggersChanged&&e.updateTriggersChanged.getHexagon)){const A=this._calculateH3DataProps();this.setState(A)}this._updateVertices(this.context.viewport)}_calculateH3DataProps(){let A=-1,e=!1,t=!1;const{iterable:r,objectInfo:n}=(0,z.X)(this.props.data);for(const a of r){n.index++;const r=this.props.getHexagon(a,n),c=(i=void 0,s=void 0,o=void 0,i=w(r),s=i[0],o=i[1],h.isValidCell(s,o)?h.getResolution(s,o):-1);if(A<0){if(A=c,!this.props.highPrecision)break}else if(A!==c){t=!0;break}if(B(r)){e=!0;break}}var i,s,o;return{resolution:A,edgeLengthKM:A>=0?L(A,"km"):0,hasMultipleRes:t,hasPentagon:e}}_shouldUseHighPrecision(){if("auto"===this.props.highPrecision){const{resolution:A,hasPentagon:e,hasMultipleRes:t}=this.state,{viewport:r}=this.context;return Boolean(r?.resolution)||t||e||A>=0&&A<=5}return this.props.highPrecision}_updateVertices(A){if(this._shouldUseHighPrecision())return;const{resolution:e,edgeLengthKM:t,centerHex:n}=this.state;if(e<0)return;const i=this.props.centerHexagon||function(A,e,t){var n=r._malloc(p);r.HEAPF64.set([A,e].map(D),n/8);var i=r._malloc(d);try{return u(h.latLngToCell(n,t,i)),E(S(i))}finally{r._free(i),r._free(n)}}(A.latitude,A.longitude,e);if(n===i)return;if(n)try{if(function(A,e){var t=w(A),n=t[0],i=t[1],s=w(e),o=s[0],a=s[1],c=r._malloc(8);try{return u(h.gridDistance(n,i,o,a,c)),R(c)}finally{r._free(c)}}(n,i)*t<10)return}catch{}const{unitsPerMeter:s}=A.distanceScales;let o=de(i);const[a,c]=I(i),[l,f]=A.projectFlat([c,a]);o=o.map((e=>{const t=A.projectFlat(e);return[(t[0]-l)/s[0],(t[1]-f)/s[1]]})),this.setState({centerHex:i,vertices:o})}renderLayers(){return this._shouldUseHighPrecision()?this._renderPolygonLayer():this._renderColumnLayer()}_getForwardProps(){const{elevationScale:A,material:e,coverage:t,extruded:r,wireframe:n,stroked:i,filled:s,lineWidthUnits:o,lineWidthScale:a,lineWidthMinPixels:c,lineWidthMaxPixels:l,getFillColor:u,getElevation:h,getLineColor:f,getLineWidth:d,transitions:p,updateTriggers:g}=this.props;return{elevationScale:A,extruded:r,coverage:t,wireframe:n,stroked:i,filled:s,lineWidthUnits:o,lineWidthScale:a,lineWidthMinPixels:c,lineWidthMaxPixels:l,material:e,getElevation:h,getFillColor:u,getLineColor:f,getLineWidth:d,transitions:p,updateTriggers:{getFillColor:g.getFillColor,getElevation:g.getElevation,getLineColor:g.getLineColor,getLineWidth:g.getLineWidth}}}_renderPolygonLayer(){const{data:A,getHexagon:e,updateTriggers:t,coverage:r}=this.props,n=this.getSubLayerClass("hexagon-cell-hifi",se),i=this._getForwardProps();return i.updateTriggers.getPolygon=function(A,e){let t;return t=null==A?e:"object"==typeof A?{...A,coverage:e}:{getHexagon:A,coverage:e},t}(t.getHexagon,r),new n(i,this.getSubLayerProps({id:"hexagon-cell-hifi",updateTriggers:i.updateTriggers}),{data:A,_normalize:!1,_windingOrder:"CCW",positionFormat:"XY",getPolygon:(A,t)=>function(A){const e=new Float64Array(2*A.length);let t=0;for(const r of A)e[t++]=r[0],e[t++]=r[1];return e}(de(e(A,t),r))})}_renderColumnLayer(){const{data:A,getHexagon:e,updateTriggers:t}=this.props,r=this.getSubLayerClass("hexagon-cell",le),n=this._getForwardProps();return n.updateTriggers.getPosition=t.getHexagon,new r(n,this.getSubLayerProps({id:"hexagon-cell",flatShading:!0,updateTriggers:n.updateTriggers}),{data:A,diskResolution:6,radius:1,vertices:this.state.vertices,getPosition:fe.bind(null,e)})}}},1163:(A,e,t)=>{"use strict";t.d(e,{A:()=>ti});var r=t(6540);let n=1,i=1;class s{time=0;channels=new Map;animations=new Map;playing=!1;lastEngineTime=-1;constructor(){}addChannel(A){const{delay:e=0,duration:t=Number.POSITIVE_INFINITY,rate:r=1,repeat:i=1}=A,s=n++,o={time:0,delay:e,duration:t,rate:r,repeat:i};return this._setChannelTime(o,this.time),this.channels.set(s,o),s}removeChannel(A){this.channels.delete(A);for(const[e,t]of this.animations)t.channel===A&&this.detachAnimation(e)}isFinished(A){const e=this.channels.get(A);return void 0!==e&&this.time>=e.delay+e.duration*e.repeat}getTime(A){if(void 0===A)return this.time;const e=this.channels.get(A);return void 0===e?-1:e.time}setTime(A){this.time=Math.max(0,A);const e=this.channels.values();for(const r of e)this._setChannelTime(r,this.time);const t=this.animations.values();for(const r of t){const{animation:A,channel:e}=r;A.setTime(this.getTime(e))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(A,e){const t=i++;return this.animations.set(t,{animation:A,channel:e}),A.setTime(this.getTime(e)),t}detachAnimation(A){this.animations.delete(A)}update(A){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=A),this.setTime(this.time+(A-this.lastEngineTime)),this.lastEngineTime=A)}_setChannelTime(A,e){const t=e-A.delay;t>=A.duration*A.repeat?A.time=A.duration*A.rate:(A.time=Math.max(0,t)%A.duration,A.time*=A.rate)}}var o=t(9404),a=t(6690);const c=[a.A],l=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function u(){const A=o._.getDefaultShaderAssembler();for(const e of c)A.addDefaultModule(e);for(const e of l)A.addShaderHook(e);return A}var h=t(8427),f=t(8277),d=t(7277),p=t(5801);function g(){let A;if("undefined"!=typeof window&&window.performance)A=window.performance.now();else if("undefined"!=typeof process&&process.hrtime){const e=process.hrtime();A=1e3*e[0]+e[1]/1e6}else A=Date.now();return A}class _{constructor(A,e){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=A,this.type=e,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(A){return this.sampleSize=A,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(A){return this._count+=A,this._samples++,this._checkSampling(),this}subtractCount(A){return this._count-=A,this._samples++,this._checkSampling(),this}addTime(A){return this._time+=A,this.lastTiming=A,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=g(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(g()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class m{constructor(A){this.stats={},this.id=A.id,this.stats={},this._initializeStats(A.stats),Object.seal(this)}get(A,e="count"){return this._getOrCreate({name:A,type:e})}get size(){return Object.keys(this.stats).length}reset(){for(const A of Object.values(this.stats))A.reset();return this}forEach(A){for(const e of Object.values(this.stats))A(e)}getTable(){const A={};return this.forEach((e=>{A[e.name]={time:e.time||0,count:e.count||0,average:e.getAverageTime()||0,hz:e.getHz()||0}})),A}_initializeStats(A=[]){A.forEach((A=>this._getOrCreate(A)))}_getOrCreate(A){const{name:e,type:t}=A;let r=this.stats[e];return r||(r=A instanceof _?A:new _(e,t),this.stats[e]=r),r}}var v=t(2240);class E{constructor(A,e,t){this._loadCount=0,this._subscribers=new Set,this.id=A,this.context=t,this.setData(e)}subscribe(A){this._subscribers.add(A)}unsubscribe(A){this._subscribers.delete(A)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then((()=>this.getData()))}setData(A,e){if(A===this._data&&!e)return;this._data=A;const t=++this._loadCount;let r=A;"string"==typeof A&&(r=(0,v.H)(A)),r instanceof Promise?(this.isLoaded=!1,this._loader=r.then((A=>{this._loadCount===t&&(this.isLoaded=!0,this._error=void 0,this._content=A)})).catch((A=>{this._loadCount===t&&(this.isLoaded=!0,this._error=A||!0)}))):(this.isLoaded=!0,this._error=void 0,this._content=A);for(const n of this._subscribers)n.onChange(this.getData())}}class b{constructor(A){this.protocol=A.protocol||"resource://",this._context={device:A.device,gl:A.device?.gl,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(A){return!!A.startsWith(this.protocol)||A in this._resources}add({resourceId:A,data:e,forceUpdate:t=!1,persistent:r=!0}){let n=this._resources[A];n?n.setData(e,t):(n=new E(A,e,this._context),this._resources[A]=n),n.persistent=r}remove(A){const e=this._resources[A];e&&(e.delete(),delete this._resources[A])}unsubscribe({consumerId:A}){const e=this._consumers[A];if(e){for(const A in e){const t=e[A],r=this._resources[t.resourceId];r&&r.unsubscribe(t)}delete this._consumers[A],this.prune()}}subscribe({resourceId:A,onChange:e,consumerId:t,requestId:r="default"}){const{_resources:n,protocol:i}=this;A.startsWith(i)&&(n[A=A.replace(i,"")]||this.add({resourceId:A,data:null,persistent:!1}));const s=n[A];if(this._track(t,r,s,e),s)return s.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout((()=>this._prune()),0))}finalize(){for(const A in this._resources)this._resources[A].delete()}_track(A,e,t,r){const n=this._consumers,i=n[A]=n[A]||{};let s=i[e];const o=s&&s.resourceId&&this._resources[s.resourceId];o&&(o.unsubscribe(s),this.prune()),t&&(s?(s.onChange=r,s.resourceId=t.id):s={onChange:r,resourceId:t.id},i[e]=s,t.subscribe(s))}_prune(){this._pruneRequest=null;for(const A of Object.keys(this._resources)){const e=this._resources[A];e.persistent||e.inUse()||(e.delete(),delete this._resources[A])}}}var w=t(5775);class y{constructor(A,e){this._lastRenderedLayers=[],this._needsRedraw=!1,this._needsUpdate=!1,this._nextLayers=null,this._debug=!1,this._defaultShaderModulesChanged=!1,this.activateViewport=A=>{(0,d.A)("layerManager.activateViewport",this,A),A&&(this.context.viewport=A)};const{deck:t,stats:r,viewport:n,timeline:i}=e||{};this.layers=[],this.resourceManager=new b({device:A,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,device:A,gl:A?.gl,deck:t,shaderAssembler:u(),defaultShaderModules:[],renderPass:void 0,stats:r||new m({id:"deck.gl"}),viewport:n||new w.A({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:i||new s,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const A of this.layers)this._finalizeLayer(A)}needsRedraw(A={clearRedrawFlags:!1}){let e=this._needsRedraw;A.clearRedrawFlags&&(this._needsRedraw=!1);for(const t of this.layers){const r=t.getNeedsRedraw(A);e=e||r}return e}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._defaultShaderModulesChanged?"shader modules changed":this._needsUpdate}setNeedsRedraw(A){this._needsRedraw=this._needsRedraw||A}setNeedsUpdate(A){this._needsUpdate=this._needsUpdate||A}getLayers({layerIds:A}={}){return A?this.layers.filter((e=>A.find((A=>0===e.id.indexOf(A))))):this.layers}setProps(A){"debug"in A&&(this._debug=A.debug),"userData"in A&&(this.context.userData=A.userData),"layers"in A&&(this._nextLayers=A.layers),"onError"in A&&(this.context.onError=A.onError)}setLayers(A,e){(0,d.A)("layerManager.setLayers",this,e,A),this._lastRenderedLayers=A;const t=(0,p.B)(A,Boolean);for(const r of t)r.context=this.context;this._updateLayers(this.layers,t)}updateLayers(){const A=this.needsUpdate();A&&(this.setNeedsRedraw(`updating layers: ${A}`),this.setLayers(this._nextLayers||this._lastRenderedLayers,A)),this._nextLayers=null}addDefaultShaderModule(A){const{defaultShaderModules:e}=this.context;e.find((e=>e.name===A.name))||(e.push(A),this._defaultShaderModulesChanged=!0)}removeDefaultShaderModule(A){const{defaultShaderModules:e}=this.context,t=e.findIndex((e=>e.name===A.name));t>=0&&(e.splice(t,1),this._defaultShaderModulesChanged=!0)}_handleError(A,e,t){t.raiseError(e,`${A} of ${t}`)}_updateLayers(A,e){const t={};for(const i of A)t[i.id]?f.A.warn(`Multiple old layers with same id ${i.id}`)():t[i.id]=i;if(this._defaultShaderModulesChanged){for(const e of A)e.setNeedsUpdate(),e.setChangeFlags({extensionsChanged:!0});this._defaultShaderModulesChanged=!1}const r=[];this._updateSublayersRecursively(e,t,r),this._finalizeOldLayers(t);let n=!1;for(const i of r)if(i.hasUniformTransition()){n=`Uniform transition in ${i}`;break}this._needsUpdate=n,this.layers=r}_updateSublayersRecursively(A,e,t){for(const n of A){n.context=this.context;const A=e[n.id];null===A&&f.A.warn(`Multiple new layers with same id ${n.id}`)(),e[n.id]=null;let i=null;try{this._debug&&A!==n&&n.validateProps(),A?(this._transferLayerState(A,n),this._updateLayer(n)):this._initializeLayer(n),t.push(n),i=n.isComposite?n.getSubLayers():null}catch(r){this._handleError("matching",r,n)}i&&this._updateSublayersRecursively(i,e,t)}}_finalizeOldLayers(A){for(const e in A){const t=A[e];t&&this._finalizeLayer(t)}}_initializeLayer(A){try{A._initialize(),A.lifecycle=h.VD.INITIALIZED}catch(e){this._handleError("initialization",e,A)}}_transferLayerState(A,e){e._transferState(A),e.lifecycle=h.VD.MATCHED,e!==A&&(A.lifecycle=h.VD.AWAITING_GC)}_updateLayer(A){try{A._update()}catch(e){this._handleError("update",e,A)}}_finalizeLayer(A){this._needsRedraw=this._needsRedraw||`finalized ${A}`,A.lifecycle=h.VD.AWAITING_FINALIZATION;try{A._finalize(),A.lifecycle=h.VD.FINALIZED}catch(e){this._handleError("finalization",e,A)}}}var T=t(688);class S{constructor(A){this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=A.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=A.eventManager,this._eventCallbacks={onViewStateChange:A.onViewStateChange,onInteractionStateChange:A.onInteractionStateChange},Object.seal(this),this.setProps(A)}finalize(){for(const A in this.controllers){const e=this.controllers[A];e&&e.finalize()}this.controllers={}}needsRedraw(A={clearRedrawFlags:!1}){const e=this._needsRedraw;return A.clearRedrawFlags&&(this._needsRedraw=!1),e}setNeedsUpdate(A){this._needsUpdate=this._needsUpdate||A,this._needsRedraw=this._needsRedraw||A}updateViewStates(){for(const A in this.controllers){const e=this.controllers[A];e&&e.updateTransition()}}getViewports(A){return A?this._viewports.filter((e=>e.containsPixel(A))):this._viewports}getViews(){const A={};return this.views.forEach((e=>{A[e.id]=e})),A}getView(A){return this.views.find((e=>e.id===A))}getViewState(A){const e="string"==typeof A?this.getView(A):A,t=e&&this.viewState[e.getViewStateId()]||this.viewState;return e?e.filterViewState(t):t}getViewport(A){return this._viewportMap[A]}unproject(A,e){const t=this.getViewports(),r={x:A[0],y:A[1]};for(let n=t.length-1;n>=0;--n){const i=t[n];if(i.containsPixel(r)){const t=A.slice();return t[0]-=i.x,t[1]-=i.y,i.unproject(t,e)}}return null}setProps(A){A.views&&this._setViews(A.views),A.viewState&&this._setViewState(A.viewState),("width"in A||"height"in A)&&this._setSize(A.width,A.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(A,e){A===this.width&&e===this.height||(this.width=A,this.height=e,this.setNeedsUpdate("Size changed"))}_setViews(A){A=(0,p.B)(A,Boolean);this._diffViews(A,this.views)&&this.setNeedsUpdate("views changed"),this.views=A}_setViewState(A){if(A){!(0,T.b)(A,this.viewState,3)&&this.setNeedsUpdate("viewState changed"),this.viewState=A}else f.A.warn("missing `viewState` or `initialViewState`")()}_createController(A,e){return new(0,e.type)({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._eventCallbacks.onViewStateChange,onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:e=>this.getView(A.id)?.makeViewport({viewState:e,width:this.width,height:this.height})})}_updateController(A,e,t,r){const n=A.controller;if(n&&t){const i={...e,...n,id:A.id,x:t.x,y:t.y,width:t.width,height:t.height};return r&&r.constructor===n.type||(r=this._createController(A,i)),r&&r.setProps(i),r}return null}_rebuildViewports(){const{views:A}=this,e=this.controllers;this._viewports=[],this.controllers={};let t=!1;for(let r=A.length;r--;){const n=A[r],i=this.getViewState(n),s=n.makeViewport({viewState:i,width:this.width,height:this.height});let o=e[n.id];const a=Boolean(n.controller);a&&!o&&(t=!0),!t&&a||!o||(o.finalize(),o=null),this.controllers[n.id]=this._updateController(n,i,s,o),s&&this._viewports.unshift(s)}for(const r in e){const A=e[r];A&&!this.controllers[r]&&A.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach((A=>{A.id&&(this._viewportMap[A.id]=this._viewportMap[A.id]||A)}))}_diffViews(A,e){return A.length!==e.length||A.some(((t,r)=>!A[r].equals(e[r])))}}var C=t(5022);const R=[255,255,255],P=1;let x=0;class M{constructor(A={}){this.type="ambient";const{color:e=R}=A,{intensity:t=P}=A;this.id=A.id||"ambient-"+x++,this.color=e,this.intensity=t}}var k=t(5427);const B=[255,255,255],I=1,L=[0,0,-1];let D=0;class O{constructor(A={}){this.type="directional";const{color:e=B}=A,{intensity:t=I}=A,{direction:r=L}=A,{_shadow:n=!1}=A;this.id=A.id||"directional-"+D++,this.color=e,this.intensity=t,this.type="directional",this.direction=new k.P(r).normalize().toArray(),this.shadow=n}getProjectedLight(A){return this}}var F=t(2879);class N extends class{constructor(A,e={id:"pass"}){const{id:t}=e;this.id=t,this.device=A,this.props={...e}}setProps(A){Object.assign(this.props,A)}render(A){}cleanup(){}}{constructor(){super(...arguments),this._lastRenderIndex=-1}render(A){const[e,t]=this.device.canvasContext.getDrawingBufferSize(),r=A.clearCanvas??!0,n=A.clearColor??(!!r&&[0,0,0,0]),i=!!r&&1,s=!!r&&0,o=A.colorMask??15,a={viewport:[0,0,e,t]};A.colorMask&&(a.colorMask=o),A.scissorRect&&(a.scissorRect=A.scissorRect);const c=this.device.beginRenderPass({framebuffer:A.target,parameters:a,clearColor:n,clearDepth:i,clearStencil:s});try{return this._drawLayers(c,A)}finally{c.end()}}_drawLayers(A,e){const{target:t,moduleParameters:r,viewports:n,views:i,onViewportActive:s,clearStack:o=!0}=e;e.pass=e.pass||"unknown",o&&(this._lastRenderIndex=-1);const a=[];for(const c of n){const n=i&&i[c.id];s?.(c);const o=this._getDrawLayerParams(c,e),l=c.subViewports||[c];for(const i of l){const s=this._drawLayersInViewport(A,{target:t,moduleParameters:r,viewport:i,view:n,pass:e.pass,layers:e.layers},o);a.push(s)}}return a}_getDrawLayerParams(A,{layers:e,pass:t,isPicking:r=!1,layerFilter:n,cullRect:i,effects:s,moduleParameters:o},a=!1){const c=[],l=U(this._lastRenderIndex+1),u={layer:e[0],viewport:A,isPicking:r,renderPass:t,cullRect:i},h={};for(let f=0;f<e.length;f++){const r=e[f],i=this._shouldDrawLayer(r,u,n,h),d={shouldDrawLayer:i};i&&!a&&(d.layerRenderIndex=l(r,i),d.moduleParameters=this._getModuleParameters(r,s,t,o),d.layerParameters={...r.context.deck?.props.parameters,...this.getLayerParameters(r,f,A)}),c[f]=d}return c}_drawLayersInViewport(A,{layers:e,moduleParameters:t,pass:r,target:n,viewport:i,view:s},o){const a=function(A,{moduleParameters:e,target:t,viewport:r}){const n=e&&e.devicePixelRatio||A.canvasContext.cssToDeviceRatio(),[,i]=A.canvasContext.getDrawingBufferSize(),s=t?t.height:i,o=r;return[o.x*n,s-(o.y+o.height)*n,o.width*n,o.height*n]}(this.device,{moduleParameters:t,target:n,viewport:i});if(s&&s.props.clear){const A=!0===s.props.clear?{color:!0,depth:!0}:s.props.clear;this.device.withParametersWebGL({scissorTest:!0,scissor:a},(()=>this.device.clearWebGL(A)))}const c={totalCount:e.length,visibleCount:0,compositeCount:0,pickableCount:0};A.setParameters({viewport:a});for(let u=0;u<e.length;u++){const t=e[u],{shouldDrawLayer:n,layerRenderIndex:s,moduleParameters:a,layerParameters:h}=o[u];if(n&&t.props.pickable&&c.pickableCount++,t.isComposite)c.compositeCount++;else if(n){c.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,s),a.viewport=i,t.context.renderPass=A;try{t._drawLayer({renderPass:A,moduleParameters:a,uniforms:{layerIndex:s},parameters:h})}catch(l){t.raiseError(l,`drawing ${t} to ${r}`)}}}return c}shouldDrawLayer(A){return!0}getModuleParameters(A,e){return null}getLayerParameters(A,e,t){return A.props.parameters}_shouldDrawLayer(A,e,t,r){if(!(A.props.visible&&this.shouldDrawLayer(A)))return!1;e.layer=A;let n=A.parent;for(;n;){if(!n.props.visible||!n.filterSubLayer(e))return!1;e.layer=n,n=n.parent}if(t){const A=e.layer.id;if(A in r||(r[A]=t(e)),!r[A])return!1}return A.activateViewport(e.viewport),!0}_getModuleParameters(A,e,t,r){const n=this.device.canvasContext.cssToDeviceRatio(),i=Object.assign(Object.create(A.internalState?.propsInTransition||A.props),{autoWrapLongitude:A.wrapLongitude,viewport:A.context.viewport,mousePosition:A.context.mousePosition,picking:{isActive:0},devicePixelRatio:n});if(e)for(const s of e)Object.assign(i,s.getModuleParameters?.(A));return Object.assign(i,this.getModuleParameters(A,e),r)}}function U(A=0,e={}){const t={},r=(n,i)=>{const s=n.props._offset,o=n.id,a=n.parent&&n.parent.id;let c;if(a&&!(a in e)&&r(n.parent,!1),a in t){const A=t[a]=t[a]||U(e[a],e);c=A(n,i),t[o]=A}else Number.isFinite(s)?(c=s+(e[a]||0),t[o]=null):c=A;return i&&c>=A&&(A=c+1),e[o]=c,c};return r}class G extends N{constructor(A,e){super(A,e),this.shadowMap=A.createTexture({width:1,height:1,sampler:{minFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}}),this.depthBuffer=A.createTexture({format:"depth16unorm",width:1,height:1,mipmaps:!1,dataFormat:6402,type:5125}),this.fbo=A.createFramebuffer({id:"shadowmap",width:1,height:1,colorAttachments:[this.shadowMap],depthStencilAttachment:this.depthBuffer})}render(A){const e=this.fbo,t=this.device.canvasContext.cssToDeviceRatio(),r=A.viewports[0],n=r.width*t,i=r.height*t;n===e.width&&i===e.height||e.resize({width:n,height:i}),super.render({...A,clearColor:[1,1,1,1],target:e,pass:"shadow"})}getLayerParameters(A,e,t){return{...A.props.parameters,blend:!1,depthRange:[0,1],depthTest:!0}}shouldDrawLayer(A){return!1!==A.props.shadowEnabled}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.destroy(),this.fbo=null),this.shadowMap&&(this.shadowMap.destroy(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.destroy(),this.depthBuffer=null)}}var z=t(6704),V=t(251),Q=t(9451);const j=(0,V.A)((function({viewport:A,center:e}){return new F.k(A.viewProjectionMatrix).invert().transform(e)})),W=(0,V.A)((function({viewport:A,shadowMatrices:e}){const t=[],r=A.pixelUnprojectionMatrix,n=A.isGeospatial?void 0:1,i=[[0,0,n],[A.width,0,n],[0,A.height,n],[A.width,A.height,n],[0,0,-1],[A.width,0,-1],[0,A.height,-1],[A.width,A.height,-1]].map((A=>function(A,e){const[t,r,n]=A,i=(0,Q.xJ)([t,r,n],e);if(Number.isFinite(n))return i;return[i[0],i[1],0]}(A,r)));for(const s of e){const e=s.clone().translate(new k.P(A.center).negate()),r=i.map((A=>e.transform(A))),n=(new F.k).ortho({left:Math.min(...r.map((A=>A[0]))),right:Math.max(...r.map((A=>A[0]))),bottom:Math.min(...r.map((A=>A[1]))),top:Math.max(...r.map((A=>A[1]))),near:Math.min(...r.map((A=>-A[2]))),far:Math.max(...r.map((A=>-A[2])))});t.push(n.multiplyRight(s))}return t})),H=[0,0,0,1],X=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];const Y={name:"shadow",dependencies:[a.A],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nout vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nin vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:(A={},e={})=>"viewport"in A&&(A.drawToShadowMap||A.shadowMaps&&A.shadowMaps.length>0)?function(A,e){const{shadowEnabled:t=!0}=A;if(!t||!A.shadowMatrices||!A.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1,shadow_uShadowMap0:A.dummyShadowMap,shadow_uShadowMap1:A.dummyShadowMap};const r={shadow_uDrawShadowMap:Boolean(A.drawToShadowMap),shadow_uUseShadowMap:!!A.shadowMaps&&A.shadowMaps.length>0,shadow_uColor:A.shadowColor||H,shadow_uLightId:A.shadowLightId||0,shadow_uLightCount:A.shadowMatrices.length},n=j({viewport:A.viewport,center:e.project_uCenter}),i=[],s=W({shadowMatrices:A.shadowMatrices,viewport:A.viewport}).slice();for(let o=0;o<A.shadowMatrices.length;o++){const t=s[o],r=t.clone().translate(new k.P(A.viewport.center).negate());e.project_uCoordinateSystem===z.rf.LNGLAT&&e.project_uProjectionMode===z.Kx.WEB_MERCATOR?(s[o]=r,i[o]=n):(s[o]=t.clone().multiplyRight(X),i[o]=r.transform(n))}for(let o=0;o<s.length;o++)r[`shadow_uViewProjectionMatrices[${o}]`]=s[o],r[`shadow_uProjectCenters[${o}]`]=i[o];for(let o=0;o<2;o++)r[`shadow_uShadowMap${o}`]=A.shadowMaps&&A.shadowMaps[o]||A.dummyShadowMap;return r}(A,e):{}},K={color:[255,255,255],intensity:1},Z=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],$=[0,0,0,200/255];class q{constructor(A={}){this.id="lighting-effect",this.shadowColor=$,this.shadow=!1,this.ambientLight=null,this.directionalLights=[],this.pointLights=[],this.shadowPasses=[],this.shadowMaps=[],this.dummyShadowMap=null,this.setProps(A)}setup(A){this.context=A;const{device:e,deck:t}=A;this.shadow&&!this.dummyShadowMap&&(this._createShadowPasses(e),t._addDefaultShaderModule(Y),this.dummyShadowMap=e.createTexture({width:1,height:1}))}setProps(A){this.ambientLight=null,this.directionalLights=[],this.pointLights=[];for(const e in A){const t=A[e];switch(t.type){case"ambient":this.ambientLight=t;break;case"directional":this.directionalLights.push(t);break;case"point":this.pointLights.push(t)}}this._applyDefaultLights(),this.shadow=this.directionalLights.some((A=>A.shadow)),this.context&&this.setup(this.context),this.props=A}preRender({layers:A,layerFilter:e,viewports:t,onViewportActive:r,views:n}){if(this.shadow){this.shadowMatrices=this._calculateMatrices();for(let i=0;i<this.shadowPasses.length;i++){this.shadowPasses[i].render({layers:A,layerFilter:e,viewports:t,onViewportActive:r,views:n,moduleParameters:{shadowLightId:i,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}}getModuleParameters(A){const e=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return e.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map((e=>e.getProjectedLight({layer:A}))),pointLights:this.pointLights.map((e=>e.getProjectedLight({layer:A})))},e}cleanup(A){for(const e of this.shadowPasses)e.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.destroy(),this.dummyShadowMap=null,A.deck._removeDefaultShaderModule(Y))}_calculateMatrices(){const A=[];for(const e of this.directionalLights){const t=(new F.k).lookAt({eye:new k.P(e.direction).negate()});A.push(t)}return A}_createShadowPasses(A){for(let e=0;e<this.directionalLights.length;e++){const t=new G(A);this.shadowPasses[e]=t,this.shadowMaps[e]=t.shadowMap}}_applyDefaultLights(){const{ambientLight:A,pointLights:e,directionalLights:t}=this;A||0!==e.length||0!==t.length||(this.ambientLight=new M(K),this.directionalLights.push(new O(Z[0]),new O(Z[1])))}}const J=new q;class AA{constructor(A){this._resolvedEffects=[],this._defaultEffects=[],this.effects=[],this._context=A,this._needsRedraw="Initial render",this._setEffects([])}addDefaultEffect(A){const e=this._defaultEffects;if(!e.find((e=>e.id===A.id))){const t=e.findIndex((e=>{return t=A,(e.order??1/0)-(t.order??1/0)>0;var t}));t<0?e.push(A):e.splice(t,0,A),A.setup(this._context),this._setEffects(this.effects)}}setProps(A){"effects"in A&&((0,T.b)(A.effects,this.effects,1)||this._setEffects(A.effects))}needsRedraw(A={clearRedrawFlags:!1}){const e=this._needsRedraw;return A.clearRedrawFlags&&(this._needsRedraw=!1),e}getEffects(){return this._resolvedEffects}_setEffects(A){const e={};for(const r of this.effects)e[r.id]=r;const t=[];for(const r of A){const A=e[r.id];let n=r;A&&A!==r?A.setProps?(A.setProps(r.props),n=A):A.cleanup(this._context):A||r.setup(this._context),t.push(n),delete e[r.id]}for(const r in e)e[r].cleanup(this._context);this.effects=t,this._resolvedEffects=t.concat(this._defaultEffects),A.some((A=>A instanceof q))||this._resolvedEffects.push(J),this._needsRedraw="effects changed"}finalize(){for(const A of this._resolvedEffects)A.cleanup(this._context);this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}class eA extends N{shouldDrawLayer(A){const{operation:e}=A.props;return e.includes("draw")||e.includes("terrain")}}const tA={blendColorOperation:"add",blendColorSrcFactor:"one",blendColorDstFactor:"zero",blendAlphaOperation:"add",blendAlphaSrcFactor:"constant-alpha",blendAlphaDstFactor:"zero"};class rA extends N{constructor(){super(...arguments),this._colorEncoderState=null}render(A){return"pickingFBO"in A?this._drawPickingBuffer(A):super.render(A)}_drawPickingBuffer({layers:A,layerFilter:e,views:t,viewports:r,onViewportActive:n,pickingFBO:i,deviceRect:{x:s,y:o,width:a,height:c},cullRect:l,effects:u,pass:h="picking",pickZ:f,moduleParameters:d}){this.pickZ=f;const p=this._resetColorEncoder(f),g=[s,o,a,c],_=super.render({target:i,layers:A,layerFilter:e,views:t,viewports:r,onViewportActive:n,cullRect:l,effects:u?.filter((A=>A.useInPicking)),pass:h,isPicking:!0,moduleParameters:d,clearColor:[0,0,0,0],colorMask:15,scissorRect:g});this._colorEncoderState=null;return{decodePickingColor:p&&nA.bind(null,p),stats:_}}shouldDrawLayer(A){const{pickable:e,operation:t}=A.props;return e&&t.includes("draw")||t.includes("terrain")||t.includes("mask")}getModuleParameters(){return{picking:{isActive:1,isAttribute:this.pickZ},lightSources:{}}}getLayerParameters(A,e,t){const r={depthMask:!0,depthTest:!0,depthRange:[0,1],...A.props.parameters},{pickable:n,operation:i}=A.props;return!this._colorEncoderState||i.includes("terrain")?r.blend=!1:n&&i.includes("draw")&&(Object.assign(r,tA),r.blend=!0,r.blendColor=function(A,e,t){const{byLayer:r,byAlpha:n}=A;let i,s=r.get(e);s?(s.viewports.push(t),i=s.a):(i=r.size+1,i<=255?(s={a:i,layer:e,viewports:[t]},r.set(e,s),n[i]=s):(f.A.warn("Too many pickable layers, only picking the first 255")(),i=0));return[0,0,0,i/255]}(this._colorEncoderState,A,t)),r}_resetColorEncoder(A){return this._colorEncoderState=A?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}function nA(A,e){const t=A.byAlpha[e[3]];return t&&{pickedLayer:t.layer,pickedViewports:t.viewports,pickedObjectIndex:t.layer.decodePickingColor(e)}}class iA{constructor(A){this.device=A,this.gl=A.gl,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new eA(A),this.pickLayersPass=new rA(A),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(A){this.layerFilter!==A.layerFilter&&(this.layerFilter=A.layerFilter,this._needsRedraw="layerFilter changed"),this.drawPickingColors!==A.drawPickingColors&&(this.drawPickingColors=A.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(A){if(!A.viewports.length)return;const e=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,t={layerFilter:this.layerFilter,isPicking:this.drawPickingColors,...A};t.effects&&this._preRender(t.effects,t);const r=this.lastPostProcessEffect?this.renderBuffers[0]:t.target;this.lastPostProcessEffect&&(t.clearColor=[0,0,0,0],t.clearCanvas=!0);const n=e.render({...t,target:r});t.effects&&this._postRender(t.effects,t),this.renderCount++,(0,d.A)("deckRenderer.renderLayers",this,n,A)}needsRedraw(A={clearRedrawFlags:!1}){const e=this._needsRedraw;return A.clearRedrawFlags&&(this._needsRedraw=!1),e}finalize(){const{renderBuffers:A}=this;for(const e of A)e.delete();A.length=0}_preRender(A,e){this.lastPostProcessEffect=null,e.preRenderStats=e.preRenderStats||{};for(const t of A)e.preRenderStats[t.id]=t.preRender(e),t.postRender&&(this.lastPostProcessEffect=t.id);this.lastPostProcessEffect&&this._resizeRenderBuffers()}_resizeRenderBuffers(){const{renderBuffers:A}=this,e=this.device.canvasContext.getDrawingBufferSize();0===A.length&&[0,1].map((e=>{const t=this.device.createTexture({sampler:{minFilter:"linear",magFilter:"linear"}});A.push(this.device.createFramebuffer({id:`deck-renderbuffer-${e}`,colorAttachments:[t]}))}));for(const t of A)t.resize(e)}_postRender(A,e){const{renderBuffers:t}=this,r={...e,inputBuffer:t[0],swapBuffer:t[1]};for(const n of A)if(n.postRender){r.target=n.id===this.lastPostProcessEffect?e.target:void 0;const A=n.postRender(r);r.inputBuffer=A,r.swapBuffer=A===t[0]?t[1]:t[0]}}}const sA={pickedColor:null,pickedObjectIndex:-1};function oA({pickedColors:A,decodePickingColor:e,deviceX:t,deviceY:r,deviceRadius:n,deviceRect:i}){const{x:s,y:o,width:a,height:c}=i;let l=n*n,u=-1,h=0;for(let f=0;f<c;f++){const e=f+o-r,n=e*e;if(n>l)h+=4*a;else for(let r=0;r<a;r++){if(A[h+3]-1>=0){const A=r+s-t,e=A*A+n;e<=l&&(l=e,u=h)}h+=4}}if(u>=0){const t=A.slice(u,u+4),r=e(t);if(r){const A=Math.floor(u/4/a),e=u/4-A*a;return{...r,pickedColor:t,pickedX:s+e,pickedY:o+A}}f.A.error("Picked non-existent layer. Is picking buffer corrupt?")()}return sA}function aA({pickInfo:A,viewports:e,pixelRatio:t,x:r,y:n,z:i}){let s,o=e[0];if(e.length>1&&(o=function(A,e){for(let t=A.length-1;t>=0;t--){const r=A[t];if(r.containsPixel(e))return r}return A[0]}(A?.pickedViewports||e,{x:r,y:n})),o){const A=[r-o.x,n-o.y];void 0!==i&&(A[2]=i),s=o.unproject(A)}return{color:null,layer:null,viewport:o,index:-1,picked:!1,x:r,y:n,pixel:[r,n],coordinate:s,devicePixel:A&&"pickedX"in A?[A.pickedX,A.pickedY]:void 0,pixelRatio:t}}function cA(A){const{pickInfo:e,lastPickedInfo:t,mode:r,layers:n}=A,{pickedColor:i,pickedLayer:s,pickedObjectIndex:o}=e,a=s?[s]:[];if("hover"===r){const A=t.index,e=t.layerId,r=s?s.props.id:null;if(r!==e||o!==A){if(r!==e){const A=n.find((A=>A.props.id===e));A&&a.unshift(A)}t.layerId=r,t.index=o,t.info=null}}const c=aA(A),l=new Map;return l.set(null,c),a.forEach((A=>{let e={...c};A===s&&(e.color=i,e.index=o,e.picked=!0),e=lA({layer:A,info:e,mode:r});const n=e.layer;A===s&&"hover"===r&&(t.info=e),l.set(n.id,e),"hover"===r&&n.updateAutoHighlight(e)})),l}function lA({layer:A,info:e,mode:t}){for(;A&&e;){const r=e.layer||null;e.sourceLayer=r,e.layer=A,e=A.getPickingInfo({info:e,mode:t,sourceLayer:r}),A=A.parent}return e}class uA{constructor(A){this._pickable=!0,this.device=A,this.pickLayersPass=new rA(A),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(A){"layerFilter"in A&&(this.layerFilter=A.layerFilter),"_pickable"in A&&(this._pickable=A._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.destroy(),this.depthFBO&&this.depthFBO.destroy()}pickObject(A){return this._pickClosestObject(A)}pickObjects(A){return this._pickVisibleObjects(A)}getLastPickedObject({x:A,y:e,layers:t,viewports:r},n=this.lastPickedInfo.info){const i=n&&n.layer&&n.layer.id,s=n&&n.viewport&&n.viewport.id,o=i?t.find((A=>A.id===i)):null,a=s&&r.find((A=>A.id===s))||r[0],c=a&&a.unproject([A-a.x,e-a.y]),l={x:A,y:e,viewport:a,coordinate:c,layer:o};return{...n,...l}}_resizeBuffer(){if(!this.pickingFBO&&(this.pickingFBO=this.device.createFramebuffer({colorAttachments:["rgba8unorm"],depthStencilAttachment:"depth16unorm"}),this.device.isTextureFormatRenderable("rgba32float"))){const A=this.device.createFramebuffer({colorAttachments:["rgba32float"],depthStencilAttachment:"depth16unorm"});this.depthFBO=A}const A=this.device.gl;this.pickingFBO?.resize({width:A.canvas.width,height:A.canvas.height}),this.depthFBO?.resize({width:A.canvas.width,height:A.canvas.height})}_getPickable(A){if(!1===this._pickable)return null;const e=A.filter((A=>this.pickLayersPass.shouldDrawLayer(A)&&!A.isComposite));return e.length?e:null}_pickClosestObject({layers:A,views:e,viewports:t,x:r,y:n,radius:i=0,depth:s=1,mode:o="query",unproject3D:a,onViewportActive:c,effects:l}){const u=this.device.canvasContext.cssToDeviceRatio(),h=this._getPickable(A);if(!h||0===t.length)return{result:[],emptyInfo:aA({viewports:t,x:r,y:n,pixelRatio:u})};this._resizeBuffer();const f=this.device.canvasContext.cssToDevicePixels([r,n],!0),d=[f.x+Math.floor(f.width/2),f.y+Math.floor(f.height/2)],p=Math.round(i*u),{width:g,height:_}=this.pickingFBO,m=this._getPickingRect({deviceX:d[0],deviceY:d[1],deviceRadius:p,deviceWidth:g,deviceHeight:_}),v={x:r-i,y:n-i,width:2*i+1,height:2*i+1};let E;const b=[],w=new Set;for(let y=0;y<s;y++){let A,i;if(m){A=oA({...this._drawAndSample({layers:h,views:e,viewports:t,onViewportActive:c,deviceRect:m,cullRect:v,effects:l,pass:`picking:${o}`}),deviceX:d[0],deviceY:d[1],deviceRadius:p,deviceRect:m})}else A={pickedColor:null,pickedObjectIndex:-1};if(A.pickedLayer&&a&&this.depthFBO){const{pickedColors:r}=this._drawAndSample({layers:[A.pickedLayer],views:e,viewports:t,onViewportActive:c,deviceRect:{x:A.pickedX,y:A.pickedY,width:1,height:1},cullRect:v,effects:l,pass:`picking:${o}:z`},!0);r[3]&&(i=r[0])}A.pickedLayer&&y+1<s&&(w.add(A.pickedLayer),A.pickedLayer.disablePickingIndex(A.pickedObjectIndex)),E=cA({pickInfo:A,lastPickedInfo:this.lastPickedInfo,mode:o,layers:h,viewports:t,x:r,y:n,z:i,pixelRatio:u});for(const e of E.values())e.layer&&b.push(e);if(!A.pickedColor)break}for(const y of w)y.restorePickingColors();return{result:b,emptyInfo:E.get(null)}}_pickVisibleObjects({layers:A,views:e,viewports:t,x:r,y:n,width:i=1,height:s=1,mode:o="query",maxObjects:a=null,onViewportActive:c,effects:l}){const u=this._getPickable(A);if(!u||0===t.length)return[];this._resizeBuffer();const h=this.device.canvasContext.cssToDeviceRatio(),d=this.device.canvasContext.cssToDevicePixels([r,n],!0),p=d.x,g=d.y+d.height,_=this.device.canvasContext.cssToDevicePixels([r+i,n+s],!0),m=_.x+_.width,v=_.y,E={x:p,y:v,width:m-p,height:g-v},b=function({pickedColors:A,decodePickingColor:e}){const t=new Map;if(A)for(let r=0;r<A.length;r+=4)if(A[r+3]-1>=0){const n=A.slice(r,r+4),i=n.join(",");if(!t.has(i)){const A=e(n);A?t.set(i,{...A,color:n}):f.A.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return Array.from(t.values())}(this._drawAndSample({layers:u,views:e,viewports:t,onViewportActive:c,deviceRect:E,cullRect:{x:r,y:n,width:i,height:s},effects:l,pass:`picking:${o}`})),w=new Map,y=[],T=Number.isFinite(a);for(let f=0;f<b.length&&!(T&&y.length>=a);f++){const A=b[f];let e={color:A.pickedColor,layer:null,index:A.pickedObjectIndex,picked:!0,x:r,y:n,pixelRatio:h};e=lA({layer:A.pickedLayer,info:e,mode:o});const t=e.layer.id;w.has(t)||w.set(t,new Set);const i=w.get(t),s=e.object??e.index;i.has(s)||(i.add(s),y.push(e))}return y}_drawAndSample({layers:A,views:e,viewports:t,onViewportActive:r,deviceRect:n,cullRect:i,effects:s,pass:o},a=!1){const c=a?this.depthFBO:this.pickingFBO,l={layers:A,layerFilter:this.layerFilter,views:e,viewports:t,onViewportActive:r,pickingFBO:c,deviceRect:n,cullRect:i,effects:s,pass:o,pickZ:a,preRenderStats:{}};for(const _ of s)_.useInPicking&&(l.preRenderStats[_.id]=_.preRender(l));const{decodePickingColor:u}=this.pickLayersPass.render(l),{x:h,y:f,width:d,height:p}=n,g=new(a?Float32Array:Uint8Array)(d*p*4);return this.device.readPixelsToArrayWebGL(c,{sourceX:h,sourceY:f,sourceWidth:d,sourceHeight:p,target:g}),{pickedColors:g,decodePickingColor:u}}_getPickingRect({deviceX:A,deviceY:e,deviceRadius:t,deviceWidth:r,deviceHeight:n}){const i=Math.max(0,A-t),s=Math.max(0,e-t),o=Math.min(r,A+t+1)-i,a=Math.min(n,e+t+1)-s;return o<=0||a<=0?null:{x:i,y:s,width:o,height:a}}}const hA={"top-left":{top:0,left:0},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-right":{bottom:0,right:0},fill:{top:0,left:0,bottom:0,right:0}},fA="top-left",dA="__root";class pA{constructor({deck:A,parentElement:e}){this.defaultWidgets=[],this.widgets=[],this.resolvedWidgets=[],this.containers={},this.lastViewports={},this.deck=A,this.parentElement=e}getWidgets(){return this.resolvedWidgets}setProps(A){A.widgets&&!(0,T.b)(A.widgets,this.widgets,1)&&this._setWidgets(A.widgets)}finalize(){for(const A of this.getWidgets())this._remove(A);this.defaultWidgets.length=0,this.resolvedWidgets.length=0;for(const A in this.containers)this.containers[A].remove()}addDefault(A){this.defaultWidgets.find((e=>e.id===A.id))||(this._add(A),this.defaultWidgets.push(A),this._setWidgets(this.widgets))}_setWidgets(A){const e={};for(const t of this.resolvedWidgets)e[t.id]=t;this.resolvedWidgets.length=0;for(const t of this.defaultWidgets)e[t.id]=null,this.resolvedWidgets.push(t);for(let t of A){const A=e[t.id];A?A.viewId!==t.viewId||A.placement!==t.placement?(this._remove(A),this._add(t)):t!==A&&(A.setProps(t.props),t=A):this._add(t),e[t.id]=null,this.resolvedWidgets.push(t)}for(const t in e){const A=e[t];A&&this._remove(A)}this.widgets=A}_add(A){const{viewId:e=null,placement:t=fA}=A,r=A.onAdd({deck:this.deck,viewId:e});r&&this._getContainer(e,t).append(r),A._element=r}_remove(A){A.onRemove(),A._element&&A._element.remove(),A._element=void 0}_getContainer(A,e){const t=A||dA;let r=this.containers[t];r||(r=document.createElement("div"),r.style.pointerEvents="none",r.style.position="absolute",r.style.overflow="hidden",this.parentElement?.append(r),this.containers[t]=r);let n=r.querySelector(`.${e}`);return n||(n=document.createElement("div"),n.className=e,n.style.position="absolute",n.style.zIndex="2",Object.assign(n.style,hA[e]),r.append(n)),n}_updateContainers(){const A=this.deck.width,e=this.deck.height;for(const t in this.containers){const r=this.lastViewports[t]||null,n=t===dA||r,i=this.containers[t];n?(i.style.display="block",i.style.left=`${r?r.x:0}px`,i.style.top=`${r?r.y:0}px`,i.style.width=`${r?r.width:A}px`,i.style.height=`${r?r.height:e}px`):i.style.display="none"}}onRedraw({viewports:A,layers:e}){const t=A.reduce(((A,e)=>(A[e.id]=e,A)),{}),{lastViewports:r}=this;for(const n of this.getWidgets()){const{viewId:i}=n;if(i){const A=t[i];A&&(n.onViewportChange&&!A.equals(r[i])&&n.onViewportChange(A),n.onRedraw?.({viewports:[A],layers:e}))}else{if(n.onViewportChange)for(const e of A)e.equals(r[e.id])||n.onViewportChange(e);n.onRedraw?.({viewports:A,layers:e})}}this.lastViewports=t,this._updateContainers()}onHover(A,e){for(const t of this.getWidgets()){const{viewId:r}=t;r&&r!==A.viewport?.id||t.onHover?.(A,e)}}onEvent(A,e){const t=z.qY[e.type];if(t)for(const r of this.getWidgets()){const{viewId:n}=r;n&&n!==A.viewport?.id||r[t.handler]?.(A,e)}}}const gA={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class _A{constructor(){this.id="default-tooltip",this.placement="fill",this.props={},this.isVisible=!1}onAdd({deck:A}){const e=document.createElement("div");return e.className="deck-tooltip",Object.assign(e.style,gA),this.deck=A,this.element=e,e}onRemove(){this.deck=void 0,this.element=void 0}setProps(){}onViewportChange(A){this.isVisible&&A.id===this.lastViewport?.id&&A!==this.lastViewport&&this.setTooltip(null)}onHover(A){const{deck:e}=this,t=e&&e.props.getTooltip;if(!t)return;const r=t(A);this.lastViewport=A.viewport,this.setTooltip(r,A.x,A.y)}setTooltip(A,e,t){const r=this.element;if(r){if("string"==typeof A)r.innerText=A;else{if(!A)return this.isVisible=!1,void(r.style.display="none");A.text&&(r.innerText=A.text),A.html&&(r.innerHTML=A.html),A.className&&(r.className=A.className)}this.isVisible=!0,r.style.display="block",r.style.transform=`translate(${e}px, ${t}px)`,A&&"object"==typeof A&&"style"in A&&Object.assign(r.style,A.style)}}}var mA=t(8457),vA=t(1469);var EA=t(5018),bA=t(4177);const wA=globalThis.loaders?.parseImageNode,yA="undefined"!=typeof Image,TA="undefined"!=typeof ImageBitmap,SA=Boolean(wA),CA=!!bA.Bd||SA;function RA(A){const e=xA(A);if(!e)throw new Error("Not an image");return e}function PA(A){switch(RA(A)){case"data":return A;case"image":case"imagebitmap":const e=document.createElement("canvas"),t=e.getContext("2d");if(!t)throw new Error("getImageData");return e.width=A.width,e.height=A.height,t.drawImage(A,0,0),t.getImageData(0,0,A.width,A.height);default:throw new Error("getImageData")}}function xA(A){return"undefined"!=typeof ImageBitmap&&A instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&A instanceof Image?"image":A&&"object"==typeof A&&A.data&&A.width&&A.height?"data":null}const MA=/^data:image\/svg\+xml/,kA=/\.svg((\?|#).*)?$/;function BA(A){return A&&(MA.test(A)||kA.test(A))}function IA(A,e){if(BA(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(A)])}async function LA(A,e,t){const r=function(A,e){if(BA(e)){let e=(new TextDecoder).decode(A);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(e=unescape(encodeURIComponent(e)))}catch(t){throw new Error(t.message)}return`data:image/svg+xml;base64,${btoa(e)}`}return IA(A,e)}(A,t),n=self.URL||self.webkitURL,i="string"!=typeof r&&n.createObjectURL(r);try{return await async function(A,e){const t=new Image;if(t.src=A,e.image&&e.image.decode&&t.decode)return await t.decode(),t;return await new Promise(((A,e)=>{try{t.onload=()=>A(t),t.onerror=A=>{const t=A instanceof Error?A.message:"error";e(new Error(t))}}catch(r){e(r)}}))}(i||r,e)}finally{i&&n.revokeObjectURL(i)}}const DA={};let OA=!0;async function FA(A,e,t){let r;if(BA(t)){r=await LA(A,e,t)}else r=IA(A,t);const n=e&&e.imagebitmap;return await async function(A,e=null){!function(A){for(const e in A||DA)return!1;return!0}(e)&&OA||(e=null);if(e)try{return await createImageBitmap(A,e)}catch(t){console.warn(t),OA=!1}return await createImageBitmap(A)}(r,n)}function NA(A){return function(A,e,t=0){const r=(n=e,[...n].map((A=>A.charCodeAt(0))));var n;for(let i=0;i<r.length;++i)if(r[i]!==A[i+t])return!1;return!0}(A,"ftyp",4)?0==(96&A[8])?null:function(A){switch((e=A,t=8,r=12,String.fromCharCode(...e.slice(t,r))).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}var e,t,r}(A):null}const UA=!1,GA=!0;function zA(A){const e=VA(A);return function(A){const e=VA(A);if(!(e.byteLength>=24&&2303741511===e.getUint32(0,UA)))return null;return{mimeType:"image/png",width:e.getUint32(16,UA),height:e.getUint32(20,UA)}}(e)||function(A){const e=VA(A);if(!(e.byteLength>=3&&65496===e.getUint16(0,UA)&&255===e.getUint8(2)))return null;const{tableMarkers:t,sofMarkers:r}=function(){const A=new Set([65499,65476,65484,65501,65534]);for(let t=65504;t<65520;++t)A.add(t);const e=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:A,sofMarkers:e}}();let n=2;for(;n+9<e.byteLength;){const A=e.getUint16(n,UA);if(r.has(A))return{mimeType:"image/jpeg",height:e.getUint16(n+5,UA),width:e.getUint16(n+7,UA)};if(!t.has(A))return null;n+=2,n+=e.getUint16(n,UA)}return null}(e)||function(A){const e=VA(A);if(!(e.byteLength>=10&&1195984440===e.getUint32(0,UA)))return null;return{mimeType:"image/gif",width:e.getUint16(6,GA),height:e.getUint16(8,GA)}}(e)||function(A){const e=VA(A);if(!(e.byteLength>=14&&16973===e.getUint16(0,UA)&&e.getUint32(2,GA)===e.byteLength))return null;return{mimeType:"image/bmp",width:e.getUint32(18,GA),height:e.getUint32(22,GA)}}(e)||function(A){const e=NA(new Uint8Array(A instanceof DataView?A.buffer:A));if(!e)return null;return{mimeType:e.mimeType,width:0,height:0}}(e)}function VA(A){if(A instanceof DataView)return A;if(ArrayBuffer.isView(A))return new DataView(A.buffer);if(A instanceof ArrayBuffer)return new DataView(A);throw new Error("toDataView")}const QA={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:"4.2.1",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:async function(A,e,t){const r=((e=e||{}).image||{}).type||"auto",{url:n}=t||{};let i;switch(function(A){switch(A){case"auto":case"data":return function(){if(TA)return"imagebitmap";if(yA)return"image";if(CA)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(A){switch(A){case"auto":return TA||yA||CA;case"imagebitmap":return TA;case"image":return yA;case"data":return CA;default:throw new Error(`@loaders.gl/images: image ${A} not supported in this environment`)}}(A),A}}(r)){case"imagebitmap":i=await FA(A,e,n);break;case"image":i=await LA(A,e,n);break;case"data":i=await async function(A,e){const{mimeType:t}=zA(A)||{},r=globalThis.loaders?.parseImageNode;return(0,EA.v)(r),await r(A,t)}(A);break;default:(0,EA.v)(!1)}return"data"===r&&(i=PA(i)),i},tests:[A=>Boolean(zA(new DataView(A)))],options:{image:{type:"auto",decode:!0}}};const jA={dataType:null,batchType:null,id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function(A){const e=A[0],t=A[A.length-1];return"{"===e&&"}"===t||"["===e&&"]"===t},parseTextSync:JSON.parse};const WA=function(){const A="9.0.20",e=globalThis.deck&&globalThis.deck.VERSION;if(e&&e!==A)throw new Error(`deck.gl - multiple versions detected: ${e} vs 9.0.20`);return e||(f.A.log(1,"deck.gl 9.0.20")(),globalThis.deck={...globalThis.deck,VERSION:A,version:A,log:f.A,_registerLoggers:d.k},(0,vA.mk)([jA,[QA,{imagebitmap:{premultiplyAlpha:"none"}}]])),A}();var HA=t(4003),XA=t(9749);const YA=new class{stats=new Map;getStats(A){return this.get(A)}get(A){return this.stats.has(A)||this.stats.set(A,new m({id:A})),this.stats.get(A)}};const KA=function(){const A="9.0.14";if(globalThis.luma&&globalThis.luma.VERSION!==A)throw new Error(`luma.gl - multiple VERSIONs detected: ${globalThis.luma.VERSION} vs 9.0.14`);return globalThis.luma||((0,HA.B)()&&XA.R.log(1,"9.0.14 - set luma.log.level=1 (or higher) to trace rendering")(),globalThis.luma=globalThis.luma||{VERSION:A,version:A,log:XA.R,stats:YA}),A}();var ZA=t(9038),$A=t(6049),qA=t(5332);const JA=["bc1","bc2","bc3","bc4","bc5","bc6","bc7","etc1","etc2","eac","atc","astc","pvrtc"],Ae=/^(rg?b?a?)([0-9]*)([a-z]*)(-srgb)?(-webgl|-unsized)?$/;function ee(A){const e=Ae.exec(A);if(e){const[,A,t,r,n,i]=e;if(A){const e=`${r}${t}`,s=(0,qA.l)(e);return{format:A,components:A.length,srgb:"-srgb"===n,unsized:"-unsized"===i,webgl:"-webgl"===i,...s}}}return function(A){const e=te[A];if(!e)throw new Error(`Unknown format ${A}`);return{format:e.format||"",components:e.components||e.format?.length||1,byteLength:e.bpp||1,srgb:!1,unsized:!1}}(A)}const te={"rgba4unorm-webgl":{format:"rgba",bpp:2},"rgb565unorm-webgl":{format:"rgb",bpp:2},"rgb5a1unorm-webgl":{format:"rgba",bbp:2},rgb9e5ufloat:{format:"rgb",bbp:4},rg11b10ufloat:{format:"rgb",bbp:4},rgb10a2unorm:{format:"rgba",bbp:4},"rgb10a2uint-webgl":{format:"rgba",bbp:4},stencil8:{components:1,bpp:1,a:"stencil"},depth16unorm:{components:1,bpp:2,a:"depth"},depth24plus:{components:1,bpp:3,a:"depth"},depth32float:{components:1,bpp:4,a:"depth"},"depth24plus-stencil8":{components:2,bpp:4,a:"depth-stencil"},"depth24unorm-stencil8":{components:2,bpp:4,a:"depth-stencil"},"depth32float-stencil8":{components:2,bpp:4,a:"depth-stencil"}};class re{features;disabledFeatures;constructor(A=[],e){this.features=new Set(A),this.disabledFeatures=e||{}}*[Symbol.iterator](){yield*this.features}has(A){return!this.disabledFeatures[A]&&this.features.has(A)}}class ne{static defaultProps={id:null,canvas:null,container:null,manageState:!0,width:800,height:600,requestMaxLimits:!0,debug:Boolean(XA.R.get("debug")),spector:Boolean(XA.R.get("spector")||XA.R.get("spectorjs")),break:[],initalizeFeatures:!0,disabledFeatures:{"compilation-status-async-webgl":!0},gl:null,onError:A=>XA.R.error(A.message)};get[Symbol.toStringTag](){return"Device"}static VERSION=KA;constructor(A){this.props={...ne.defaultProps,...A},this.id=this.props.id||(0,ZA.L)(this[Symbol.toStringTag].toLowerCase())}id;props;userData={};statsManager=YA;_lumaData={};isTextureFormatCompressed(A){return e=A,JA.some((A=>e.startsWith(A)));var e}loseDevice(){return!1}getCanvasContext(){if(!this.canvasContext)throw new Error("Device has no CanvasContext");return this.canvasContext}createTexture(A){return(A instanceof Promise||"string"==typeof A)&&(A={data:A}),this._createTexture(A)}createCommandEncoder(A={}){throw new Error("not implemented")}readPixelsToArrayWebGL(A,e){throw new Error("not implemented")}readPixelsToBufferWebGL(A,e){throw new Error("not implemented")}setParametersWebGL(A){throw new Error("not implemented")}getParametersWebGL(A){throw new Error("not implemented")}withParametersWebGL(A,e){throw new Error("not implemented")}clearWebGL(A){throw new Error("not implemented")}resetWebGL(){throw new Error("not implemented")}timestamp=0;incrementTimestamp(){return this.timestamp++}onError(A){this.props.onError(A)}_getBufferProps(A){(A instanceof ArrayBuffer||ArrayBuffer.isView(A))&&(A={data:A});const e={...A};return(A.usage||0)&$A.h.INDEX&&!A.indexType&&(A.data instanceof Uint32Array?e.indexType="uint32":A.data instanceof Uint16Array?e.indexType="uint16":XA.R.warn("indices buffer content must be of integer type")()),e}}var ie=t(290);const se=new Map;class oe{static defaultProps={...ne.defaultProps,type:"best-available",devices:void 0};static stats=YA;static log=XA.R;static registerDevices(A){for(const e of A)(0,ie.v)(e.type&&e.isSupported&&e.create),se.set(e.type,e)}static getAvailableDevices(){return Array.from(se).map((A=>A.type))}static getSupportedDevices(){return Array.from(se).filter((A=>A.isSupported())).map((A=>A.type))}static setDefaultDeviceProps(A){Object.assign(ne.defaultProps,A)}static async attachDevice(A){const e=ae(A.devices)||se;if(A.handle instanceof WebGL2RenderingContext){const t=e.get("webgl");if(t)return await t.attach(A.handle)}if(null===A.handle){const A=e.get("unknown");if(A)return await A.attach(null)}throw new Error("Failed to attach device. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.")}static async createDevice(A={}){(A={...oe.defaultProps,...A}).gl&&(A.type="webgl");const e=ae(A.devices)||se;switch(A.type){case"webgpu":let t=e.get("webgpu");if(t)return await t.create(A);break;case"webgl":let r=e.get("webgl");if(r)return await r.create(A);break;case"unknown":const n=e.get("unknown");if(n)return await n.create(A);break;case"best-available":if(t=e.get("webgpu"),t?.isSupported?.())return await t.create(A);if(r=e.get("webgl"),r?.isSupported?.())return await r.create(A)}throw new Error("No matching device found. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.")}static enforceWebGL2(A=!0){const e=HTMLCanvasElement.prototype;if(!A&&e.originalGetContext)return e.getContext=e.originalGetContext,void(e.originalGetContext=void 0);e.originalGetContext=e.getContext,e.getContext=function(A,e){return"webgl"===A||"experimental-webgl"===A?this.originalGetContext("webgl2",e):this.originalGetContext(A,e)}}}function ae(A){if(!A||0===A?.length)return null;const e=new Map;for(const t of A)e.set(t.type,t);return e}const ce=(0,HA.B)()&&"undefined"!=typeof document,le=()=>ce&&"complete"===document.readyState,ue={canvas:null,width:800,height:600,useDevicePixels:!0,autoResize:!0,container:null,visible:!0,colorSpace:"srgb",alphaMode:"opaque"};class he{id;props;canvas;htmlCanvas;offscreenCanvas;type;width=1;height=1;resizeObserver;_canvasSizeInfo={clientWidth:0,clientHeight:0,devicePixelRatio:1};static get isPageLoaded(){return le()}static pageLoaded=function(){if(le()||"undefined"==typeof window)return Promise.resolve();return new Promise((A=>{window.addEventListener("load",(()=>A()))}))}();constructor(A){if(this.props={...ue,...A},A=this.props,!(0,HA.B)())return this.id="node-canvas-context",this.type="node",this.width=this.props.width,this.height=this.props.height,void(this.canvas=null);if(A.canvas)"string"==typeof A.canvas?this.canvas=function(A){const e=document.getElementById(A);if(!e&&!le())throw new Error(`Accessing '${A}' before page was loaded`);if(!(e instanceof HTMLCanvasElement))throw new Error("Object is not a canvas element");return e}(A.canvas):this.canvas=A.canvas;else{const e=function(A){const{width:e,height:t}=A,r=document.createElement("canvas");return r.id="lumagl-auto-created-canvas",r.width=e||1,r.height=t||1,r.style.width=Number.isFinite(e)?`${e}px`:"100%",r.style.height=Number.isFinite(t)?`${t}px`:"100%",r}(A),t=function(A){if("string"==typeof A){const e=document.getElementById(A);if(!e&&!le())throw new Error(`Accessing '${A}' before page was loaded`);if(!e)throw new Error(`${A} is not an HTML element`);return e}if(A)return A;return document.body}(A?.container||null);t.insertBefore(e,t.firstChild),this.canvas=e,A?.visible||(this.canvas.style.visibility="hidden")}this.canvas instanceof HTMLCanvasElement?(this.id=this.canvas.id,this.type="html-canvas",this.htmlCanvas=this.canvas):(this.id="offscreen-canvas",this.type="offscreen-canvas",this.offscreenCanvas=this.canvas),this.canvas instanceof HTMLCanvasElement&&A.autoResize&&(this.resizeObserver=new ResizeObserver((A=>{for(const e of A)e.target===this.canvas&&this.update()})),this.resizeObserver.observe(this.canvas))}getDevicePixelRatio(A){if("undefined"!=typeof OffscreenCanvas&&this.canvas instanceof OffscreenCanvas)return 1;if(!(A=void 0===A?this.props.useDevicePixels:A)||A<=0)return 1;if(!0===A){return"undefined"!=typeof window&&window.devicePixelRatio||1}return A}getPixelSize(){switch(this.type){case"node":return[this.width,this.height];case"offscreen-canvas":return[this.canvas.width,this.canvas.height];case"html-canvas":const A=this.getDevicePixelRatio(),e=this.canvas;return e.parentElement?[e.clientWidth*A,e.clientHeight*A]:[this.canvas.width,this.canvas.height];default:throw new Error(this.type)}}getAspect(){const[A,e]=this.getPixelSize();return A/e}cssToDeviceRatio(){try{const[A]=this.getDrawingBufferSize(),{clientWidth:e}=this._canvasSizeInfo;return e?A/e:1}catch{return 1}}cssToDevicePixels(A,e=!0){const t=this.cssToDeviceRatio(),[r,n]=this.getDrawingBufferSize();return function(A,e,t,r,n){const i=A,s=fe(i[0],e,t);let o=de(i[1],e,r,n),a=fe(i[0]+1,e,t);const c=a===t-1?a:a-1;let l;a=de(i[1]+1,e,r,n),n?(a=0===a?a:a+1,l=o,o=a):l=a===r-1?a:a-1;return{x:s,y:o,width:Math.max(c-s+1,1),height:Math.max(l-o+1,1)}}(A,t,r,n,e)}setDevicePixelRatio(A,e={}){if(!this.htmlCanvas)return;let t="width"in e?e.width:this.htmlCanvas.clientWidth,r="height"in e?e.height:this.htmlCanvas.clientHeight;t&&r||(XA.R.log(1,"Canvas clientWidth/clientHeight is 0")(),A=1,t=this.htmlCanvas.width||1,r=this.htmlCanvas.height||1);const n=this._canvasSizeInfo;if(n.clientWidth!==t||n.clientHeight!==r||n.devicePixelRatio!==A){let e=A;const n=Math.floor(t*e),i=Math.floor(r*e);this.htmlCanvas.width=n,this.htmlCanvas.height=i;const[s,o]=this.getDrawingBufferSize();s===n&&o===i||(e=Math.min(s/t,o/r),this.htmlCanvas.width=Math.floor(t*e),this.htmlCanvas.height=Math.floor(r*e),XA.R.warn("Device pixel ratio clamped")()),this._canvasSizeInfo.clientWidth=t,this._canvasSizeInfo.clientHeight=r,this._canvasSizeInfo.devicePixelRatio=A}}getDrawingBufferSize(){const A=this.device.gl;if(!A)throw new Error("canvas size");return[A.drawingBufferWidth,A.drawingBufferHeight]}_setAutoCreatedCanvasId(A){"lumagl-auto-created-canvas"===this.htmlCanvas?.id&&(this.htmlCanvas.id=A)}}function fe(A,e,t){return Math.min(Math.round(A*e),t-1)}function de(A,e,t,r){return r?Math.max(0,t-1-Math.round(A*e)):Math.min(Math.round(A*e),t-1)}const pe={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,35725:null,36006:null,36007:null,34229:null,34964:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32926:!1,32928:!1,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],36389:null,36662:null,36663:null,35053:null,35055:null,35723:4352,36010:null,35977:!1,3333:4,3317:4,37440:!1,37441:!1,37443:37444,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},ge=(A,e,t)=>e?A.enable(t):A.disable(t),_e=(A,e,t)=>A.hint(t,e),me=(A,e,t)=>A.pixelStorei(t,e),ve=(A,e,t)=>{const r=36006===t?36009:36008;return A.bindFramebuffer(r,e)},Ee=(A,e,t)=>{const r={34964:34962,36662:36662,36663:36663,35053:35051,35055:35052}[t];A.bindBuffer(r,e)};function be(A){return Array.isArray(A)||ArrayBuffer.isView(A)&&!(A instanceof DataView)}const we={3042:ge,32773:(A,e)=>A.blendColor(...e),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(A,e)=>A.clearColor(...e),3107:(A,e)=>A.colorMask(...e),2884:ge,2885:(A,e)=>A.cullFace(e),2929:ge,2931:(A,e)=>A.clearDepth(e),2932:(A,e)=>A.depthFunc(e),2928:(A,e)=>A.depthRange(...e),2930:(A,e)=>A.depthMask(e),3024:ge,35723:_e,35725:(A,e)=>A.useProgram(e),36007:(A,e)=>A.bindRenderbuffer(36161,e),36389:(A,e)=>A.bindTransformFeedback?.(36386,e),34229:(A,e)=>A.bindVertexArray(e),36006:ve,36010:ve,34964:Ee,36662:Ee,36663:Ee,35053:Ee,35055:Ee,2886:(A,e)=>A.frontFace(e),33170:_e,2849:(A,e)=>A.lineWidth(e),32823:ge,32824:"polygonOffset",10752:"polygonOffset",35977:ge,32926:ge,32928:ge,32938:"sampleCoverage",32939:"sampleCoverage",3089:ge,3088:(A,e)=>A.scissor(...e),2960:ge,2961:(A,e)=>A.clearStencil(e),2968:(A,e)=>A.stencilMaskSeparate(1028,e),36005:(A,e)=>A.stencilMaskSeparate(1029,e),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(A,e)=>A.viewport(...e),34383:ge,10754:ge,12288:ge,12289:ge,12290:ge,12291:ge,12292:ge,12293:ge,12294:ge,12295:ge,3333:me,3317:me,37440:me,37441:me,37443:me,3330:me,3332:me,3331:me,3314:me,32878:me,3316:me,3315:me,32877:me,framebuffer:(A,e)=>{const t=e&&"handle"in e?e.handle:e;return A.bindFramebuffer(36160,t)},blend:(A,e)=>e?A.enable(3042):A.disable(3042),blendColor:(A,e)=>A.blendColor(...e),blendEquation:(A,e)=>{const t="number"==typeof e?[e,e]:e;A.blendEquationSeparate(...t)},blendFunc:(A,e)=>{const t=2===e?.length?[...e,...e]:e;A.blendFuncSeparate(...t)},clearColor:(A,e)=>A.clearColor(...e),clearDepth:(A,e)=>A.clearDepth(e),clearStencil:(A,e)=>A.clearStencil(e),colorMask:(A,e)=>A.colorMask(...e),cull:(A,e)=>e?A.enable(2884):A.disable(2884),cullFace:(A,e)=>A.cullFace(e),depthTest:(A,e)=>e?A.enable(2929):A.disable(2929),depthFunc:(A,e)=>A.depthFunc(e),depthMask:(A,e)=>A.depthMask(e),depthRange:(A,e)=>A.depthRange(...e),dither:(A,e)=>e?A.enable(3024):A.disable(3024),derivativeHint:(A,e)=>{A.hint(35723,e)},frontFace:(A,e)=>A.frontFace(e),mipmapHint:(A,e)=>A.hint(33170,e),lineWidth:(A,e)=>A.lineWidth(e),polygonOffsetFill:(A,e)=>e?A.enable(32823):A.disable(32823),polygonOffset:(A,e)=>A.polygonOffset(...e),sampleCoverage:(A,e)=>A.sampleCoverage(...e),scissorTest:(A,e)=>e?A.enable(3089):A.disable(3089),scissor:(A,e)=>A.scissor(...e),stencilTest:(A,e)=>e?A.enable(2960):A.disable(2960),stencilMask:(A,e)=>{e=be(e)?e:[e,e];const[t,r]=e;A.stencilMaskSeparate(1028,t),A.stencilMaskSeparate(1029,r)},stencilFunc:(A,e)=>{e=be(e)&&3===e.length?[...e,...e]:e;const[t,r,n,i,s,o]=e;A.stencilFuncSeparate(1028,t,r,n),A.stencilFuncSeparate(1029,i,s,o)},stencilOp:(A,e)=>{e=be(e)&&3===e.length?[...e,...e]:e;const[t,r,n,i,s,o]=e;A.stencilOpSeparate(1028,t,r,n),A.stencilOpSeparate(1029,i,s,o)},viewport:(A,e)=>A.viewport(...e)};function ye(A,e,t){return void 0!==e[A]?e[A]:t[A]}const Te={blendEquation:(A,e,t)=>A.blendEquationSeparate(ye(32777,e,t),ye(34877,e,t)),blendFunc:(A,e,t)=>A.blendFuncSeparate(ye(32969,e,t),ye(32968,e,t),ye(32971,e,t),ye(32970,e,t)),polygonOffset:(A,e,t)=>A.polygonOffset(ye(32824,e,t),ye(10752,e,t)),sampleCoverage:(A,e,t)=>A.sampleCoverage(ye(32938,e,t),ye(32939,e,t)),stencilFuncFront:(A,e,t)=>A.stencilFuncSeparate(1028,ye(2962,e,t),ye(2967,e,t),ye(2963,e,t)),stencilFuncBack:(A,e,t)=>A.stencilFuncSeparate(1029,ye(34816,e,t),ye(36003,e,t),ye(36004,e,t)),stencilOpFront:(A,e,t)=>A.stencilOpSeparate(1028,ye(2964,e,t),ye(2965,e,t),ye(2966,e,t)),stencilOpBack:(A,e,t)=>A.stencilOpSeparate(1029,ye(34817,e,t),ye(34818,e,t),ye(34819,e,t))},Se={enable:(A,e)=>A({[e]:!0}),disable:(A,e)=>A({[e]:!1}),pixelStorei:(A,e,t)=>A({[e]:t}),hint:(A,e,t)=>A({[e]:t}),useProgram:(A,e)=>A({35725:e}),bindRenderbuffer:(A,e,t)=>A({36007:t}),bindTransformFeedback:(A,e,t)=>A({36389:t}),bindVertexArray:(A,e)=>A({34229:e}),bindFramebuffer:(A,e,t)=>{switch(e){case 36160:return A({36006:t,36010:t});case 36009:return A({36006:t});case 36008:return A({36010:t});default:return null}},bindBuffer:(A,e,t)=>{const r={34962:[34964],36662:[36662],36663:[36663],35051:[35053],35052:[35055]}[e];return r?A({[r]:t}):{valueChanged:!0}},blendColor:(A,e,t,r,n)=>A({32773:new Float32Array([e,t,r,n])}),blendEquation:(A,e)=>A({32777:e,34877:e}),blendEquationSeparate:(A,e,t)=>A({32777:e,34877:t}),blendFunc:(A,e,t)=>A({32969:e,32968:t,32971:e,32970:t}),blendFuncSeparate:(A,e,t,r,n)=>A({32969:e,32968:t,32971:r,32970:n}),clearColor:(A,e,t,r,n)=>A({3106:new Float32Array([e,t,r,n])}),clearDepth:(A,e)=>A({2931:e}),clearStencil:(A,e)=>A({2961:e}),colorMask:(A,e,t,r,n)=>A({3107:[e,t,r,n]}),cullFace:(A,e)=>A({2885:e}),depthFunc:(A,e)=>A({2932:e}),depthRange:(A,e,t)=>A({2928:new Float32Array([e,t])}),depthMask:(A,e)=>A({2930:e}),frontFace:(A,e)=>A({2886:e}),lineWidth:(A,e)=>A({2849:e}),polygonOffset:(A,e,t)=>A({32824:e,10752:t}),sampleCoverage:(A,e,t)=>A({32938:e,32939:t}),scissor:(A,e,t,r,n)=>A({3088:new Int32Array([e,t,r,n])}),stencilMask:(A,e)=>A({2968:e,36005:e}),stencilMaskSeparate:(A,e,t)=>A({[1028===e?2968:36005]:t}),stencilFunc:(A,e,t,r)=>A({2962:e,2967:t,2963:r,34816:e,36003:t,36004:r}),stencilFuncSeparate:(A,e,t,r,n)=>A({[1028===e?2962:34816]:t,[1028===e?2967:36003]:r,[1028===e?2963:36004]:n}),stencilOp:(A,e,t,r)=>A({2964:e,2965:t,2966:r,34817:e,34818:t,34819:r}),stencilOpSeparate:(A,e,t,r,n)=>A({[1028===e?2964:34817]:t,[1028===e?2965:34818]:r,[1028===e?2966:34819]:n}),viewport:(A,e,t,r,n)=>A({2978:[e,t,r,n]})},Ce=(A,e)=>A.isEnabled(e),Re={3042:Ce,2884:Ce,2929:Ce,3024:Ce,32823:Ce,32926:Ce,32928:Ce,3089:Ce,2960:Ce,35977:Ce},Pe=new Set([34016,36388,36387,35983,35368,34965,35739,35738,3074,34853,34854,34855,34856,34857,34858,34859,34860,34861,34862,34863,34864,34865,34866,34867,34868,35097,32873,35869,32874,34068]);function xe(A,e){if(function(A){for(const e in A)return!1;return!0}(e))return;const t={};for(const n in e){const r=Number(n),i=we[n];i&&("string"==typeof i?t[i]=!0:i(A,e[n],r))}const r=A.state&&A.state.cache;if(r)for(const n in t){(0,Te[n])(A,e,r)}}function Me(A,e=pe){if("number"==typeof e){const t=e,r=Re[t];return r?r(A,t):A.getParameter(t)}const t=Array.isArray(e)?e:Object.keys(e),r={};for(const n of t){const e=Re[n];r[n]=e?e(A,Number(n)):A.getParameter(Number(n))}return r}function ke(A,e){if(A===e)return!0;const t=Array.isArray(A)||ArrayBuffer.isView(A),r=Array.isArray(e)||ArrayBuffer.isView(e);if(t&&r&&A.length===e.length){for(let t=0;t<A.length;++t)if(A[t]!==e[t])return!1;return!0}return!1}class Be{gl;program=null;stateStack=[];enable=!0;cache;log;constructor(A,{copyState:e=!1,log:t=(()=>{})}={}){this.gl=A,this.cache=e?Me(A):Object.assign({},pe),this.log=t,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(A={}){this.stateStack.push({})}pop(){(0,ie.v)(this.stateStack.length>0);const A=this.stateStack[this.stateStack.length-1];xe(this.gl,A),this.stateStack.pop()}_updateCache(A){let e,t=!1;const r=this.stateStack.length>0?this.stateStack[this.stateStack.length-1]:null;for(const n in A){(0,ie.v)(void 0!==n);const i=A[n],s=this.cache[n];ke(i,s)||(t=!0,e=s,r&&!(n in r)&&(r[n]=s),this.cache[n]=i)}return{valueChanged:t,oldValue:e}}}function Ie(A){return A.state}function Le(A,e){const{enable:t=!0,copyState:r}=e;if((0,ie.v)(void 0!==r),!A.state){A.state=new Be(A,{copyState:r}),function(A){const e=A.useProgram.bind(A);A.useProgram=function(t){const r=Ie(A);r.program!==t&&(e(t),r.program=t)}}(A);for(const e in Se){Ne(A,e,Se[e])}Fe(A,"getParameter"),Fe(A,"isEnabled")}return Ie(A).enable=t,A}function De(A){let e=Ie(A);e||(Le(A,{copyState:!1}),e=Ie(A)),e.push()}function Oe(A){const e=Ie(A);(0,ie.v)(e),e.pop()}function Fe(A,e){const t=A[e].bind(A);A[e]=function(e){if(void 0===e||Pe.has(e))return t(e);const r=Ie(A);return e in r.cache||(r.cache[e]=t(e)),r.enable?r.cache[e]:t(e)},Object.defineProperty(A[e],"name",{value:`${e}-from-cache`,configurable:!1})}function Ne(A,e,t){if(!A[e])return;const r=A[e].bind(A);A[e]=function(...e){const n=Ie(A),{valueChanged:i,oldValue:s}=t(n._updateCache,...e);return i&&r(...e),s},Object.defineProperty(A[e],"name",{value:`${e}-to-cache`,configurable:!1})}const Ue={powerPreference:"high-performance",onContextLost:()=>console.error("WebGL context lost"),onContextRestored:()=>console.info("WebGL context restored")};function Ge(A,e,t){return void 0===t[e]&&(t[e]=A.getExtension(e)||null),t[e]}function ze(A,e){const t=A.getParameter(7936),r=A.getParameter(7937);Ge(A,"WEBGL_debug_renderer_info",e);const n=e.WEBGL_debug_renderer_info,i=A.getParameter(n?n.UNMASKED_VENDOR_WEBGL:7936)||t,s=A.getParameter(n?n.UNMASKED_RENDERER_WEBGL:7937)||r,o=A.getParameter(7938),a=Ve(i,s),c=function(A,e){if(/Metal/i.exec(A)||/Metal/i.exec(e))return"metal";if(/ANGLE/i.exec(A)||/ANGLE/i.exec(e))return"opengl";return"unknown"}(i,s),l=function(A,e){if(/SwiftShader/i.exec(A)||/SwiftShader/i.exec(e))return"cpu";switch(Ve(A,e)){case"intel":return"integrated";case"software":return"cpu";case"unknown":return"unknown";default:return"discrete"}}(i,s);return{type:"webgl",gpu:a,gpuType:l,gpuBackend:c,vendor:i,renderer:s,version:o,shadingLanguage:"glsl",shadingLanguageVersion:300}}function Ve(A,e){return/NVIDIA/i.exec(A)||/NVIDIA/i.exec(e)?"nvidia":/INTEL/i.exec(A)||/INTEL/i.exec(e)?"intel":/Apple/i.exec(A)||/Apple/i.exec(e)?"apple":/AMD/i.exec(A)||/AMD/i.exec(e)||/ATI/i.exec(A)||/ATI/i.exec(e)?"amd":/SwiftShader/i.exec(A)||/SwiftShader/i.exec(e)?"software":"unknown"}function Qe(A){switch(A){case"uint8":case"unorm8":return 5121;case"sint8":case"snorm8":return 5120;case"uint16":case"unorm16":return 5123;case"sint16":case"snorm16":return 5122;case"uint32":return 5125;case"sint32":return 5124;case"float16":return 5131;case"float32":return 5126}throw new Error(String(A))}const je="texture-compression-bc",We="texture-compression-astc",He="texture-compression-etc2",Xe="texture-compression-pvrtc-webgl",Ye="texture-compression-atc-webgl",Ke="float32-renderable-webgl",Ze="float16-renderable-webgl",$e="snorm8-renderable-webgl",qe="norm16-renderable-webgl",Je="snorm16-renderable-webgl",At="float32-filterable",et="float16-filterable-webgl",tt="WEBGL_compressed_texture_s3tc",rt="WEBGL_compressed_texture_s3tc_srgb",nt="EXT_texture_compression_rgtc",it="EXT_texture_compression_bptc",st="EXT_texture_norm16",ot="EXT_render_snorm",at={"float32-renderable-webgl":["EXT_color_buffer_float"],"float16-renderable-webgl":["EXT_color_buffer_half_float"],"rgb9e5ufloat_renderable-webgl":["WEBGL_render_shared_exponent"],"snorm8-renderable-webgl":[ot],"norm16-renderable-webgl":[st],"snorm16-renderable-webgl":[st,ot],"float32-filterable":["OES_texture_float_linear"],"float16-filterable-webgl":["OES_texture_half_float_linear"],"texture-filterable-anisotropic-webgl":["EXT_texture_filter_anisotropic"],"texture-blend-float-webgl":["EXT_float_blend"],"texture-compression-bc":[tt,rt,nt,it],"texture-compression-bc5-webgl":[nt],"texture-compression-bc7-webgl":[it],"texture-compression-etc2":["WEBGL_compressed_texture_etc"],"texture-compression-astc":["WEBGL_compressed_texture_astc"],"texture-compression-etc1-webgl":["WEBGL_compressed_texture_etc1"],"texture-compression-pvrtc-webgl":["WEBGL_compressed_texture_pvrtc"],"texture-compression-atc-webgl":["WEBGL_compressed_texture_atc"]};function ct(A,e,t){return(at[e]||[]).every((e=>Ge(A,e,t)))}const lt={"rgb8unorm-unsized":{gl:6407,b:4,c:2,bpp:4,dataFormat:6407,types:[5121,33635]},"rgba8unorm-unsized":{gl:6408,b:4,c:2,bpp:4,dataFormat:6408,types:[5121,32819,32820]},r8unorm:{gl:33321,b:1,c:1,rb:!0},r8snorm:{gl:36756,b:1,c:1,render:$e},r8uint:{gl:33330,b:1,c:1,rb:!0},r8sint:{gl:33329,b:1,c:1,rb:!0},rg8unorm:{gl:33323,b:2,c:2,rb:!0},rg8snorm:{gl:36757,b:2,c:2,render:$e},rg8uint:{gl:33336,b:2,c:2,rb:!0},rg8sint:{gl:33335,b:2,c:2,rb:!0},r16uint:{gl:33332,b:2,c:1,rb:!0},r16sint:{gl:33331,b:2,c:1,rb:!0},r16float:{gl:33325,b:2,c:1,render:Ze,filter:"float16-filterable-webgl",rb:!0},"r16unorm-webgl":{gl:33322,b:2,c:1,f:qe,rb:!0},"r16snorm-webgl":{gl:36760,b:2,c:1,f:Je},"rgba4unorm-webgl":{gl:32854,b:2,c:4,wgpu:!1,rb:!0},"rgb565unorm-webgl":{gl:36194,b:2,c:4,wgpu:!1,rb:!0},"rgb5a1unorm-webgl":{gl:32855,b:2,c:4,wgpu:!1,rb:!0},"rgb8unorm-webgl":{gl:32849,b:3,c:3,wgpu:!1},"rgb8snorm-webgl":{gl:36758,b:3,c:3,wgpu:!1},rgba8unorm:{gl:32856,b:4,c:2,bpp:4},"rgba8unorm-srgb":{gl:35907,b:4,c:4,bpp:4},rgba8snorm:{gl:36759,b:4,c:4,render:$e},rgba8uint:{gl:36220,b:4,c:4,bpp:4},rgba8sint:{gl:36238,b:4,c:4,bpp:4},bgra8unorm:{b:4,c:4},"bgra8unorm-srgb":{b:4,c:4},rg16uint:{gl:33338,b:4,c:1,bpp:4},rg16sint:{gl:33337,b:4,c:2,bpp:4},rg16float:{gl:33327,bpp:4,b:4,c:2,render:Ze,filter:et,rb:!0},"rg16unorm-webgl":{gl:33324,b:2,c:2,render:qe},"rg16snorm-webgl":{gl:36761,b:2,c:2,render:Je},r32uint:{gl:33334,b:4,c:1,bpp:4,rb:!0},r32sint:{gl:33333,b:4,c:1,bpp:4,rb:!0},r32float:{gl:33326,bpp:4,b:4,c:1,render:Ke,filter:At},rgb9e5ufloat:{gl:35901,b:4,c:3,p:1,render:"rgb9e5ufloat_renderable-webgl"},rg11b10ufloat:{gl:35898,b:4,c:3,p:1,render:Ke,rb:!0},rgb10a2unorm:{gl:32857,b:4,c:4,p:1,rb:!0},"rgb10a2uint-webgl":{b:4,c:4,gl:36975,p:1,wgpu:!1,bpp:4,rb:!0},"rgb16unorm-webgl":{gl:32852,b:2,c:3,f:qe},"rgb16snorm-webgl":{gl:36762,b:2,c:3,f:qe},rg32uint:{gl:33340,b:8,c:2,rb:!0},rg32sint:{gl:33339,b:8,c:2,rb:!0},rg32float:{gl:33328,b:8,c:2,render:Ke,filter:At,rb:!0},rgba16uint:{gl:36214,b:8,c:4,rb:!0},rgba16sint:{gl:36232,b:8,c:4,rb:!0},rgba16float:{gl:34842,b:8,c:4,render:Ze,filter:et},"rgba16unorm-webgl":{gl:32859,b:2,c:4,render:qe,rb:!0},"rgba16snorm-webgl":{gl:36763,b:2,c:4,render:Je},"rgb32float-webgl":{gl:34837,render:Ke,filter:At,gl2ext:"EXT_color_buffer_float",dataFormat:6407,types:[5126]},rgba32uint:{gl:36208,b:16,c:4,rb:!0},rgba32sint:{gl:36226,b:16,c:4,rb:!0},rgba32float:{gl:34836,b:16,c:4,render:Ke,filter:At,rb:!0},stencil8:{gl:36168,b:1,c:1,attachment:36128,rb:!0},depth16unorm:{gl:33189,b:2,c:1,attachment:36096,dataFormat:6402,types:[5123],rb:!0},depth24plus:{gl:33190,b:3,c:1,attachment:36096,dataFormat:6402,types:[5125]},depth32float:{gl:36012,b:4,c:1,attachment:36096,dataFormat:6402,types:[5126],rb:!0},"depth24plus-stencil8":{gl:35056,b:4,c:2,p:1,attachment:33306,rb:!0,depthTexture:!0,dataFormat:34041,types:[34042]},"depth24unorm-stencil8":{gl:35056,b:4,c:2,p:1,attachment:33306,dataFormat:34041,types:[34042],rb:!0},"depth32float-stencil8":{gl:36013,b:5,c:2,p:1,attachment:33306,dataFormat:34041,types:[36269],rb:!0},"bc1-rgb-unorm-webgl":{gl:33776,x:tt,f:je},"bc1-rgb-unorm-srgb-webgl":{gl:35916,x:rt,f:je},"bc1-rgba-unorm":{gl:33777,x:tt,f:je},"bc1-rgba-unorm-srgb":{gl:35916,x:rt,f:je},"bc2-rgba-unorm":{gl:33778,x:tt,f:je},"bc2-rgba-unorm-srgb":{gl:35918,x:rt,f:je},"bc3-rgba-unorm":{gl:33779,x:tt,f:je},"bc3-rgba-unorm-srgb":{gl:35919,x:rt,f:je},"bc4-r-unorm":{gl:36283,x:nt,f:je},"bc4-r-snorm":{gl:36284,x:nt,f:je},"bc5-rg-unorm":{gl:36285,x:nt,f:je},"bc5-rg-snorm":{gl:36286,x:nt,f:je},"bc6h-rgb-ufloat":{gl:36495,x:it,f:je},"bc6h-rgb-float":{gl:36494,x:it,f:je},"bc7-rgba-unorm":{gl:36492,x:it,f:je},"bc7-rgba-unorm-srgb":{gl:36493,x:it,f:je},"etc2-rgb8unorm":{gl:37492,f:He},"etc2-rgb8unorm-srgb":{gl:37494,f:He},"etc2-rgb8a1unorm":{gl:37496,f:He},"etc2-rgb8a1unorm-srgb":{gl:37497,f:He},"etc2-rgba8unorm":{gl:37493,f:He},"etc2-rgba8unorm-srgb":{gl:37495,f:He},"eac-r11unorm":{gl:37488,f:He},"eac-r11snorm":{gl:37489,f:He},"eac-rg11unorm":{gl:37490,f:He},"eac-rg11snorm":{gl:37491,f:He},"astc-4x4-unorm":{gl:37808,f:We},"astc-4x4-unorm-srgb":{gl:37840,f:We},"astc-5x4-unorm":{gl:37809,f:We},"astc-5x4-unorm-srgb":{gl:37841,f:We},"astc-5x5-unorm":{gl:37810,f:We},"astc-5x5-unorm-srgb":{gl:37842,f:We},"astc-6x5-unorm":{gl:37811,f:We},"astc-6x5-unorm-srgb":{gl:37843,f:We},"astc-6x6-unorm":{gl:37812,f:We},"astc-6x6-unorm-srgb":{gl:37844,f:We},"astc-8x5-unorm":{gl:37813,f:We},"astc-8x5-unorm-srgb":{gl:37845,f:We},"astc-8x6-unorm":{gl:37814,f:We},"astc-8x6-unorm-srgb":{gl:37846,f:We},"astc-8x8-unorm":{gl:37815,f:We},"astc-8x8-unorm-srgb":{gl:37847,f:We},"astc-10x5-unorm":{gl:37819,f:We},"astc-10x5-unorm-srgb":{gl:37851,f:We},"astc-10x6-unorm":{gl:37817,f:We},"astc-10x6-unorm-srgb":{gl:37849,f:We},"astc-10x8-unorm":{gl:37818,f:We},"astc-10x8-unorm-srgb":{gl:37850,f:We},"astc-10x10-unorm":{gl:37819,f:We},"astc-10x10-unorm-srgb":{gl:37851,f:We},"astc-12x10-unorm":{gl:37820,f:We},"astc-12x10-unorm-srgb":{gl:37852,f:We},"astc-12x12-unorm":{gl:37821,f:We},"astc-12x12-unorm-srgb":{gl:37853,f:We},"pvrtc-rgb4unorm-webgl":{gl:35840,f:Xe},"pvrtc-rgba4unorm-webgl":{gl:35842,f:Xe},"pvrtc-rbg2unorm-webgl":{gl:35841,f:Xe},"pvrtc-rgba2unorm-webgl":{gl:35843,f:Xe},"etc1-rbg-unorm-webgl":{gl:36196,f:"texture-compression-etc1-webgl"},"atc-rgb-unorm-webgl":{gl:35986,f:Ye},"atc-rgba-unorm-webgl":{gl:35986,f:Ye},"atc-rgbai-unorm-webgl":{gl:34798,f:Ye}},ut={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},ht={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1};function ft(A,e,t){const r=lt[e];if(!r)return!1;if(void 0===r.gl)return!1;const n=r.x||r.gl2ext;return!n||Boolean(Ge(A,n,t))}function dt(A){const e=lt[A]?.gl;if(void 0===e)throw new Error(`Unsupported texture format ${A}`);return e}function pt(A){const e=lt[A],t=dt(A),r=ee(A);return{format:t,dataFormat:e?.dataFormat||_t(r.format,r.integer,r.normalized,t),type:r.dataType?Qe(r.dataType):e?.types?.[0]||5121,compressed:r.compressed}}function gt(A){const e=pt(A);return(ut[e.dataFormat]||4)*(ht[e.type]||1)}function _t(A,e,t,r){if(6408===r||6407===r)return r;switch(A){case"r":return e&&!t?36244:6403;case"rg":return e&&!t?33320:33319;case"rgb":return e&&!t?36248:6407;case"rgba":return e&&!t?36249:6408;default:return 6408}}const mt={"depth-clip-control":"EXT_depth_clamp","timer-query-webgl":"EXT_disjoint_timer_query_webgl2","compilation-status-async-webgl":"KHR_parallel_shader_compile","polygon-mode-webgl":"WEBGL_polygon_mode","provoking-vertex-webgl":"WEBGL_provoking_vertex","shader-clip-cull-distance-webgl":"WEBGL_clip_cull_distance","shader-noperspective-interpolation-webgl":"NV_shader_noperspective_interpolation","shader-conservative-depth-webgl":"EXT_conservative_depth"};class vt extends re{gl;extensions;testedFeatures=new Set;constructor(A,e,t){super([],t),this.gl=A,this.extensions=e,Ge(A,"EXT_color_buffer_float",e)}*[Symbol.iterator](){const A=this.getFeatures();for(const e of A)this.has(e)&&(yield e);return[]}has(A){return!this.disabledFeatures[A]&&(this.testedFeatures.has(A)||(this.testedFeatures.add(A),function(A){return A in at}(A)&&ct(this.gl,A,this.extensions)&&this.features.add(A),this.getWebGLFeature(A)&&this.features.add(A)),this.features.has(A))}initializeFeatures(){const A=this.getFeatures().filter((A=>"polygon-mode-webgl"!==A));for(const e of A)this.has(e)}getFeatures(){return[...Object.keys(mt),...Object.keys(at)]}getWebGLFeature(A){const e=mt[A];return"string"==typeof e?Boolean(Ge(this.gl,e,this.extensions)):Boolean(e)}}class Et extends class{}{get maxTextureDimension1D(){return 0}get maxTextureDimension2D(){return this.getParameter(3379)}get maxTextureDimension3D(){return this.getParameter(32883)}get maxTextureArrayLayers(){return this.getParameter(35071)}get maxBindGroups(){return 0}get maxDynamicUniformBuffersPerPipelineLayout(){return 0}get maxDynamicStorageBuffersPerPipelineLayout(){return 0}get maxSampledTexturesPerShaderStage(){return this.getParameter(35660)}get maxSamplersPerShaderStage(){return this.getParameter(35661)}get maxStorageBuffersPerShaderStage(){return 0}get maxStorageTexturesPerShaderStage(){return 0}get maxUniformBuffersPerShaderStage(){return this.getParameter(35375)}get maxUniformBufferBindingSize(){return this.getParameter(35376)}get maxStorageBufferBindingSize(){return 0}get minUniformBufferOffsetAlignment(){return this.getParameter(35380)}get minStorageBufferOffsetAlignment(){return 0}get maxVertexBuffers(){return 16}get maxVertexAttributes(){return this.getParameter(34921)}get maxVertexBufferArrayStride(){return 2048}get maxInterStageShaderComponents(){return this.getParameter(35659)}get maxComputeWorkgroupStorageSize(){return 0}get maxComputeInvocationsPerWorkgroup(){return 0}get maxComputeWorkgroupSizeX(){return 0}get maxComputeWorkgroupSizeY(){return 0}get maxComputeWorkgroupSizeZ(){return 0}get maxComputeWorkgroupsPerDimension(){return 0}gl;limits={};constructor(A){super(),this.gl=A}getParameter(A){return void 0===this.limits[A]&&(this.limits[A]=this.gl.getParameter(A)),this.limits[A]}}var bt=t(6031),wt=t(5428);class yt extends bt.F{static defaultProps={...bt.F.defaultProps,width:1,height:1,colorAttachments:[],depthStencilAttachment:null};get[Symbol.toStringTag](){return"Framebuffer"}width;height;colorAttachments=[];depthStencilAttachment=null;constructor(A,e={}){super(A,e,yt.defaultProps),this.width=this.props.width,this.height=this.props.height}resize(A){let e=!A;if(A){const[t,r]=Array.isArray(A)?A:[A.width,A.height];e=e||r!==this.height||t!==this.width,this.width=t,this.height=r}e&&(XA.R.log(2,`Resizing framebuffer ${this.id} to ${this.width}x${this.height}`)(),this.resizeAttachments(this.width,this.height))}autoCreateAttachmentTextures(){if(0===this.props.colorAttachments.length&&!this.props.depthStencilAttachment)throw new Error("Framebuffer has noattachments");this.colorAttachments=this.props.colorAttachments.map((A=>{if("string"==typeof A){const e=this.createColorTexture(A);return this.attachResource(e),e.view}return A instanceof wt.g?A.view:A}));const A=this.props.depthStencilAttachment;if(A)if("string"==typeof A){const e=this.createDepthStencilTexture(A);this.attachResource(e),this.depthStencilAttachment=e.view}else A instanceof wt.g?this.depthStencilAttachment=A.view:this.depthStencilAttachment=A}createColorTexture(A){return this.device.createTexture({id:"color-attachment",usage:wt.g.RENDER_ATTACHMENT,format:A,width:this.width,height:this.height})}createDepthStencilTexture(A){return this.device.createTexture({id:"depth-stencil-attachment",usage:wt.g.RENDER_ATTACHMENT,format:A,width:this.width,height:this.height})}resizeAttachments(A,e){for(let t=0;t<this.colorAttachments.length;++t)if(this.colorAttachments[t]){const r=this.device._createTexture({...this.colorAttachments[t].props,width:A,height:e});this.destroyAttachedResource(this.colorAttachments[t]),this.colorAttachments[t]=r.view,this.attachResource(r.view)}if(this.depthStencilAttachment){const t=this.device._createTexture({...this.depthStencilAttachment.props,width:A,height:e});this.destroyAttachedResource(this.depthStencilAttachment),this.depthStencilAttachment=t.view,this.attachResource(t)}}}let Tt="";async function St(A,e){return await new Promise(((t,r)=>{try{const n=new Image;n.onload=()=>t(n),n.onerror=()=>r(new Error(`Could not load image ${A}.`)),n.crossOrigin=e?.crossOrigin||"anonymous",n.src=A.startsWith("http")?A:Tt+A}catch(n){r(n)}}))}async function Ct(A,e){const t=document.getElementsByTagName("head")[0];if(!t)throw new Error("loadScript");const r=document.createElement("script");return r.setAttribute("type","text/javascript"),r.setAttribute("src",A),e&&(r.id=e),new Promise(((e,n)=>{r.onload=e,r.onerror=e=>n(new Error(`Unable to load script '${A}': ${e}`)),t.appendChild(r)}))}function Rt(A,e,t){if(function(A){for(const e in A)return!1;return!0}(e))return t(A);const{nocatch:r=!0}=e;let n;if(De(A),xe(A,e),r)n=t(A),Oe(A);else try{n=t(A)}finally{Oe(A)}return n}function Pt(A,e){const t=A,{gl:r}=t;if(e.cullMode)switch(e.cullMode){case"none":r.disable(2884);break;case"front":r.enable(2884),r.cullFace(1028);break;case"back":r.enable(2884),r.cullFace(1029)}if(e.frontFace&&r.frontFace(It("frontFace",e.frontFace,{ccw:2305,cw:2304})),e.unclippedDepth&&A.features.has("depth-clip-control")&&r.enable(34383),void 0!==e.depthBias&&(r.enable(32823),r.polygonOffset(e.depthBias,e.depthBiasSlopeScale||0)),e.provokingVertex&&A.features.has("provoking-vertex-webgl")){const A=t.getExtension("WEBGL_provoking_vertex").WEBGL_provoking_vertex,r=It("provokingVertex",e.provokingVertex,{first:36429,last:36430});A?.provokingVertexWEBGL(r)}if((e.polygonMode||e.polygonOffsetLine)&&A.features.has("polygon-mode-webgl")){if(e.polygonMode){const A=t.getExtension("WEBGL_polygon_mode").WEBGL_polygon_mode,r=It("polygonMode",e.polygonMode,{fill:6914,line:6913});A?.polygonModeWEBGL(1028,r),A?.polygonModeWEBGL(1029,r)}e.polygonOffsetLine&&r.enable(10754)}if(A.features.has("shader-clip-cull-distance-webgl")&&(e.clipDistance0&&r.enable(12288),e.clipDistance1&&r.enable(12289),e.clipDistance2&&r.enable(12290),e.clipDistance3&&r.enable(12291),e.clipDistance4&&r.enable(12292),e.clipDistance5&&r.enable(12293),e.clipDistance6&&r.enable(12294),e.clipDistance7&&r.enable(12295)),void 0!==e.depthWriteEnabled&&r.depthMask(e.depthWriteEnabled),e.depthCompare&&("always"!==e.depthCompare?r.enable(2929):r.disable(2929),r.depthFunc(xt("depthCompare",e.depthCompare))),e.stencilWriteMask){const A=e.stencilWriteMask;r.stencilMaskSeparate(1028,A),r.stencilMaskSeparate(1029,A)}if(e.stencilReadMask&&XA.R.warn("stencilReadMask not supported under WebGL"),e.stencilCompare){const A=e.stencilReadMask||4294967295,t=xt("depthCompare",e.stencilCompare);"always"!==e.stencilCompare?r.enable(2960):r.disable(2960),r.stencilFuncSeparate(1028,t,0,A),r.stencilFuncSeparate(1029,t,0,A)}if(e.stencilPassOperation&&e.stencilFailOperation&&e.stencilDepthFailOperation){const A=Mt("stencilPassOperation",e.stencilPassOperation),t=Mt("stencilFailOperation",e.stencilFailOperation),n=Mt("stencilDepthFailOperation",e.stencilDepthFailOperation);r.stencilOpSeparate(1028,t,n,A),r.stencilOpSeparate(1029,t,n,A)}if(e.blendColorOperation||e.blendAlphaOperation){r.enable(3042);const A=kt("blendColorOperation",e.blendColorOperation||"add"),t=kt("blendAlphaOperation",e.blendAlphaOperation||"add");r.blendEquationSeparate(A,t);const n=Bt("blendColorSrcFactor",e.blendColorSrcFactor||"one"),i=Bt("blendColorDstFactor",e.blendColorDstFactor||"zero"),s=Bt("blendAlphaSrcFactor",e.blendAlphaSrcFactor||"one"),o=Bt("blendAlphaDstFactor",e.blendAlphaDstFactor||"zero");r.blendFuncSeparate(n,i,s,o)}}function xt(A,e){return It(A,e,{never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519})}function Mt(A,e){return It(A,e,{keep:7680,zero:0,replace:7681,invert:5386,"increment-clamp":7682,"decrement-clamp":7683,"increment-wrap":34055,"decrement-wrap":34056})}function kt(A,e){return It(A,e,{add:32774,subtract:32778,"reverse-subtract":32779,min:32775,max:32776})}function Bt(A,e){return It(A,e,{one:1,zero:0,"src-color":768,"one-minus-src-color":769,"dst-color":774,"one-minus-dst-color":775,"src-alpha":770,"one-minus-src-alpha":771,"dst-alpha":772,"one-minus-dst-alpha":773,"src-alpha-saturated":776,"constant-color":32769,"one-minus-constant-color":32770,"constant-alpha":32771,"one-minus-constant-alpha":32772})}function It(A,e,t){if(!(e in t))throw new Error(function(A,e){return`Illegal parameter ${e} for ${A}`}(A,e));return t[e]}function Lt(A){const e={};return A.addressModeU&&(e[10242]=Dt(A.addressModeU)),A.addressModeV&&(e[10243]=Dt(A.addressModeV)),A.addressModeW&&(e[32882]=Dt(A.addressModeW)),A.magFilter&&(e[10240]=Ot(A.magFilter)),(A.minFilter||A.mipmapFilter)&&(e[10241]=function(A,e){if(!e)return Ot(A);switch(A){case"nearest":return"nearest"===e?9984:9986;case"linear":return"nearest"===e?9985:9987}}(A.minFilter||"linear",A.mipmapFilter)),void 0!==A.lodMinClamp&&(e[33082]=A.lodMinClamp),void 0!==A.lodMaxClamp&&(e[33083]=A.lodMaxClamp),"comparison-sampler"===A.type&&(e[34892]=34894),A.compare&&(e[34893]=xt("compare",A.compare)),A.maxAnisotropy&&(e[34046]=A.maxAnisotropy),e}function Dt(A){switch(A){case"clamp-to-edge":return 33071;case"repeat":return 10497;case"mirror-repeat":return 33648}}function Ot(A){switch(A){case"nearest":return 9728;case"linear":return 9729}}class Ft extends $A.h{device;gl;handle;glTarget;glUsage;glIndexType=5123;byteLength;bytesUsed;constructor(A,e={}){super(A,e),this.device=A,this.gl=this.device.gl;const t="object"==typeof e?e.handle:void 0;this.handle=t||this.gl.createBuffer(),A.setSpectorMetadata(this.handle,{...this.props,data:typeof this.props.data}),this.glTarget=function(A){if(A&$A.h.INDEX)return 34963;if(A&$A.h.VERTEX)return 34962;if(A&$A.h.UNIFORM)return 35345;return 34962}(this.props.usage),this.glUsage=function(A){if(A&$A.h.INDEX)return 35044;if(A&$A.h.VERTEX)return 35044;if(A&$A.h.UNIFORM)return 35048;return 35044}(this.props.usage),this.glIndexType="uint32"===this.props.indexType?5125:5123,e.data?this._initWithData(e.data,e.byteOffset,e.byteLength):this._initWithByteLength(e.byteLength||0)}_initWithData(A,e=0,t=A.byteLength+e){const r=this.glTarget;this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,t,this.glUsage),this.gl.bufferSubData(r,e,A),this.gl.bindBuffer(r,null),this.bytesUsed=t,this.byteLength=t,this._setDebugData(A,e,t),this.trackAllocatedMemory(t)}_initWithByteLength(A){(0,ie.v)(A>=0);let e=A;0===A&&(e=new Float32Array(0));const t=this.glTarget;return this.gl.bindBuffer(t,this.handle),this.gl.bufferData(t,e,this.glUsage),this.gl.bindBuffer(t,null),this.bytesUsed=A,this.byteLength=A,this._setDebugData(null,0,A),this.trackAllocatedMemory(A),this}destroy(){!this.destroyed&&this.handle&&(this.removeStats(),this.trackDeallocatedMemory(),this.gl.deleteBuffer(this.handle),this.destroyed=!0,this.handle=null)}write(A,e=0){const t=36663;this.gl.bindBuffer(t,this.handle),this.gl.bufferSubData(t,e,A),this.gl.bindBuffer(t,null),this._setDebugData(A,e,A.byteLength)}async readAsync(A=0,e){return this.readSyncWebGL(A,e)}readSyncWebGL(A=0,e){e=e??this.byteLength-A;const t=new Uint8Array(e);return this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,A,t,0,e),this.gl.bindBuffer(36662,null),this._setDebugData(t,A,e),t}}var Nt=t(4499);class Ut extends Nt.L{device;handle;parameters;constructor(A,e){super(A,e),this.device=A,this.parameters=Lt(e),this.handle=this.handle||this.device.gl.createSampler(),this._setSamplerParameters(this.parameters)}destroy(){this.handle&&(this.device.gl.deleteSampler(this.handle),this.handle=void 0)}toString(){return`Sampler(${this.id},${JSON.stringify(this.props)})`}_setSamplerParameters(A){for(const[e,t]of Object.entries(A)){const A=Number(e);switch(A){case 33082:case 33083:this.device.gl.samplerParameterf(this.handle,A,t);break;default:this.device.gl.samplerParameteri(this.handle,A,t)}}}}var Gt=t(8932);class zt extends Gt.X{device;gl;handle;texture;constructor(A,e){super(A,{...wt.g.defaultProps,...e}),this.device=A,this.gl=this.device.gl,this.handle=null,this.texture=e.texture}}const Vt={parameters:{},pixelStore:{},pixels:null,border:0,dataFormat:void 0,textureUnit:void 0,target:void 0};class Qt extends wt.g{static FACES=[34069,34070,34071,34072,34073,34074];MAX_ATTRIBUTES;device;gl;handle;sampler=void 0;view=void 0;glFormat=void 0;type=void 0;dataFormat=void 0;mipmaps=void 0;target;textureUnit=void 0;loaded=!1;_video;constructor(A,e){super(A,{...Vt,format:"rgba8unorm",...e}),this.device=A,this.gl=this.device.gl,this.handle=this.props.handle||this.gl.createTexture(),this.device.setSpectorMetadata(this.handle,{...this.props,data:typeof this.props.data}),this.glFormat=6408,this.target=function(A){switch(A.dimension){case"2d":return 3553;case"cube":return 34067;case"2d-array":return 35866;case"3d":return 32879;default:throw new Error(A.dimension)}}(this.props),this.loaded=!1,"string"==typeof this.props?.data&&Object.assign(this.props,{data:St(this.props.data)}),this.initialize(this.props),Object.seal(this)}destroy(){this.handle&&(this.gl.deleteTexture(this.handle),this.removeStats(),this.trackDeallocatedMemory("Texture"),this.destroyed=!0)}toString(){return`Texture(${this.id},${this.width}x${this.height})`}createView(A){return new zt(this.device,{...A,texture:this})}initialize(A={}){if("cube"===this.props.dimension)return this.initializeCube(A);let e=A.data;if(e instanceof Promise)return e.then((e=>this.initialize(Object.assign({},A,{pixels:e,data:e})))),this;const t="undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement;if(t&&e.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,e.addEventListener("loadeddata",(()=>this.initialize(A))),this;const{parameters:r={}}=A,{pixels:n=null,pixelStore:i={},textureUnit:s,mipmaps:o=!0}=A;e||(e=n);let{width:a,height:c,dataFormat:l,type:u,compressed:h=!1}=A;const{depth:f=0}=A,d=dt(A.format);return({width:a,height:c,compressed:h,dataFormat:l,type:u}=this._deduceParameters({format:A.format,type:u,dataFormat:l,compressed:h,data:e,width:a,height:c})),this.width=a,this.height=c,this.glFormat=d,this.type=u,this.dataFormat=l,this.textureUnit=s,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),this.mipmaps=o,this.setImageData({data:e,width:a,height:c,depth:f,format:d,type:u,dataFormat:l,parameters:i,compressed:h}),this.setSampler(A.sampler),this._setSamplerParameters(r),this.view=this.createView({...this.props,mipLevelCount:1,arrayLayerCount:1}),o&&this.device.isTextureFormatFilterable(A.format)&&this.generateMipmap(),t&&(this._video={video:e,parameters:r,lastTime:e.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?e.currentTime:-1}),this}initializeCube(A){const{mipmaps:e=!0,parameters:t={}}=A;return this.setCubeMapImageData(A).then((()=>{this.loaded=!0,e&&this.generateMipmap(A),this.setSampler(A.sampler),this._setSamplerParameters(t)})),this}setSampler(A={}){let e;A instanceof Ut?(this.sampler=A,e=A.props):(this.sampler=new Ut(this.device,A),e=A);const t=Lt(e);return this._setSamplerParameters(t),this}resize(A){const{height:e,width:t,mipmaps:r=!1}=A;return t!==this.width||e!==this.height?this.initialize({width:t,height:e,format:this.format,type:this.type,dataFormat:this.dataFormat,mipmaps:r}):this}update(){if(this._video){const{video:A,parameters:e,lastTime:t}=this._video;if(t===A.currentTime||A.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:A,parameters:e}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=A.currentTime}}generateMipmap(A={}){return this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),Rt(this.gl,A,(()=>{this.gl.generateMipmap(this.target)})),this.gl.bindTexture(this.target,null),this}setImageData(A){if("3d"===this.props.dimension||"2d-array"===this.props.dimension)return this.setImageData3D(A);this.trackDeallocatedMemory("Texture");const{target:e=this.target,pixels:t=null,level:r=0,glFormat:n=this.glFormat,offset:i=0,parameters:s={}}=A;let{data:o=null,type:a=this.type,width:c=this.width,height:l=this.height,dataFormat:u=this.dataFormat,compressed:h=!1}=A;o||(o=t),({type:a,dataFormat:u,compressed:h,width:c,height:l}=this._deduceParameters({format:this.props.format,type:a,dataFormat:u,compressed:h,data:o,width:c,height:l}));const{gl:f}=this;f.bindTexture(this.target,this.handle);let d=null;if(({data:o,dataType:d}=this._getDataType({data:o,compressed:h})),Rt(this.gl,s,(()=>{switch(d){case"null":case"browser-object":f.texImage2D(e,r,n,c,l,0,u,a,o);break;case"typed-array":f.texImage2D(e,r,n,c,l,0,u,a,o,i);break;case"buffer":this.device.gl.bindBuffer(35052,o.handle||o),this.device.gl.texImage2D(e,r,n,c,l,0,u,a,i),this.device.gl.bindBuffer(35052,null);break;case"compressed":for(const[A,t]of o.entries())f.compressedTexImage2D(e,A,t.format,t.width,t.height,0,t.data);break;default:(0,ie.v)(!1,"Unknown image data type")}})),o&&o.byteLength)this.trackAllocatedMemory(o.byteLength,"Texture");else{const A=gt(this.props.format);this.trackAllocatedMemory(this.width*this.height*A,"Texture")}return this.loaded=!0,this}setSubImageData({target:A=this.target,pixels:e=null,data:t=null,x:r=0,y:n=0,width:i=this.width,height:s=this.height,level:o=0,glFormat:a=this.glFormat,type:c=this.type,dataFormat:l=this.dataFormat,compressed:u=!1,offset:h=0,parameters:f={}}){if(({type:c,dataFormat:l,compressed:u,width:i,height:s}=this._deduceParameters({format:this.props.format,type:c,dataFormat:l,compressed:u,data:t,width:i,height:s})),(0,ie.v)(1===this.depth,"texSubImage not supported for 3D textures"),t||(t=e),t&&t.data){const A=t;t=A.data,i=A.shape[0],s=A.shape[1]}t instanceof Ft&&(t=t.handle),this.gl.bindTexture(this.target,this.handle),Rt(this.gl,f,(()=>{u?this.gl.compressedTexSubImage2D(A,o,r,n,i,s,a,t):null===t?this.gl.texSubImage2D(A,o,r,n,i,s,l,c,null):ArrayBuffer.isView(t)?this.gl.texSubImage2D(A,o,r,n,i,s,l,c,t,h):"undefined"!=typeof WebGLBuffer&&t instanceof WebGLBuffer?(this.device.gl.bindBuffer(35052,t),this.device.gl.texSubImage2D(A,o,r,n,i,s,l,c,h),this.device.gl.bindBuffer(35052,null)):this.device.gl.texSubImage2D(A,o,r,n,i,s,l,c,t)})),this.gl.bindTexture(this.target,null)}copyFramebuffer(A={}){return XA.R.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(A=this.textureUnit){const{gl:e}=this;return void 0!==A&&(this.textureUnit=A,e.activeTexture(33984+A)),e.bindTexture(this.target,this.handle),A}unbind(A=this.textureUnit){const{gl:e}=this;return void 0!==A&&(this.textureUnit=A,e.activeTexture(33984+A)),e.bindTexture(this.target,null),A}_getDataType({data:A,compressed:e=!1}){return e?{data:A,dataType:"compressed"}:null===A?{data:A,dataType:"null"}:ArrayBuffer.isView(A)?{data:A,dataType:"typed-array"}:A instanceof Ft?{data:A.handle,dataType:"buffer"}:"undefined"!=typeof WebGLBuffer&&A instanceof WebGLBuffer?{data:A,dataType:"buffer"}:{data:A,dataType:"browser-object"}}_deduceParameters(A){const{format:e,data:t}=A;let{width:r,height:n,dataFormat:i,type:s,compressed:o}=A;const a=pt(e);return i=i||a.dataFormat,s=s||a.type,o=o||a.compressed,({width:r,height:n}=this._deduceImageSize(t,r,n)),{dataFormat:i,type:s,compressed:o,width:r,height:n,format:e,data:t}}_deduceImageSize(A,e,t){let r;return r="undefined"!=typeof ImageData&&A instanceof ImageData?{width:A.width,height:A.height}:"undefined"!=typeof HTMLImageElement&&A instanceof HTMLImageElement?{width:A.naturalWidth,height:A.naturalHeight}:"undefined"!=typeof HTMLCanvasElement&&A instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&A instanceof ImageBitmap?{width:A.width,height:A.height}:"undefined"!=typeof HTMLVideoElement&&A instanceof HTMLVideoElement?{width:A.videoWidth,height:A.videoHeight}:A?{width:e,height:t}:{width:e>=0?e:1,height:t>=0?t:1},(0,ie.v)(r,"Could not deduced texture size"),(0,ie.v)(void 0===e||r.width===e,"Deduced texture width does not match supplied width"),(0,ie.v)(void 0===t||r.height===t,"Deduced texture height does not match supplied height"),r}async setCubeMapImageData(A){const{gl:e}=this,{width:t,height:r,pixels:n,data:i,format:s=6408,type:o=5121}=A,a=n||i,c=await Promise.all(Qt.FACES.map((A=>{const e=a[A];return Promise.all(Array.isArray(e)?e:[e])})));this.bind(),Qt.FACES.forEach(((A,n)=>{c[n].length>1&&!1!==this.props.mipmaps&&XA.R.warn(`${this.id} has mipmap and multiple LODs.`)(),c[n].forEach(((n,i)=>{t&&r?e.texImage2D(A,i,s,t,r,0,s,o,n):e.texImage2D(A,i,s,s,o,n)}))})),this.unbind()}setImageDataForFace(A){const{face:e,width:t,height:r,pixels:n,data:i,format:s=6408,type:o=5121}=A,{gl:a}=this,c=n||i;return this.bind(),c instanceof Promise?c.then((t=>this.setImageDataForFace(Object.assign({},A,{face:e,data:t,pixels:t})))):this.width||this.height?a.texImage2D(e,0,s,t,r,0,s,o,c):a.texImage2D(e,0,s,s,o,c),this}setImageData3D(A){const{level:e=0,dataFormat:t,format:r,type:n,width:i,height:s,depth:o=1,offset:a=0,data:c,parameters:l={}}=A;this.trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle);const u=pt(r);if(Rt(this.gl,l,(()=>{ArrayBuffer.isView(c)&&this.gl.texImage3D(this.target,e,u.format,i,s,o,0,u.dataFormat,u.type,c),c instanceof Ft&&(this.gl.bindBuffer(35052,c.handle),this.gl.texImage3D(this.target,e,t,i,s,o,0,r,n,a))})),c&&c.byteLength)this.trackAllocatedMemory(c.byteLength,"Texture");else{const A=gt(this.props.format);this.trackAllocatedMemory(this.width*this.height*this.depth*A,"Texture")}return this.loaded=!0,this}_setSamplerParameters(A){if(!(0,ZA.Z)(A)){!function(A){XA.R.log(1,"texture sampler parameters",A)()}(A),this.gl.bindTexture(this.target,this.handle);for(const[e,t]of Object.entries(A)){const A=Number(e),r=t;switch(A){case 33082:case 33083:this.gl.texParameterf(this.target,A,r);break;default:this.gl.texParameteri(this.target,A,r)}}this.gl.bindTexture(this.target,null)}}}class jt extends yt{device;gl;handle;get texture(){return this.colorAttachments[0]}constructor(A,e){super(A,e);const t=null===e.handle;if(this.device=A,this.gl=A.gl,this.handle=this.props.handle||t?this.props.handle:this.gl.createFramebuffer(),!t){A.setSpectorMetadata(this.handle,{id:this.props.id,props:this.props}),this.autoCreateAttachmentTextures();const t=this.gl.bindFramebuffer(36160,this.handle);for(let A=0;A<this.colorAttachments.length;++A){const e=this.colorAttachments[A],t=36064+A;e&&this._attachOne(t,e)}if(this.depthStencilAttachment&&this._attachOne(function(A){const e=lt[A];if(!e?.attachment)throw new Error(`${A} is not a depth stencil format`);return e.attachment}(this.depthStencilAttachment.props.format),this.depthStencilAttachment),!1!==e.check){const A=this.gl.checkFramebufferStatus(36160);if(36053!==A)throw new Error(`Framebuffer ${function(A){switch(A){case 36053:return"success";case 36054:return"Mismatched attachments";case 36055:return"No attachments";case 36057:return"Height/width mismatch";case 36061:return"Unsupported or split attachments";case 36182:return"Samples mismatch";default:return`${A}`}}(A)}`)}this.gl.bindFramebuffer(36160,t)}}destroy(){super.destroy(),this.destroyed||null===this.handle||this.gl.deleteFramebuffer(this.handle)}createDepthStencilTexture(A){return new Qt(this.device,{id:`${this.id}-depth-stencil`,format:A,width:this.width,height:this.height,mipmaps:!1})}resizeAttachments(A,e){if(null===this.handle)return this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;void 0===A&&(A=this.gl.drawingBufferWidth),void 0===e&&(e=this.gl.drawingBufferHeight);for(const t of this.colorAttachments)t.texture.resize({width:A,height:e});return this.depthStencilAttachment&&this.depthStencilAttachment.texture.resize({width:A,height:e}),this}_attachOne(A,e){if(Array.isArray(e)){const[t,r=0,n=0]=e;return this._attachTexture(A,t,r,n),t}if(e instanceof Qt)return this._attachTexture(A,e,0,0),e;if(e instanceof zt){const t=e;return this._attachTexture(A,t.texture,t.props.baseMipLevel,t.props.baseArrayLayer),e.texture}throw new Error("attach")}_attachTexture(A,e,t,r){const{gl:n}=this.device;switch(n.bindTexture(e.target,e.handle),e.target){case 35866:case 32879:n.framebufferTextureLayer(36160,A,e.target,r,t);break;case 34067:const i=function(A){return A<34069?A+34069:A}(t);n.framebufferTexture2D(36160,A,i,e.handle,r);break;case 3553:n.framebufferTexture2D(36160,A,3553,e.handle,r);break;default:(0,ie.v)(!1,"Illegal texture type")}n.bindTexture(e.target,null)}}class Wt extends he{device;presentationSize;_framebuffer=null;constructor(A,e){super(e),this.device=A,this.presentationSize=[-1,-1],this._setAutoCreatedCanvasId(`${this.device.id}-canvas`),this.update()}getCurrentFramebuffer(){return this.update(),this._framebuffer=this._framebuffer||new jt(this.device,{handle:null}),this._framebuffer}update(){const A=this.getPixelSize();(A[0]!==this.presentationSize[0]||A[1]!==this.presentationSize[1])&&(this.presentationSize=A,this.resize())}resize(A){if(this.device.gl)if(this.canvas){const e=this.getDevicePixelRatio(A?.useDevicePixels);this.setDevicePixelRatio(e,A)}else;}commit(){}}const Ht={spector:XA.R.get("spector")||XA.R.get("spectorjs")};let Xt=null,Yt=!1;var Kt;!function(A){A[A.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",A[A.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",A[A.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",A[A.POINTS=0]="POINTS",A[A.LINES=1]="LINES",A[A.LINE_LOOP=2]="LINE_LOOP",A[A.LINE_STRIP=3]="LINE_STRIP",A[A.TRIANGLES=4]="TRIANGLES",A[A.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",A[A.TRIANGLE_FAN=6]="TRIANGLE_FAN",A[A.ZERO=0]="ZERO",A[A.ONE=1]="ONE",A[A.SRC_COLOR=768]="SRC_COLOR",A[A.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",A[A.SRC_ALPHA=770]="SRC_ALPHA",A[A.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",A[A.DST_ALPHA=772]="DST_ALPHA",A[A.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",A[A.DST_COLOR=774]="DST_COLOR",A[A.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",A[A.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",A[A.CONSTANT_COLOR=32769]="CONSTANT_COLOR",A[A.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",A[A.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",A[A.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",A[A.FUNC_ADD=32774]="FUNC_ADD",A[A.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",A[A.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",A[A.BLEND_EQUATION=32777]="BLEND_EQUATION",A[A.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",A[A.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",A[A.BLEND_DST_RGB=32968]="BLEND_DST_RGB",A[A.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",A[A.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",A[A.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",A[A.BLEND_COLOR=32773]="BLEND_COLOR",A[A.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",A[A.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",A[A.LINE_WIDTH=2849]="LINE_WIDTH",A[A.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",A[A.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",A[A.CULL_FACE_MODE=2885]="CULL_FACE_MODE",A[A.FRONT_FACE=2886]="FRONT_FACE",A[A.DEPTH_RANGE=2928]="DEPTH_RANGE",A[A.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",A[A.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",A[A.DEPTH_FUNC=2932]="DEPTH_FUNC",A[A.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",A[A.STENCIL_FUNC=2962]="STENCIL_FUNC",A[A.STENCIL_FAIL=2964]="STENCIL_FAIL",A[A.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",A[A.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",A[A.STENCIL_REF=2967]="STENCIL_REF",A[A.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",A[A.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",A[A.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",A[A.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",A[A.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",A[A.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",A[A.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",A[A.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",A[A.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",A[A.VIEWPORT=2978]="VIEWPORT",A[A.SCISSOR_BOX=3088]="SCISSOR_BOX",A[A.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",A[A.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",A[A.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",A[A.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",A[A.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",A[A.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",A[A.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",A[A.RED_BITS=3410]="RED_BITS",A[A.GREEN_BITS=3411]="GREEN_BITS",A[A.BLUE_BITS=3412]="BLUE_BITS",A[A.ALPHA_BITS=3413]="ALPHA_BITS",A[A.DEPTH_BITS=3414]="DEPTH_BITS",A[A.STENCIL_BITS=3415]="STENCIL_BITS",A[A.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",A[A.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",A[A.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",A[A.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",A[A.SAMPLES=32937]="SAMPLES",A[A.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",A[A.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",A[A.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",A[A.VENDOR=7936]="VENDOR",A[A.RENDERER=7937]="RENDERER",A[A.VERSION=7938]="VERSION",A[A.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",A[A.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",A[A.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",A[A.STATIC_DRAW=35044]="STATIC_DRAW",A[A.STREAM_DRAW=35040]="STREAM_DRAW",A[A.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",A[A.ARRAY_BUFFER=34962]="ARRAY_BUFFER",A[A.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",A[A.BUFFER_SIZE=34660]="BUFFER_SIZE",A[A.BUFFER_USAGE=34661]="BUFFER_USAGE",A[A.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",A[A.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",A[A.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",A[A.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",A[A.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",A[A.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",A[A.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",A[A.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",A[A.CULL_FACE=2884]="CULL_FACE",A[A.FRONT=1028]="FRONT",A[A.BACK=1029]="BACK",A[A.FRONT_AND_BACK=1032]="FRONT_AND_BACK",A[A.BLEND=3042]="BLEND",A[A.DEPTH_TEST=2929]="DEPTH_TEST",A[A.DITHER=3024]="DITHER",A[A.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",A[A.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",A[A.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",A[A.SCISSOR_TEST=3089]="SCISSOR_TEST",A[A.STENCIL_TEST=2960]="STENCIL_TEST",A[A.NO_ERROR=0]="NO_ERROR",A[A.INVALID_ENUM=1280]="INVALID_ENUM",A[A.INVALID_VALUE=1281]="INVALID_VALUE",A[A.INVALID_OPERATION=1282]="INVALID_OPERATION",A[A.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",A[A.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",A[A.CW=2304]="CW",A[A.CCW=2305]="CCW",A[A.DONT_CARE=4352]="DONT_CARE",A[A.FASTEST=4353]="FASTEST",A[A.NICEST=4354]="NICEST",A[A.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",A[A.BYTE=5120]="BYTE",A[A.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",A[A.SHORT=5122]="SHORT",A[A.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",A[A.INT=5124]="INT",A[A.UNSIGNED_INT=5125]="UNSIGNED_INT",A[A.FLOAT=5126]="FLOAT",A[A.DOUBLE=5130]="DOUBLE",A[A.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",A[A.ALPHA=6406]="ALPHA",A[A.RGB=6407]="RGB",A[A.RGBA=6408]="RGBA",A[A.LUMINANCE=6409]="LUMINANCE",A[A.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",A[A.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",A[A.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",A[A.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",A[A.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",A[A.VERTEX_SHADER=35633]="VERTEX_SHADER",A[A.COMPILE_STATUS=35713]="COMPILE_STATUS",A[A.DELETE_STATUS=35712]="DELETE_STATUS",A[A.LINK_STATUS=35714]="LINK_STATUS",A[A.VALIDATE_STATUS=35715]="VALIDATE_STATUS",A[A.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",A[A.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",A[A.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",A[A.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",A[A.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",A[A.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",A[A.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",A[A.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",A[A.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",A[A.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",A[A.SHADER_TYPE=35663]="SHADER_TYPE",A[A.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",A[A.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",A[A.NEVER=512]="NEVER",A[A.LESS=513]="LESS",A[A.EQUAL=514]="EQUAL",A[A.LEQUAL=515]="LEQUAL",A[A.GREATER=516]="GREATER",A[A.NOTEQUAL=517]="NOTEQUAL",A[A.GEQUAL=518]="GEQUAL",A[A.ALWAYS=519]="ALWAYS",A[A.KEEP=7680]="KEEP",A[A.REPLACE=7681]="REPLACE",A[A.INCR=7682]="INCR",A[A.DECR=7683]="DECR",A[A.INVERT=5386]="INVERT",A[A.INCR_WRAP=34055]="INCR_WRAP",A[A.DECR_WRAP=34056]="DECR_WRAP",A[A.NEAREST=9728]="NEAREST",A[A.LINEAR=9729]="LINEAR",A[A.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",A[A.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",A[A.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",A[A.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",A[A.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",A[A.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",A[A.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",A[A.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",A[A.TEXTURE_2D=3553]="TEXTURE_2D",A[A.TEXTURE=5890]="TEXTURE",A[A.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",A[A.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",A[A.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",A[A.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",A[A.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",A[A.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",A[A.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",A[A.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",A[A.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",A[A.TEXTURE0=33984]="TEXTURE0",A[A.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",A[A.REPEAT=10497]="REPEAT",A[A.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",A[A.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",A[A.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",A[A.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",A[A.FLOAT_VEC2=35664]="FLOAT_VEC2",A[A.FLOAT_VEC3=35665]="FLOAT_VEC3",A[A.FLOAT_VEC4=35666]="FLOAT_VEC4",A[A.INT_VEC2=35667]="INT_VEC2",A[A.INT_VEC3=35668]="INT_VEC3",A[A.INT_VEC4=35669]="INT_VEC4",A[A.BOOL=35670]="BOOL",A[A.BOOL_VEC2=35671]="BOOL_VEC2",A[A.BOOL_VEC3=35672]="BOOL_VEC3",A[A.BOOL_VEC4=35673]="BOOL_VEC4",A[A.FLOAT_MAT2=35674]="FLOAT_MAT2",A[A.FLOAT_MAT3=35675]="FLOAT_MAT3",A[A.FLOAT_MAT4=35676]="FLOAT_MAT4",A[A.SAMPLER_2D=35678]="SAMPLER_2D",A[A.SAMPLER_CUBE=35680]="SAMPLER_CUBE",A[A.LOW_FLOAT=36336]="LOW_FLOAT",A[A.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",A[A.HIGH_FLOAT=36338]="HIGH_FLOAT",A[A.LOW_INT=36339]="LOW_INT",A[A.MEDIUM_INT=36340]="MEDIUM_INT",A[A.HIGH_INT=36341]="HIGH_INT",A[A.FRAMEBUFFER=36160]="FRAMEBUFFER",A[A.RENDERBUFFER=36161]="RENDERBUFFER",A[A.RGBA4=32854]="RGBA4",A[A.RGB5_A1=32855]="RGB5_A1",A[A.RGB565=36194]="RGB565",A[A.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",A[A.STENCIL_INDEX=6401]="STENCIL_INDEX",A[A.STENCIL_INDEX8=36168]="STENCIL_INDEX8",A[A.DEPTH_STENCIL=34041]="DEPTH_STENCIL",A[A.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",A[A.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",A[A.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",A[A.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",A[A.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",A[A.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",A[A.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",A[A.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",A[A.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",A[A.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",A[A.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",A[A.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",A[A.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",A[A.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",A[A.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",A[A.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",A[A.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",A[A.NONE=0]="NONE",A[A.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",A[A.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",A[A.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",A[A.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",A[A.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",A[A.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",A[A.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",A[A.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",A[A.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",A[A.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",A[A.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",A[A.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",A[A.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",A[A.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",A[A.READ_BUFFER=3074]="READ_BUFFER",A[A.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",A[A.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",A[A.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",A[A.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",A[A.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",A[A.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",A[A.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",A[A.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",A[A.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",A[A.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",A[A.MAX_ELEMENTS_VERTICES=33e3]="MAX_ELEMENTS_VERTICES",A[A.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",A[A.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",A[A.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",A[A.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",A[A.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",A[A.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",A[A.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",A[A.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",A[A.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",A[A.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",A[A.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",A[A.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",A[A.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",A[A.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",A[A.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",A[A.RED=6403]="RED",A[A.RGB8=32849]="RGB8",A[A.RGBA8=32856]="RGBA8",A[A.RGB10_A2=32857]="RGB10_A2",A[A.TEXTURE_3D=32879]="TEXTURE_3D",A[A.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",A[A.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",A[A.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",A[A.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",A[A.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",A[A.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",A[A.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",A[A.SRGB=35904]="SRGB",A[A.SRGB8=35905]="SRGB8",A[A.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",A[A.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",A[A.RGBA32F=34836]="RGBA32F",A[A.RGB32F=34837]="RGB32F",A[A.RGBA16F=34842]="RGBA16F",A[A.RGB16F=34843]="RGB16F",A[A.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",A[A.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",A[A.R11F_G11F_B10F=35898]="R11F_G11F_B10F",A[A.RGB9_E5=35901]="RGB9_E5",A[A.RGBA32UI=36208]="RGBA32UI",A[A.RGB32UI=36209]="RGB32UI",A[A.RGBA16UI=36214]="RGBA16UI",A[A.RGB16UI=36215]="RGB16UI",A[A.RGBA8UI=36220]="RGBA8UI",A[A.RGB8UI=36221]="RGB8UI",A[A.RGBA32I=36226]="RGBA32I",A[A.RGB32I=36227]="RGB32I",A[A.RGBA16I=36232]="RGBA16I",A[A.RGB16I=36233]="RGB16I",A[A.RGBA8I=36238]="RGBA8I",A[A.RGB8I=36239]="RGB8I",A[A.RED_INTEGER=36244]="RED_INTEGER",A[A.RGB_INTEGER=36248]="RGB_INTEGER",A[A.RGBA_INTEGER=36249]="RGBA_INTEGER",A[A.R8=33321]="R8",A[A.RG8=33323]="RG8",A[A.R16F=33325]="R16F",A[A.R32F=33326]="R32F",A[A.RG16F=33327]="RG16F",A[A.RG32F=33328]="RG32F",A[A.R8I=33329]="R8I",A[A.R8UI=33330]="R8UI",A[A.R16I=33331]="R16I",A[A.R16UI=33332]="R16UI",A[A.R32I=33333]="R32I",A[A.R32UI=33334]="R32UI",A[A.RG8I=33335]="RG8I",A[A.RG8UI=33336]="RG8UI",A[A.RG16I=33337]="RG16I",A[A.RG16UI=33338]="RG16UI",A[A.RG32I=33339]="RG32I",A[A.RG32UI=33340]="RG32UI",A[A.R8_SNORM=36756]="R8_SNORM",A[A.RG8_SNORM=36757]="RG8_SNORM",A[A.RGB8_SNORM=36758]="RGB8_SNORM",A[A.RGBA8_SNORM=36759]="RGBA8_SNORM",A[A.RGB10_A2UI=36975]="RGB10_A2UI",A[A.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",A[A.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",A[A.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",A[A.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",A[A.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",A[A.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",A[A.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",A[A.HALF_FLOAT=5131]="HALF_FLOAT",A[A.RG=33319]="RG",A[A.RG_INTEGER=33320]="RG_INTEGER",A[A.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",A[A.CURRENT_QUERY=34917]="CURRENT_QUERY",A[A.QUERY_RESULT=34918]="QUERY_RESULT",A[A.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",A[A.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",A[A.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",A[A.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",A[A.DRAW_BUFFER0=34853]="DRAW_BUFFER0",A[A.DRAW_BUFFER1=34854]="DRAW_BUFFER1",A[A.DRAW_BUFFER2=34855]="DRAW_BUFFER2",A[A.DRAW_BUFFER3=34856]="DRAW_BUFFER3",A[A.DRAW_BUFFER4=34857]="DRAW_BUFFER4",A[A.DRAW_BUFFER5=34858]="DRAW_BUFFER5",A[A.DRAW_BUFFER6=34859]="DRAW_BUFFER6",A[A.DRAW_BUFFER7=34860]="DRAW_BUFFER7",A[A.DRAW_BUFFER8=34861]="DRAW_BUFFER8",A[A.DRAW_BUFFER9=34862]="DRAW_BUFFER9",A[A.DRAW_BUFFER10=34863]="DRAW_BUFFER10",A[A.DRAW_BUFFER11=34864]="DRAW_BUFFER11",A[A.DRAW_BUFFER12=34865]="DRAW_BUFFER12",A[A.DRAW_BUFFER13=34866]="DRAW_BUFFER13",A[A.DRAW_BUFFER14=34867]="DRAW_BUFFER14",A[A.DRAW_BUFFER15=34868]="DRAW_BUFFER15",A[A.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",A[A.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",A[A.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",A[A.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",A[A.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",A[A.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",A[A.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",A[A.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",A[A.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",A[A.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",A[A.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",A[A.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",A[A.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",A[A.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",A[A.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",A[A.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",A[A.SAMPLER_3D=35679]="SAMPLER_3D",A[A.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",A[A.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",A[A.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",A[A.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",A[A.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",A[A.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",A[A.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",A[A.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",A[A.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",A[A.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",A[A.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",A[A.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",A[A.MAX_SAMPLES=36183]="MAX_SAMPLES",A[A.SAMPLER_BINDING=35097]="SAMPLER_BINDING",A[A.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",A[A.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",A[A.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",A[A.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",A[A.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",A[A.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",A[A.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",A[A.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",A[A.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",A[A.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",A[A.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",A[A.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",A[A.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",A[A.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",A[A.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",A[A.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",A[A.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",A[A.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",A[A.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",A[A.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",A[A.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",A[A.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",A[A.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",A[A.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",A[A.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",A[A.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",A[A.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",A[A.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",A[A.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",A[A.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",A[A.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",A[A.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",A[A.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",A[A.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",A[A.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",A[A.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",A[A.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",A[A.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",A[A.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",A[A.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",A[A.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",A[A.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",A[A.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",A[A.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",A[A.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",A[A.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",A[A.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",A[A.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",A[A.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",A[A.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",A[A.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",A[A.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",A[A.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",A[A.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",A[A.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",A[A.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",A[A.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",A[A.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",A[A.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",A[A.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",A[A.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",A[A.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",A[A.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",A[A.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",A[A.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",A[A.UNIFORM_TYPE=35383]="UNIFORM_TYPE",A[A.UNIFORM_SIZE=35384]="UNIFORM_SIZE",A[A.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",A[A.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",A[A.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",A[A.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",A[A.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",A[A.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",A[A.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",A[A.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",A[A.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",A[A.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",A[A.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",A[A.OBJECT_TYPE=37138]="OBJECT_TYPE",A[A.SYNC_CONDITION=37139]="SYNC_CONDITION",A[A.SYNC_STATUS=37140]="SYNC_STATUS",A[A.SYNC_FLAGS=37141]="SYNC_FLAGS",A[A.SYNC_FENCE=37142]="SYNC_FENCE",A[A.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",A[A.UNSIGNALED=37144]="UNSIGNALED",A[A.SIGNALED=37145]="SIGNALED",A[A.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",A[A.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",A[A.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",A[A.WAIT_FAILED=37149]="WAIT_FAILED",A[A.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",A[A.COLOR=6144]="COLOR",A[A.DEPTH=6145]="DEPTH",A[A.STENCIL=6146]="STENCIL",A[A.MIN=32775]="MIN",A[A.MAX=32776]="MAX",A[A.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",A[A.STREAM_READ=35041]="STREAM_READ",A[A.STREAM_COPY=35042]="STREAM_COPY",A[A.STATIC_READ=35045]="STATIC_READ",A[A.STATIC_COPY=35046]="STATIC_COPY",A[A.DYNAMIC_READ=35049]="DYNAMIC_READ",A[A.DYNAMIC_COPY=35050]="DYNAMIC_COPY",A[A.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",A[A.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",A[A.INVALID_INDEX=4294967295]="INVALID_INDEX",A[A.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",A[A.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",A[A.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",A[A.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",A[A.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",A[A.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",A[A.R16_EXT=33322]="R16_EXT",A[A.RG16_EXT=33324]="RG16_EXT",A[A.RGB16_EXT=32852]="RGB16_EXT",A[A.RGBA16_EXT=32859]="RGBA16_EXT",A[A.R16_SNORM_EXT=36760]="R16_SNORM_EXT",A[A.RG16_SNORM_EXT=36761]="RG16_SNORM_EXT",A[A.RGB16_SNORM_EXT=36762]="RGB16_SNORM_EXT",A[A.RGBA16_SNORM_EXT=36763]="RGBA16_SNORM_EXT",A[A.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",A[A.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",A[A.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",A[A.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",A[A.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",A[A.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",A[A.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",A[A.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",A[A.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",A[A.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",A[A.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",A[A.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",A[A.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",A[A.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",A[A.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",A[A.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",A[A.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",A[A.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",A[A.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",A[A.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",A[A.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",A[A.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",A[A.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",A[A.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",A[A.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",A[A.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",A[A.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",A[A.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",A[A.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",A[A.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",A[A.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",A[A.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",A[A.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",A[A.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",A[A.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",A[A.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",A[A.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",A[A.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",A[A.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",A[A.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",A[A.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",A[A.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",A[A.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",A[A.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",A[A.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",A[A.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",A[A.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",A[A.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",A[A.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",A[A.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",A[A.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",A[A.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",A[A.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",A[A.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",A[A.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",A[A.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",A[A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",A[A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",A[A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",A[A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",A[A.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",A[A.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",A[A.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",A[A.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",A[A.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",A[A.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",A[A.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",A[A.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",A[A.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT",A[A.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR",A[A.DEPTH_CLAMP_EXT=34383]="DEPTH_CLAMP_EXT",A[A.FIRST_VERTEX_CONVENTION_WEBGL=36429]="FIRST_VERTEX_CONVENTION_WEBGL",A[A.LAST_VERTEX_CONVENTION_WEBGL=36430]="LAST_VERTEX_CONVENTION_WEBGL",A[A.PROVOKING_VERTEX_WEBL=36431]="PROVOKING_VERTEX_WEBL",A[A.POLYGON_MODE_WEBGL=2880]="POLYGON_MODE_WEBGL",A[A.POLYGON_OFFSET_LINE_WEBGL=10754]="POLYGON_OFFSET_LINE_WEBGL",A[A.LINE_WEBGL=6913]="LINE_WEBGL",A[A.FILL_WEBGL=6914]="FILL_WEBGL",A[A.MAX_CLIP_DISTANCES_WEBGL=3378]="MAX_CLIP_DISTANCES_WEBGL",A[A.MAX_CULL_DISTANCES_WEBGL=33529]="MAX_CULL_DISTANCES_WEBGL",A[A.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL=33530]="MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL",A[A.CLIP_DISTANCE0_WEBGL=12288]="CLIP_DISTANCE0_WEBGL",A[A.CLIP_DISTANCE1_WEBGL=12289]="CLIP_DISTANCE1_WEBGL",A[A.CLIP_DISTANCE2_WEBGL=12290]="CLIP_DISTANCE2_WEBGL",A[A.CLIP_DISTANCE3_WEBGL=12291]="CLIP_DISTANCE3_WEBGL",A[A.CLIP_DISTANCE4_WEBGL=12292]="CLIP_DISTANCE4_WEBGL",A[A.CLIP_DISTANCE5_WEBGL=12293]="CLIP_DISTANCE5_WEBGL",A[A.CLIP_DISTANCE6_WEBGL=12294]="CLIP_DISTANCE6_WEBGL",A[A.CLIP_DISTANCE7_WEBGL=12295]="CLIP_DISTANCE7_WEBGL",A[A.POLYGON_OFFSET_CLAMP_EXT=36379]="POLYGON_OFFSET_CLAMP_EXT",A[A.LOWER_LEFT_EXT=36001]="LOWER_LEFT_EXT",A[A.UPPER_LEFT_EXT=36002]="UPPER_LEFT_EXT",A[A.NEGATIVE_ONE_TO_ONE_EXT=37726]="NEGATIVE_ONE_TO_ONE_EXT",A[A.ZERO_TO_ONE_EXT=37727]="ZERO_TO_ONE_EXT",A[A.CLIP_ORIGIN_EXT=37724]="CLIP_ORIGIN_EXT",A[A.CLIP_DEPTH_MODE_EXT=37725]="CLIP_DEPTH_MODE_EXT",A[A.SRC1_COLOR_WEBGL=35065]="SRC1_COLOR_WEBGL",A[A.SRC1_ALPHA_WEBGL=34185]="SRC1_ALPHA_WEBGL",A[A.ONE_MINUS_SRC1_COLOR_WEBGL=35066]="ONE_MINUS_SRC1_COLOR_WEBGL",A[A.ONE_MINUS_SRC1_ALPHA_WEBGL=35067]="ONE_MINUS_SRC1_ALPHA_WEBGL",A[A.MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL=35068]="MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL",A[A.MIRROR_CLAMP_TO_EDGE_EXT=34627]="MIRROR_CLAMP_TO_EDGE_EXT"}(Kt||(Kt={}));function Zt(A){return A.luma=A.luma||{},A.luma}function $t(A,e={}){return A?e.debug?function(A,e){if(!globalThis.WebGLDebugUtils)return XA.R.warn("webgl-debug not loaded")(),A;const t=Zt(A);if(t.debugContext)return t.debugContext;globalThis.WebGLDebugUtils.init({...Kt,...A});const r=globalThis.WebGLDebugUtils.makeDebugContext(A,Jt.bind(null,e),Ar.bind(null,e));for(const s in Kt)s in r||"number"!=typeof Kt[s]||(r[s]=Kt[s]);class n{}Object.setPrototypeOf(r,Object.getPrototypeOf(A)),Object.setPrototypeOf(n,r);const i=Object.create(n);return t.realContext=A,t.debugContext=i,i.debug=!0,i}(A,e):function(A){const e=Zt(A);return e.realContext?e.realContext:A}(A):null}function qt(A,e){e=Array.from(e).map((A=>void 0===A?"undefined":A));let t=globalThis.WebGLDebugUtils.glFunctionArgsToString(A,e);return t=`${t.slice(0,100)}${t.length>100?"...":""}`,`gl.${A}(${t})`}function Jt(A,e,t,r){r=Array.from(r).map((A=>void 0===A?"undefined":A));const n=`${globalThis.WebGLDebugUtils.glEnumToString(e)} in gl.${t}(${globalThis.WebGLDebugUtils.glFunctionArgsToString(t,r)})`;if(XA.R.error(n)(),A.throwOnError)throw new Error(n)}function Ar(A,e,t){let r="";if(XA.R.level>=1&&(r=qt(e,t),XA.R.log(1,r)()),A.break&&A.break.length>0){r=r||qt(e,t);A.break.every((A=>-1!==r.indexOf(A)))}for(const n of t)if(void 0===n){if(r=r||qt(e,t),A.throwOnError)throw new Error(`Undefined argument: ${r}`);XA.R.error(`Undefined argument: ${r}`)()}}var er=t(5429);function tr(A){const e=A.toLowerCase();return["warning","error","info"].includes(e)?e:"info"}class rr extends er.M{device;handle;constructor(A,e){switch(super(A,e),this.device=A,this.props.stage){case"vertex":this.handle=this.props.handle||this.device.gl.createShader(35633);break;case"fragment":this.handle=this.props.handle||this.device.gl.createShader(35632);break;default:throw new Error(this.props.stage)}this._compile(this.source)}destroy(){this.handle&&(this.removeStats(),this.device.gl.deleteShader(this.handle),this.destroyed=!0)}async getCompilationInfo(){return await this._waitForCompilationComplete(),this.getCompilationInfoSync()}getCompilationInfoSync(){return function(A){const e=A.split(/\r?\n/),t=[];for(const r of e){if(r.length<=1)continue;const A=r.split(":");if(2===A.length){const[e,r]=A;t.push({message:r.trim(),type:tr(e),lineNum:0,linePos:0});continue}const[e,n,i,...s]=A;let o=parseInt(i,10);isNaN(o)&&(o=0);let a=parseInt(n,10);isNaN(a)&&(a=0),t.push({message:s.join(":").trim(),type:tr(e),lineNum:o,linePos:a})}return t}(this.device.gl.getShaderInfoLog(this.handle))}getTranslatedSource(){return this.device.getExtension("WEBGL_debug_shaders").WEBGL_debug_shaders?.getTranslatedShaderSource(this.handle)}async _compile(A){A=(A=>A.startsWith("#version ")?A:`#version 100\n${A}`)(A);const{gl:e}=this.device;if(e.shaderSource(this.handle,A),e.compileShader(this.handle),0!==XA.R.level){if(this.device.features.has("compilation-status-async-webgl"))XA.R.once(1,"Shader compilation is asynchronous")(),await this._waitForCompilationComplete(),XA.R.info(2,`Shader ${this.id} - async compilation complete: ${this.compilationStatus}`)(),this._getCompilationStatus(),this.debugShader();else if(this._getCompilationStatus(),this.debugShader(),"error"===this.compilationStatus)throw new Error(`GLSL compilation errors in ${this.props.stage} shader ${this.props.id}`)}else this.compilationStatus="pending"}async _waitForCompilationComplete(){const A=async A=>await new Promise((e=>setTimeout(e,A)));if(!this.device.features.has("compilation-status-async-webgl"))return void await A(10);const{gl:e}=this.device;for(;;){if(e.getShaderParameter(this.handle,37297))return;await A(10)}}_getCompilationStatus(){this.compilationStatus=this.device.gl.getShaderParameter(this.handle,35713)?"success":"error"}}class nr extends bt.F{static defaultProps={...bt.F.defaultProps,framebuffer:null,parameters:void 0,clearColor:[0,0,0,0],clearDepth:1,clearStencil:0,depthReadOnly:!1,stencilReadOnly:!1,discard:!1,occlusionQuerySet:void 0,timestampQuerySet:void 0,beginTimestampIndex:void 0,endTimestampIndex:void 0};get[Symbol.toStringTag](){return"RenderPass"}constructor(A,e){super(A,e,nr.defaultProps)}}const ir=6144,sr=[1,2,4,8];class or extends nr{device;glParameters;constructor(A,e){super(A,e),this.device=A,De(this.device.gl),this.setParameters(this.props.parameters),this.clear()}end(){Oe(this.device.gl)}pushDebugGroup(A){}popDebugGroup(){}insertDebugMarker(A){}setParameters(A={}){const e={...this.glParameters};this.props.framebuffer&&(e.framebuffer=this.props.framebuffer),this.props.depthReadOnly&&(e.depthMask=!this.props.depthReadOnly),e.stencilMask=this.props.stencilReadOnly?0:1,e[35977]=this.props.discard,A.viewport&&(A.viewport.length>=6?(e.viewport=A.viewport.slice(0,4),e.depthRange=[A.viewport[4],A.viewport[5]]):e.viewport=A.viewport),A.scissorRect&&(e.scissorTest=!0,e.scissor=A.scissorRect),A.blendConstant&&(e.blendColor=A.blendConstant),A.stencilReference&&(console.warn("RenderPassParameters.stencilReference not yet implemented in WebGL"),A[2967]=A.stencilReference),A.colorMask&&(e.colorMask=sr.map((e=>Boolean(e&A.colorMask)))),this.glParameters=e,xe(this.device.gl,e)}beginOcclusionQuery(A){this.props.occlusionQuerySet?.beginOcclusionQuery()}endOcclusionQuery(){this.props.occlusionQuerySet?.endOcclusionQuery()}clear(){const A={...this.glParameters};let e=0;!1!==this.props.clearColor&&(e|=16384,A.clearColor=this.props.clearColor),!1!==this.props.clearDepth&&(e|=256,A.clearDepth=this.props.clearDepth),!1!==this.props.clearStencil&&(e|=1024,A.clearStencil=this.props.clearStencil),0!==e&&Rt(this.device.gl,A,(()=>{this.device.gl.clear(e)}))}clearColorBuffer(A=0,e=[0,0,0,0]){Rt(this.device.gl,{framebuffer:this.props.framebuffer},(()=>{switch(e.constructor){case Int32Array:this.device.gl.clearBufferiv(ir,A,e);break;case Uint32Array:this.device.gl.clearBufferuiv(ir,A,e);break;case Float32Array:default:this.device.gl.clearBufferfv(ir,A,e)}}))}}var ar=t(6558);var cr=t(831),lr=t(9538);function ur(A,e){const{clamped:t=!0}=e||{};switch(A){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return t?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}const hr={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},fr={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class dr{offset;stride;type;size;divisor;normalized;integer;buffer;index;static getBytesPerElement(A){return ur(A.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(A){(0,ie.v)(A.size);return ur(A.type||5126).BYTES_PER_ELEMENT*A.size}static resolve(...A){return new dr(...[hr,...A])}constructor(...A){A.forEach((A=>this._assign(A))),Object.freeze(this)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return dr.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return dr.getBytesPerVertex(this)}_assign(A={}){return void 0!==(A=function(A,e,t){const{removedProps:r={},deprecatedProps:n={},replacedProps:i={}}=t;for(const o in r)if(o in e){const e=r[o]?`${A}.${r[o]}`:"N/A";XA.R.removed(`${A}.${o}`,e)()}for(const o in n)if(o in e){const e=n[o];XA.R.deprecated(`${A}.${o}`,`${A}.${e}`)()}let s=null;for(const[o,a]of Object.entries(i))o in e&&(XA.R.deprecated(`${A}.${o}`,`${A}.${a}`)(),s=s||Object.assign({},e),s[a]=e[o],delete s[o]);return s||e}("Accessor",A,fr)).type&&(this.type=A.type,5124!==A.type&&5125!==A.type||(this.integer=!0)),void 0!==A.size&&(this.size=A.size),void 0!==A.offset&&(this.offset=A.offset),void 0!==A.stride&&(this.stride=A.stride),void 0!==A.normalize&&(this.normalized=A.normalize),void 0!==A.normalized&&(this.normalized=A.normalized),void 0!==A.integer&&(this.integer=A.integer),void 0!==A.divisor&&(this.divisor=A.divisor),void 0!==A.buffer&&(this.buffer=A.buffer),void 0!==A.index&&("boolean"==typeof A.index?this.index=A.index?1:0:this.index=A.index),void 0!==A.instanced&&(this.divisor=A.instanced?1:0),void 0!==A.isInstanced&&(this.divisor=A.isInstanced?1:0),void 0===this.offset&&delete this.offset,void 0===this.stride&&delete this.stride,void 0===this.type&&delete this.type,void 0===this.size&&delete this.size,void 0===this.divisor&&delete this.divisor,void 0===this.normalized&&delete this.normalized,void 0===this.integer&&delete this.integer,void 0===this.buffer&&delete this.buffer,void 0===this.index&&delete this.index,this}}const pr=[35678,35680,35679,35682,36289,36292,36293,36298,36299,36300,36303,36306,36307,36308,36311],gr={5126:[5126,1,"float","f32","float32"],35664:[5126,2,"vec2","vec2<f32>","float32x2"],35665:[5126,3,"vec3","vec3<f32>","float32x3"],35666:[5126,4,"vec4","vec4<f32>","float32x4"],5124:[5124,1,"int","i32","sint32"],35667:[5124,2,"ivec2","vec2<i32>","sint32x2"],35668:[5124,3,"ivec3","vec3<i32>","sint32x3"],35669:[5124,4,"ivec4","vec4<i32>","sint32x4"],5125:[5125,1,"uint","u32","uint32"],36294:[5125,2,"uvec2","vec2<u32>","uint32x2"],36295:[5125,3,"uvec3","vec3<u32>","uint32x3"],36296:[5125,4,"uvec4","vec4<u32>","uint32x4"],35670:[5126,1,"bool","f32","float32"],35671:[5126,2,"bvec2","vec2<f32>","float32x2"],35672:[5126,3,"bvec3","vec3<f32>","float32x3"],35673:[5126,4,"bvec4","vec4<f32>","float32x4"],35674:[5126,8,"mat2","mat2x2<f32>"],35685:[5126,8,"mat2x3","mat2x3<f32>"],35686:[5126,8,"mat2x4","mat2x4<f32>"],35687:[5126,12,"mat3x2","mat3x2<f32>"],35675:[5126,12,"mat3","mat3x3<f32>"],35688:[5126,12,"mat3x4","mat3x4<f32>"],35689:[5126,16,"mat4x2","mat4x2<f32>"],35690:[5126,16,"mat4x3","mat4x3<f32>"],35676:[5126,16,"mat4","mat4x4<f32>"]};function _r(A){const e=gr[A];if(!e)throw new Error("uniform");const[t,r,,n]=e;return{format:n,components:r,glType:t}}function mr(A){const e=gr[A];if(!e)throw new Error("attribute");const[,t,,r,n]=e;return{attributeType:r,vertexFormat:n,components:t}}function vr(A,e){const t={attributes:[],bindings:[]};t.attributes=function(A,e){const t=[],r=A.getProgramParameter(e,35721);for(let n=0;n<r;n++){const r=A.getActiveAttrib(e,n);if(!r)throw new Error("activeInfo");const{name:i,type:s}=r,o=A.getAttribLocation(e,i);if(o>=0){const{attributeType:A}=mr(s),e=/instance/i.test(i)?"instance":"vertex";t.push({name:i,location:o,stepMode:e,type:A})}}return t.sort(((A,e)=>A.location-e.location)),t}(A,e);const r=function(A,e){const t=(t,r)=>A.getActiveUniformBlockParameter(e,t,r),r=[],n=A.getProgramParameter(e,35382);for(let i=0;i<n;i++){const n={name:A.getActiveUniformBlockName(e,i)||"",location:t(i,35391),byteLength:t(i,35392),vertex:t(i,35396),fragment:t(i,35398),uniformCount:t(i,35394),uniforms:[]},s=t(i,35395)||[],o=A.getActiveUniforms(e,s,35383),a=A.getActiveUniforms(e,s,35384),c=A.getActiveUniforms(e,s,35387),l=A.getActiveUniforms(e,s,35388);for(let t=0;t<n.uniformCount;++t){const r=A.getActiveUniform(e,s[t]);if(!r)throw new Error("activeInfo");n.uniforms.push({name:r.name,format:_r(o[t]).format,type:o[t],arrayLength:a[t],byteOffset:c[t],byteStride:l[t]})}r.push(n)}return r.sort(((A,e)=>A.location-e.location)),r}(A,e);for(const a of r){const A=a.uniforms.map((A=>({name:A.name,format:A.format,byteOffset:A.byteOffset,byteStride:A.byteStride,arrayLength:A.arrayLength})));t.bindings.push({type:"uniform",name:a.name,location:a.location,visibility:(a.vertex?1:0)&(a.fragment?2:0),minBindingSize:a.byteLength,uniforms:A})}const n=function(A,e){const t=[],r=A.getProgramParameter(e,35718);for(let n=0;n<r;n++){const r=A.getActiveUniform(e,n);if(!r)throw new Error("activeInfo");const{name:i,size:s,type:o}=r,{name:a,isArray:c}=wr(i);let l=A.getUniformLocation(e,a);const u={location:l,name:a,size:s,type:o,isArray:c};if(t.push(u),u.size>1)for(let n=0;n<u.size;n++){const r=`${a}[${n}]`;l=A.getUniformLocation(e,r);const i={...u,name:r,location:l};t.push(i)}}return t}(A,e);let i=0;for(const a of n)if(s=a.type,pr.includes(s)){const{viewDimension:A,sampleType:e}=br(a.type);t.bindings.push({type:"texture",name:a.name,location:i,viewDimension:A,sampleType:e}),a.textureUnit=i,i+=1}var s;n.length&&(t.uniforms=n);const o=function(A,e){const t=[],r=A.getProgramParameter(e,35971);for(let n=0;n<r;n++){const r=A.getTransformFeedbackVarying(e,n);if(!r)throw new Error("activeInfo");const{name:i,type:s,size:o}=r,{glType:a,components:c}=_r(s),l={location:n,name:i,accessor:new dr({type:a,size:o*c})};t.push(l)}return t.sort(((A,e)=>A.location-e.location)),t}(A,e);return o?.length&&(t.varyings=o),t}const Er={35678:["2d","float"],35680:["cube","float"],35679:["3d","float"],35682:["3d","depth"],36289:["2d-array","float"],36292:["2d-array","depth"],36293:["cube","float"],36298:["2d","sint"],36299:["3d","sint"],36300:["cube","sint"],36303:["2d-array","uint"],36306:["2d","uint"],36307:["3d","uint"],36308:["cube","uint"],36311:["2d-array","uint"]};function br(A){const e=Er[A];if(!e)throw new Error("sampler");const[t,r]=e;return{viewDimension:t,sampleType:r}}function wr(A){if("]"!==A[A.length-1])return{name:A,length:1,isArray:!1};const e=/([^[]*)(\[[0-9]+\])?/.exec(A);if(!e||e.length<2)throw new Error(`Failed to parse GLSL uniform name ${A}`);return{name:e[1],length:e[2]?1:0,isArray:Boolean(e[2])}}function yr(A,e,t,r){const n=A;let i=r;!0===i&&(i=1),!1===i&&(i=0);const s="number"==typeof i?[i]:i;switch(t){case 35678:case 35680:case 35679:case 35682:case 36289:case 36292:case 36293:case 36298:case 36299:case 36300:case 36303:case 36306:case 36307:case 36308:case 36311:if("number"!=typeof r)throw new Error("samplers must be set to integers");return A.uniform1i(e,r);case 5126:return A.uniform1fv(e,s);case 35664:return A.uniform2fv(e,s);case 35665:return A.uniform3fv(e,s);case 35666:return A.uniform4fv(e,s);case 5124:case 35670:return A.uniform1iv(e,s);case 35667:case 35671:return A.uniform2iv(e,s);case 35668:case 35672:return A.uniform3iv(e,s);case 35669:case 35673:return A.uniform4iv(e,s);case 5125:return n.uniform1uiv(e,s,1);case 36294:return n.uniform2uiv(e,s,2);case 36295:return n.uniform3uiv(e,s,3);case 36296:return n.uniform4uiv(e,s,4);case 35674:return A.uniformMatrix2fv(e,!1,s);case 35675:return A.uniformMatrix3fv(e,!1,s);case 35676:return A.uniformMatrix4fv(e,!1,s);case 35685:return n.uniformMatrix2x3fv(e,!1,s);case 35686:return n.uniformMatrix2x4fv(e,!1,s);case 35687:return n.uniformMatrix3x2fv(e,!1,s);case 35688:return n.uniformMatrix3x4fv(e,!1,s);case 35689:return n.uniformMatrix4x2fv(e,!1,s);case 35690:return n.uniformMatrix4x3fv(e,!1,s)}throw new Error("Illegal uniform")}class Tr extends ar.r{device;handle;vs;fs;introspectedLayout;uniforms={};bindings={};varyings=null;_uniformCount=0;_uniformSetters={};constructor(A,e){super(A,e),this.device=A,this.handle=this.props.handle||this.device.gl.createProgram(),this.device.setSpectorMetadata(this.handle,{id:this.props.id}),this.vs=e.vs,this.fs=e.fs;const{varyings:t,bufferMode:r=35981}=e;switch(t&&t.length>0&&(this.varyings=t,this.device.gl.transformFeedbackVaryings(this.handle,t,r)),this._linkShaders(),XA.R.time(1,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.introspectedLayout=vr(this.device.gl,this.handle),XA.R.timeEnd(1,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.shaderLayout=(0,lr.GE)(this.introspectedLayout,e.shaderLayout),this.props.topology){case"triangle-fan-webgl":case"line-loop-webgl":XA.R.warn(`Primitive topology ${this.props.topology} is deprecated and will be removed in v9.1`)}}destroy(){this.handle&&(this.device.gl.deleteProgram(this.handle),this.destroyed=!0)}setBindings(A,e){for(const[t,r]of Object.entries(A)){const A=this.shaderLayout.bindings.find((A=>A.name===t))||this.shaderLayout.bindings.find((A=>A.name===`${t}Uniforms`));if(A){switch(r||XA.R.warn(`Unsetting binding "${t}" in render pipeline "${this.id}"`)(),A.type){case"uniform":if(!(r instanceof Ft||r.buffer instanceof Ft))throw new Error("buffer value");break;case"texture":if(!(r instanceof zt||r instanceof Qt||r instanceof jt))throw new Error("texture value");break;case"sampler":XA.R.warn(`Ignoring sampler ${t}`)();break;default:throw new Error(A.type)}this.bindings[t]=r}else{const A=this.shaderLayout.bindings.map((A=>`"${A.name}"`)).join(", ");e?.disableWarnings||XA.R.warn(`Unknown binding "${t}" in render pipeline "${this.id}", expected one of ${A}`)()}}}draw(A){const{renderPass:e,parameters:t=this.props.parameters,topology:r=this.props.topology,vertexArray:n,vertexCount:i,instanceCount:s,isInstanced:o=!1,firstVertex:a=0,transformFeedback:c}=A,l=function(A){switch(A){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 3;case"line-loop-webgl":return 2;case"triangle-list":return 4;case"triangle-strip":return 5;case"triangle-fan-webgl":return 6;default:throw new Error(A)}}(r),u=Boolean(n.indexBuffer),h=n.indexBuffer?.glIndexType;if("success"!==this.linkStatus)return XA.R.info(2,`RenderPipeline:${this.id}.draw() aborted - waiting for shader linking`)(),!1;if(!this._areTexturesRenderable()||0===i)return XA.R.info(2,`RenderPipeline:${this.id}.draw() aborted - textures not yet loaded`)(),!1;if(0===i)return XA.R.info(2,`RenderPipeline:${this.id}.draw() aborted - no vertices to draw`)(),!0;this.device.gl.useProgram(this.handle),n.bindBeforeRender(e),c&&c.begin(this.props.topology),this._applyBindings(),this._applyUniforms();const f=e;return function(A,e,t,r){if((0,ZA.Z)(e))return r(A);const n=A;De(n.gl);try{Pt(A,e),xe(n.gl,t),r(A)}finally{Oe(n.gl)}}(this.device,t,f.glParameters,(()=>{u&&o?this.device.gl.drawElementsInstanced(l,i||0,h,a,s||0):u?this.device.gl.drawElements(l,i||0,h,a):o?this.device.gl.drawArraysInstanced(l,a,i||0,s||0):this.device.gl.drawArrays(l,a,i||0),c&&c.end()})),n.unbindAfterRender(e),!0}setUniformsWebGL(A){const{bindings:e}=(0,cr.l)(A);Object.keys(e).forEach((A=>{XA.R.warn(`Unsupported value "${JSON.stringify(e[A])}" used in setUniforms() for key ${A}. Use setBindings() instead?`)()})),Object.assign(this.uniforms,A)}async _linkShaders(){const{gl:A}=this.device;if(A.attachShader(this.handle,this.vs.handle),A.attachShader(this.handle,this.fs.handle),XA.R.time(4,`linkProgram for ${this.id}`)(),A.linkProgram(this.handle),XA.R.timeEnd(4,`linkProgram for ${this.id}`)(),XA.R.level,!this.device.features.has("compilation-status-async-webgl")){const A=this._getLinkStatus();return void this._reportLinkStatus(A)}XA.R.once(1,"RenderPipeline linking is asynchronous")(),await this._waitForLinkComplete(),XA.R.info(2,`RenderPipeline ${this.id} - async linking complete: ${this.linkStatus}`)();const e=this._getLinkStatus();this._reportLinkStatus(e)}_reportLinkStatus(A){if("success"!==A){if("error"===this.vs.compilationStatus)throw this.vs.debugShader(),new Error(`Error during compilation of shader ${this.vs.id}`);if("error"===this.fs?.compilationStatus)throw this.fs.debugShader(),new Error(`Error during compilation of shader ${this.fs.id}`);throw new Error(`Error during ${A}: ${this.device.gl.getProgramInfoLog(this.handle)}`)}}_getLinkStatus(){const{gl:A}=this.device;if(!A.getProgramParameter(this.handle,35714))return this.linkStatus="error","linking";A.validateProgram(this.handle);return A.getProgramParameter(this.handle,35715)?(this.linkStatus="success","success"):(this.linkStatus="error","validation")}async _waitForLinkComplete(){const A=async A=>await new Promise((e=>setTimeout(e,A)));if(!this.device.features.has("compilation-status-async-webgl"))return void await A(10);const{gl:e}=this.device;for(;;){if(e.getProgramParameter(this.handle,37297))return;await A(10)}}_areTexturesRenderable(){let A=!0;for(const[,e]of Object.entries(this.bindings))e instanceof Qt&&(e.update(),A=A&&e.loaded);return A}_applyBindings(){if("success"!==this.linkStatus)return;const{gl:A}=this.device;A.useProgram(this.handle);let e=0,t=0;for(const r of this.shaderLayout.bindings){const n=this.bindings[r.name]||this.bindings[r.name.replace(/Uniforms$/,"")];if(!n)throw new Error(`No value for binding ${r.name} in ${this.id}`);switch(r.type){case"uniform":const{name:i}=r,s=A.getUniformBlockIndex(this.handle,i);if(4294967295===s)throw new Error(`Invalid uniform block name ${i}`);A.uniformBlockBinding(this.handle,t,s),n instanceof Ft?A.bindBufferBase(35345,t,n.handle):A.bindBufferRange(35345,t,n.buffer.handle,n.offset||0,n.size||n.buffer.byteLength-n.offset),t+=1;break;case"texture":if(!(n instanceof zt||n instanceof Qt||n instanceof jt))throw new Error("texture");let o;if(n instanceof zt)o=n.texture;else if(n instanceof Qt)o=n;else{if(!(n instanceof jt&&n.colorAttachments[0]instanceof zt))throw new Error("No texture");XA.R.warn("Passing framebuffer in texture binding may be deprecated. Use fbo.colorAttachments[0] instead")(),o=n.colorAttachments[0].texture}A.activeTexture(33984+e),A.bindTexture(o.target,o.handle),e+=1;break;case"sampler":break;case"storage":case"read-only-storage":throw new Error(`binding type '${r.type}' not supported in WebGL`)}}}_applyUniforms(){for(const A of this.shaderLayout.uniforms||[]){const{name:e,location:t,type:r,textureUnit:n}=A,i=this.uniforms[e]??n;void 0!==i&&yr(this.device.gl,t,r,i)}}}class Sr extends bt.F{static defaultProps={...bt.F.defaultProps,measureExecutionTime:void 0};get[Symbol.toStringTag](){return"CommandEncoder"}constructor(A,e){super(A,e,Sr.defaultProps)}}class Cr extends bt.F{static defaultProps={...bt.F.defaultProps};get[Symbol.toStringTag](){return"CommandBuffer"}constructor(A,e){super(A,e,Cr.defaultProps)}}class Rr extends Cr{device;commands=[];constructor(A){super(A,{}),this.device=A}submitCommands(A=this.commands){for(const e of A)switch(e.name){case"copy-buffer-to-buffer":Pr(this.device,e.options);break;case"copy-buffer-to-texture":xr(this.device,e.options);break;case"copy-texture-to-buffer":Mr(this.device,e.options);break;case"copy-texture-to-texture":kr(this.device,e.options)}}}function Pr(A,e){const t=e.source,r=e.destination;A.gl.bindBuffer(36662,t.handle),A.gl.bindBuffer(36663,r.handle),A.gl.copyBufferSubData(36662,36663,e.sourceOffset??0,e.destinationOffset??0,e.size),A.gl.bindBuffer(36662,null),A.gl.bindBuffer(36663,null)}function xr(A,e){throw new Error("Not implemented")}function Mr(A,e){const{source:t,mipLevel:r=0,aspect:n="all",width:i=e.source.width,height:s=e.source.height,depthOrArrayLayers:o=0,origin:a=[0,0],destination:c,byteOffset:l=0,bytesPerRow:u,rowsPerImage:h}=e;if("all"!==n)throw new Error("not supported");if(0!==r||0!==o||u||h)throw new Error("not implemented");const{framebuffer:f,destroyFramebuffer:d}=Br(t);let p;try{const e=c,t=i||f.width,r=s||f.height,n=pt(f.texture.props.format),o=n.dataFormat,u=n.type;A.gl.bindBuffer(35051,e.handle),p=A.gl.bindFramebuffer(36160,f.handle),A.gl.readPixels(a[0],a[1],t,r,o,u,l)}finally{A.gl.bindBuffer(35051,null),void 0!==p&&A.gl.bindFramebuffer(36160,p),d&&f.destroy()}}function kr(A,e){const{source:t,destinationMipLevel:r=0,origin:n=[0,0],destinationOrigin:i=[0,0],destination:s}=e;let{width:o=e.destination.width,height:a=e.destination.height}=e;const{framebuffer:c,destroyFramebuffer:l}=Br(t),[u,h]=n,[f,d,p]=i,g=A.gl.bindFramebuffer(36160,c.handle);let _,m=null;if(!(s instanceof Qt))throw new Error("invalid destination");switch(m=s,o=Number.isFinite(o)?o:m.width,a=Number.isFinite(a)?a:m.height,m.bind(0),_=m.target,_){case 3553:case 34067:A.gl.copyTexSubImage2D(_,r,f,d,u,h,o,a);break;case 35866:case 32879:A.gl.copyTexSubImage3D(_,r,f,d,p,u,h,o,a)}m&&m.unbind(),A.gl.bindFramebuffer(36160,g),l&&c.destroy()}function Br(A){if(A instanceof wt.g){const{width:e,height:t,id:r}=A;return{framebuffer:A.device.createFramebuffer({id:`framebuffer-for-${r}`,width:e,height:t,colorAttachments:[A]}),destroyFramebuffer:!0}}return{framebuffer:A,destroyFramebuffer:!1}}class Ir extends Sr{device;commandBuffer;constructor(A,e){super(A,e),this.device=A,this.commandBuffer=new Rr(A)}destroy(){}finish(){this.commandBuffer.submitCommands()}copyBufferToBuffer(A){this.commandBuffer.commands.push({name:"copy-buffer-to-buffer",options:A})}copyBufferToTexture(A){this.commandBuffer.commands.push({name:"copy-buffer-to-texture",options:A})}copyTextureToBuffer(A){this.commandBuffer.commands.push({name:"copy-texture-to-buffer",options:A})}copyTextureToTexture(A){this.commandBuffer.commands.push({name:"copy-texture-to-texture",options:A})}pushDebugGroup(A){}popDebugGroup(){}insertDebugMarker(A){}resolveQuerySet(A,e,t){}}class Lr extends bt.F{static defaultProps={...bt.F.defaultProps,renderPipeline:null};get[Symbol.toStringTag](){return"VertexArray"}maxVertexAttributes;attributeInfos;indexBuffer=null;attributes;constructor(A,e){super(A,e,Lr.defaultProps),this.maxVertexAttributes=A.limits.maxVertexAttributes,this.attributes=new Array(this.maxVertexAttributes).fill(null),this.attributeInfos=(0,lr.Mr)(e.renderPipeline.shaderLayout,e.renderPipeline.bufferLayout,this.maxVertexAttributes)}setConstantWebGL(A,e){throw new Error("constant attributes not supported")}}var Dr=t(6220),Or=t(7989),Fr=t(3640);class Nr extends Lr{get[Symbol.toStringTag](){return"VertexArray"}device;handle;buffer=null;bufferValue=null;static isConstantAttributeZeroSupported(A){return"Chrome"==(e||(0,HA.B)()?(0,Or.b)(e)?"Electron":(e||Fr.gM.userAgent||"").indexOf("Edge")>-1?"Edge":globalThis.chrome?"Chrome":globalThis.safari?"Safari":globalThis.mozInnerScreenX?"Firefox":"Unknown":"Node");var e}constructor(A,e){super(A,e),this.device=A,this.handle=this.device.gl.createVertexArray()}destroy(){super.destroy(),this.buffer&&this.buffer?.destroy(),this.handle&&(this.device.gl.deleteVertexArray(this.handle),this.handle=void 0)}setIndexBuffer(A){const e=A;if(e&&34963!==e.glTarget)throw new Error("Use .setBuffer()");this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34963,e?e.handle:null),this.indexBuffer=e,this.device.gl.bindVertexArray(null)}setBuffer(A,e){const t=e;if(34963===t.glTarget)throw new Error("Use .setIndexBuffer()");const{size:r,type:n,stride:i,offset:s,normalized:o,integer:a,divisor:c}=this._getAccessor(A);this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34962,t.handle),a?this.device.gl.vertexAttribIPointer(A,r,n,i,s):this.device.gl.vertexAttribPointer(A,r,n,o,i,s),this.device.gl.bindBuffer(34962,null),this.device.gl.enableVertexAttribArray(A),this.device.gl.vertexAttribDivisor(A,c||0),this.attributes[A]=t,this.device.gl.bindVertexArray(null)}setConstantWebGL(A,e){this._enable(A,!1),this.attributes[A]=e}bindBeforeRender(){this.device.gl.bindVertexArray(this.handle),this._applyConstantAttributes()}unbindAfterRender(){this.device.gl.bindVertexArray(null)}_applyConstantAttributes(){for(let A=0;A<this.maxVertexAttributes;++A){const e=this.attributes[A];ArrayBuffer.isView(e)&&this.device.setConstantAttributeWebGL(A,e)}}_getAccessor(A){const e=this.attributeInfos[A];if(!e)throw new Error(`Unknown attribute location ${A}`);const t=Qe(e.bufferDataType);return{size:e.bufferComponents,type:t,stride:e.byteStride,offset:e.byteOffset,normalized:e.normalized,integer:e.integer,divisor:"instance"===e.stepMode?1:0}}_enable(A,e=!0){const t=Nr.isConstantAttributeZeroSupported(this.device);(e||(t||0!==A))&&(A=Number(A),this.device.gl.bindVertexArray(this.handle),e?this.device.gl.enableVertexAttribArray(A):this.device.gl.disableVertexAttribArray(A),this.device.gl.bindVertexArray(null))}getConstantBuffer(A,e){const t=function(A){if(Array.isArray(A))return new Float32Array(A);return A}(e),r=t.byteLength*A,n=t.length*A;if(this.buffer&&r!==this.buffer.byteLength)throw new Error(`Buffer size is immutable, byte length ${r} !== ${this.buffer.byteLength}.`);let i=!this.buffer;if(this.buffer=this.buffer||this.device.createBuffer({byteLength:r}),i=i||!function(A,e){if(!A||!e||A.length!==e.length||A.constructor!==e.constructor)return!1;for(let t=0;t<A.length;++t)if(A[t]!==e[t])return!1;return!0}(t,this.bufferValue),i){const A=(0,Dr.oF)(e.constructor,n);(0,Dr.R2)({target:A,source:t,start:0,count:n}),this.buffer.write(A),this.bufferValue=e}return this.buffer}}class Ur extends bt.F{static defaultProps={...bt.F.defaultProps,layout:void 0,buffers:{}};get[Symbol.toStringTag](){return"TransformFeedback"}constructor(A,e){super(A,e,Ur.defaultProps)}}class Gr extends Ur{device;gl;handle;layout;buffers={};unusedBuffers={};bindOnUse=!0;_bound=!1;constructor(A,e){super(A,e),this.device=A,this.gl=A.gl,this.handle=this.props.handle||this.gl.createTransformFeedback(),this.layout=this.props.layout,e.buffers&&this.setBuffers(e.buffers),Object.seal(this)}destroy(){this.gl.deleteTransformFeedback(this.handle),super.destroy()}begin(A="point-list"){this.gl.bindTransformFeedback(36386,this.handle),this.bindOnUse&&this._bindBuffers(),this.gl.beginTransformFeedback(function(A){switch(A){case"point-list":return 0;case"line-list":case"line-strip":case"line-loop-webgl":return 1;case"triangle-list":case"triangle-strip":case"triangle-fan-webgl":return 4;default:throw new Error(A)}}(A))}end(){this.gl.endTransformFeedback(),this.bindOnUse&&this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null)}setBuffers(A){this.buffers={},this.unusedBuffers={},this.bind((()=>{for(const e in A)this.setBuffer(e,A[e])}))}setBuffer(A,e){const t=this._getVaryingIndex(A),{buffer:r,byteLength:n,byteOffset:i}=this._getBufferRange(e);if(t<0)return this.unusedBuffers[A]=r,void XA.R.warn(`${this.id} unusedBuffers varying buffer ${A}`)();this.buffers[t]={buffer:r,byteLength:n,byteOffset:i},this.bindOnUse||this._bindBuffer(t,r,i,n)}getBuffer(A){if(zr(A))return this.buffers[A]||null;const e=this._getVaryingIndex(A);return e>=0?this.buffers[e]:null}bind(A=this.handle){if("function"!=typeof A)return this.gl.bindTransformFeedback(36386,A),this;let e;return this._bound?e=A():(this.gl.bindTransformFeedback(36386,this.handle),this._bound=!0,e=A(),this._bound=!1,this.gl.bindTransformFeedback(36386,null)),e}unbind(){this.bind(null)}_getBufferRange(A){if(A instanceof Ft)return{buffer:A,byteOffset:0,byteLength:A.byteLength};const{buffer:e,byteOffset:t=0,byteLength:r=A.buffer.byteLength}=A;return{buffer:e,byteOffset:t,byteLength:r}}_getVaryingIndex(A){if(zr(A))return Number(A);for(const e of this.layout.varyings)if(A===e.name)return e.location;return-1}_bindBuffers(){for(const A in this.buffers){const{buffer:e,byteLength:t,byteOffset:r}=this._getBufferRange(this.buffers[A]);this._bindBuffer(Number(A),e,r,t)}}_unbindBuffers(){for(const A in this.buffers)this.gl.bindBufferBase(35982,Number(A),null)}_bindBuffer(A,e,t=0,r){const n=e&&e.handle;n&&void 0!==r?this.gl.bindBufferRange(35982,A,n,t,r):this.gl.bindBufferBase(35982,A,n)}}function zr(A){return"number"==typeof A?Number.isInteger(A):/^\d+$/.test(A)}class Vr extends bt.F{static defaultProps={...bt.F.defaultProps,type:void 0,count:void 0};get[Symbol.toStringTag](){return"QuerySet"}constructor(A,e){super(A,e,Vr.defaultProps)}}class Qr extends Vr{device;handle;target=null;_queryPending=!1;_pollingPromise=null;get[Symbol.toStringTag](){return"Query"}constructor(A,e){if(super(A,e),this.device=A,e.count>1)throw new Error("WebGL QuerySet can only have one value");this.handle=this.device.gl.createQuery(),Object.seal(this)}destroy(){this.device.gl.deleteQuery(this.handle)}beginTimestampQuery(){return this._begin(35007)}endTimestampQuery(){this._end()}beginOcclusionQuery(A){return this._begin(A?.conservative?36202:35887)}endOcclusionQuery(){this._end()}beginTransformFeedbackQuery(){return this._begin(35976)}endTransformFeedbackQuery(){this._end()}async resolveQuery(){return[await this.pollQuery()]}_begin(A){this._queryPending||(this.target=A,this.device.gl.beginQuery(this.target,this.handle))}_end(){this._queryPending||this.target&&(this.device.gl.endQuery(this.target),this.target=null,this._queryPending=!0)}isResultAvailable(){if(!this._queryPending)return!1;const A=this.device.gl.getQueryParameter(this.handle,34919);return A&&(this._queryPending=!1),A}isTimerDisjoint(){return this.device.gl.getParameter(36795)}getResult(){return this.device.gl.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}pollQuery(A=Number.POSITIVE_INFINITY){if(this._pollingPromise)return this._pollingPromise;let e=0;return this._pollingPromise=new Promise(((t,r)=>{const n=()=>{this.isResultAvailable()?(t(this.getResult()),this._pollingPromise=null):e++>A?(r("Timed out"),this._pollingPromise=null):requestAnimationFrame(n)};requestAnimationFrame(n)})),this._pollingPromise}}function jr(A){switch(A){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return(0,ie.v)(!1),0}}function Wr(A,e){const{sourceX:t=0,sourceY:r=0,sourceFormat:n=6408,sourceAttachment:i=36064}=e||{};let{target:s=null,sourceWidth:o,sourceHeight:a,sourceType:c}=e||{};const{framebuffer:l,deleteFramebuffer:u}=Xr(A);(0,ie.v)(l);const{gl:h,handle:f}=l;o=o||l.width,a=a||l.height;const d=i-36064;c=c||l.colorAttachments[d]?.texture?.type||5121,s=function(A,e,t,r,n){if(A)return A;const i=ur(e=e||5121,{clamped:!1}),s=jr(t);return new i(r*n*s)}(s,c,n,o,a),c=c||function(A){switch(ArrayBuffer.isView(A)?A.constructor:A){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error("Failed to deduce GL constant from typed array")}}(s);const p=h.bindFramebuffer(36160,f);return h.readPixels(t,r,o,a,n,c,s),h.bindFramebuffer(36160,p||null),u&&l.destroy(),s}function Hr(A,e){const{target:t,sourceX:r=0,sourceY:n=0,sourceFormat:i=6408,targetByteOffset:s=0}=e||{};let{sourceWidth:o,sourceHeight:a,sourceType:c}=e||{};const{framebuffer:l,deleteFramebuffer:u}=Xr(A);(0,ie.v)(l),o=o||l.width,a=a||l.height;const h=l;c=c||5121;let f=t;if(!f){const A=s+o*a*jr(i)*function(A){switch(A){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return(0,ie.v)(!1),0}}(c);f=h.device.createBuffer({byteLength:A})}const d=A.device.createCommandEncoder();return d.copyTextureToBuffer({source:A,width:o,height:a,origin:[r,n],destination:f,byteOffset:s}),d.destroy(),u&&l.destroy(),f}function Xr(A){return A instanceof yt?{framebuffer:A,deleteFramebuffer:!1}:{framebuffer:Yr(A),deleteFramebuffer:!0}}function Yr(A,e){const{device:t,width:r,height:n,id:i}=A;return t.createFramebuffer({...e,id:`framebuffer-for-${i}`,width:r,height:n,colorAttachments:[A]})}const Kr="clear: bad arguments";class Zr extends ne{static type="webgl";type="webgl";handle;features;limits;info;canvasContext;lost;_resolveContextLost;static isSupported(){return"undefined"!=typeof WebGL2RenderingContext}static attach(A){if(A instanceof Zr)return A;if(A?.device instanceof ne)return A.device;if(!function(A){if("undefined"!=typeof WebGL2RenderingContext&&A instanceof WebGL2RenderingContext)return!0;return Boolean(A&&Number.isFinite(A._version))}(A))throw new Error("Invalid WebGL2RenderingContext");return new Zr({gl:A})}static async create(A={}){XA.R.groupCollapsed(1,"WebGLDevice created")();const e=[];A.debug&&e.push(async function(){(0,HA.B)()&&!globalThis.WebGLDebugUtils&&(globalThis.global=globalThis.global||globalThis,globalThis.global.module={},await Ct("https://unpkg.com/webgl-debug@2.0.1/index.js"))}()),A.spector&&e.push(async function(A){if(!globalThis.SPECTOR)try{await Ct("https://cdn.jsdelivr.net/npm/spectorjs@0.9.30/dist/spector.bundle.js")}catch(e){XA.R.warn(String(e))}}()),"string"==typeof A.canvas&&e.push(he.pageLoaded);const t=await Promise.allSettled(e);for(const i of t)"rejected"===i.status&&XA.R.error(`Failed to initialize debug libraries ${i.reason}`)();if(XA.R.probe(2,"DOM is loaded")(),A.gl?.device)return XA.R.warn("reattaching existing device")(),Zr.attach(A.gl);const r=new Zr(A),n=`Created ${r.type}${r.debug?" debug":""} context: ${r.info.vendor}, ${r.info.renderer} for canvas: ${r.canvasContext.id}`;return XA.R.probe(1,n)(),XA.R.table(1,r.info)(),XA.R.groupEnd(1)(),r}constructor(A){super({...A,id:A.id||(0,ZA.L)("webgl-device")});const e=A.gl?.device;if(e)throw new Error(`WebGL context already attached to device ${e.id}`);const t=A.gl?.canvas||A.canvas;this.canvasContext=new Wt(this,{...A,canvas:t}),this.lost=new Promise((A=>{this._resolveContextLost=A}));let r=A.gl||null;if(r||=function(A,e){e={...Ue,...e};let t=null;const r=A=>t=A.statusMessage||t;A.addEventListener("webglcontextcreationerror",r,!1);let n=null;if(n||=A.getContext("webgl2",e),A.removeEventListener("webglcontextcreationerror",r,!1),!n)throw new Error(`Failed to create WebGL context: ${t||"Unknown error"}`);if(e.onContextLost){const{onContextLost:t}=e;A.addEventListener("webglcontextlost",(A=>t(A)),!1)}if(e.onContextRestored){const{onContextRestored:t}=e;A.addEventListener("webglcontextrestored",(A=>t(A)),!1)}return n}(this.canvasContext.canvas,{...A,onContextLost:A=>this._resolveContextLost?.({reason:"destroyed",message:"Entered sleep mode, or too many apps or browser tabs are using the GPU."})}),!r)throw new Error("WebGL context creation failed");this.handle=r,this.gl=r,this.gl.device=this,this.gl._version=2,A.spector&&(this.spectorJS=function(A){if(!(A={...Ht,...A})?.spector)return null;if(!Xt&&globalThis.SPECTOR&&(XA.R.probe(1,"SPECTOR found and initialized")(),Xt=new globalThis.SPECTOR.Spector,globalThis.luma&&(globalThis.luma.spector=Xt)),!Xt)return null;if(Yt||(Yt=!0,Xt.spyCanvases(),Xt?.onCaptureStarted.add((A=>XA.R.info("Spector capture started:",A)())),Xt?.onCapture.add((A=>{XA.R.info("Spector capture complete:",A)(),Xt?.getResultUI(),Xt?.resultView.display(),Xt?.resultView.addCapture(A)}))),A?.canvas){if("string"==typeof A.spector&&A.spector!==A.canvas.id)return Xt;Xt?.startCapture(A?.canvas,500),new Promise((A=>setTimeout(A,2e3))).then((A=>{XA.R.info("Spector capture stopped after 2 seconds")(),Xt?.stopCapture()}))}return Xt}({...this.props,canvas:this.handle.canvas})),this.info=ze(this.gl,this._extensions),this.limits=new Et(this.gl),this.features=new vt(this.gl,this._extensions,this.props.disabledFeatures),this.props.initalizeFeatures&&this.features.initializeFeatures(),this.canvasContext.resize();const{enable:n=!0,copyState:i=!1}=A;Le(this.gl,{enable:n,copyState:i,log:(...A)=>XA.R.log(1,...A)()}),A.debug&&(this.gl=$t(this.gl,{...A,throwOnError:!0}),this.debug=!0,XA.R.level=Math.max(XA.R.level,1),XA.R.warn("WebGL debug mode activated. Performance reduced.")())}destroy(){}get isLost(){return this.gl.isContextLost()}getSize(){return[this.gl.drawingBufferWidth,this.gl.drawingBufferHeight]}isTextureFormatSupported(A){return ft(this.gl,A,this._extensions)}isTextureFormatFilterable(A){return function(A,e,t){if(!ft(A,e,t))return!1;if(e.startsWith("depth")||e.startsWith("stencil"))return!1;try{if(ee(e).signed)return!1}catch{return!1}return e.endsWith("32float")?Boolean(Ge(A,"OES_texture_float_linear, extensions",t)):!e.endsWith("16float")||Boolean(Ge(A,"OES_texture_half_float_linear, extensions",t))}(this.gl,A,this._extensions)}isTextureFormatRenderable(A){return function(A,e,t){return!!ft(A,e,t)&&"number"!=typeof e}(this.gl,A,this._extensions)}createCanvasContext(A){throw new Error("WebGL only supports a single canvas")}createBuffer(A){const e=this._getBufferProps(A);return new Ft(this,e)}_createTexture(A){return new Qt(this,A)}createExternalTexture(A){throw new Error("createExternalTexture() not implemented")}createSampler(A){return new Ut(this,A)}createShader(A){return new rr(this,A)}createFramebuffer(A){return new jt(this,A)}createVertexArray(A){return new Nr(this,A)}createTransformFeedback(A){return new Gr(this,A)}createQuerySet(A){return new Qr(this,A)}createRenderPipeline(A){return new Tr(this,A)}beginRenderPass(A){return new or(this,A)}createComputePipeline(A){throw new Error("ComputePipeline not supported in WebGL")}beginComputePass(A){throw new Error("ComputePass not supported in WebGL")}renderPass=null;createCommandEncoder(A){return new Ir(this,A)}submit(){this.renderPass?.end(),this.renderPass=null}readPixelsToArrayWebGL(A,e){return Wr(A,e)}readPixelsToBufferWebGL(A,e){return Hr(A,e)}setParametersWebGL(A){xe(this.gl,A)}getParametersWebGL(A){return Me(this.gl,A)}withParametersWebGL(A,e){return Rt(this.gl,A,e)}clearWebGL(A){!function(A,e){const{framebuffer:t=null,color:r=null,depth:n=null,stencil:i=null}=e||{},s={};t&&(s.framebuffer=t);let o=0;r&&(o|=16384,!0!==r&&(s.clearColor=r)),n&&(o|=256,!0!==n&&(s.clearDepth=n)),i&&(o|=1024,!0!==n&&(s.clearStencil=n)),(0,ie.v)(0!==o,Kr);const a=A.gl;Rt(a,s,(()=>{a.clear(o)}))}(this,A)}resetWebGL(){XA.R.warn("WebGLDevice.resetWebGL is deprecated, use only for debugging")(),xe(this.gl,pe)}gl;debug=!1;_canvasSizeInfo={clientWidth:0,clientHeight:0,devicePixelRatio:1};_extensions={};_polyfilled=!1;spectorJS;loseDevice(){let A=!1;const e=this.getExtension("WEBGL_lose_context").WEBGL_lose_context;return e&&(A=!0,e.loseContext()),this._resolveContextLost?.({reason:"destroyed",message:"Application triggered context loss"}),A}pushState(){De(this.gl)}popState(){Oe(this.gl)}setSpectorMetadata(A,e){A.__SPECTOR_Metadata=e}getGLKey(A,e){e=e||this.gl2||this.gl;const t=Number(A);for(const r in e)if(e[r]===t)return`GL.${r}`;return String(A)}_constants;setConstantAttributeWebGL(A,e){const t=this.limits.maxVertexAttributes;this._constants=this._constants||new Array(t).fill(null);const r=this._constants[A];switch(r&&function(A,e){if(!A||!e||A.length!==e.length||A.constructor!==e.constructor)return!1;for(let t=0;t<A.length;++t)if(A[t]!==e[t])return!1;return!0}(r,e)&&XA.R.info(1,`setConstantAttributeWebGL(${A}) could have been skipped, value unchanged`)(),this._constants[A]=e,e.constructor){case Float32Array:!function(A,e,t){switch(t.length){case 1:A.gl.vertexAttrib1fv(e,t);break;case 2:A.gl.vertexAttrib2fv(e,t);break;case 3:A.gl.vertexAttrib3fv(e,t);break;case 4:A.gl.vertexAttrib4fv(e,t);break;default:(0,ie.v)(!1)}}(this,A,e);break;case Int32Array:!function(A,e,t){A.gl.vertexAttribI4iv(e,t)}(this,A,e);break;case Uint32Array:!function(A,e,t){A.gl.vertexAttribI4uiv(e,t)}(this,A,e);break;default:(0,ie.v)(!1)}}getExtension(A){return Ge(this.gl,A,this._extensions),this._extensions}}let $r=0;const qr={device:null,onAddHTML:()=>"",onInitialize:async()=>null,onRender:()=>{},onFinalize:()=>{},onError:A=>console.error(A),stats:oe.stats.get("animation-loop-"+$r++),useDevicePixels:!0,autoResizeViewport:!1,autoResizeDrawingBuffer:!1};class Jr{device=null;canvas=null;props;animationProps=null;timeline=null;stats;cpuTime;gpuTime;frameRate;display;needsRedraw="initialized";_initialized=!1;_running=!1;_animationFrameId=null;_nextFramePromise=null;_resolveNextFrame=null;_cpuStartTime=0;constructor(A){if(this.props={...qr,...A},!(A=this.props).device)throw new Error("No device provided");const{useDevicePixels:e=!0}=this.props;this.stats=A.stats||new m({id:"animation-loop-stats"}),this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this.setProps({autoResizeViewport:A.autoResizeViewport,autoResizeDrawingBuffer:A.autoResizeDrawingBuffer,useDevicePixels:e}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}destroy(){this.stop(),this._setDisplay(null)}delete(){this.destroy()}setNeedsRedraw(A){return this.needsRedraw=this.needsRedraw||A,this}setProps(A){return"autoResizeViewport"in A&&(this.props.autoResizeViewport=A.autoResizeViewport||!1),"autoResizeDrawingBuffer"in A&&(this.props.autoResizeDrawingBuffer=A.autoResizeDrawingBuffer||!1),"useDevicePixels"in A&&(this.props.useDevicePixels=A.useDevicePixels||!1),this}async start(){if(this._running)return this;this._running=!0;try{let A;return this._initialized||(this._initialized=!0,await this._initDevice(),this._initialize(),await this.props.onInitialize(this._getAnimationProps())),this._running?(!1!==A&&(this._cancelAnimationFrame(),this._requestAnimationFrame()),this):null}catch(A){const e=A instanceof Error?A:new Error("Unknown error");throw this.props.onError(e),e}}stop(){return this._running&&(this.animationProps&&this.props.onFinalize(this.animationProps),this._cancelAnimationFrame(),this._nextFramePromise=null,this._resolveNextFrame=null,this._running=!1),this}redraw(){return this.device?.isLost||(this._beginFrameTimers(),this._setupFrame(),this._updateAnimationProps(),this._renderFrame(this._getAnimationProps()),this._clearNeedsRedraw(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endFrameTimers()),this}attachTimeline(A){return this.timeline=A,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((A=>{this._resolveNextFrame=A}))),this._nextFramePromise}async toDataURL(){if(this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.canvas instanceof HTMLCanvasElement)return this.canvas.toDataURL();throw new Error("OffscreenCanvas")}_initialize(){this._startEventHandling(),this._initializeAnimationProps(),this._updateAnimationProps(),this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_setDisplay(A){this.display&&(this.display.destroy(),this.display.animationLoop=null),A&&(A.animationLoop=this),this.display=A}_requestAnimationFrame(){var A;this._running&&(this._animationFrameId=(A=this._animationFrame.bind(this),"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(A):setTimeout(A,1e3/60)))}_cancelAnimationFrame(){var A;null!==this._animationFrameId&&(A=this._animationFrameId,"undefined"!=typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(A):clearTimeout(A),this._animationFrameId=null)}_animationFrame(){this._running&&(this.redraw(),this._requestAnimationFrame())}_renderFrame(A){this.display?this.display._renderFrame(A):(this.props.onRender(this._getAnimationProps()),this.device.submit())}_clearNeedsRedraw(){this.needsRedraw=!1}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_initializeAnimationProps(){if(!this.device)throw new Error("loop");this.animationProps={animationLoop:this,device:this.device,canvas:this.device?.canvasContext?.canvas,timeline:this.timeline,useDevicePixels:this.props.useDevicePixels,needsRedraw:!1,width:1,height:1,aspect:1,time:0,startTime:Date.now(),engineTime:0,tick:0,tock:0,_mousePosition:null}}_getAnimationProps(){if(!this.animationProps)throw new Error("animationProps");return this.animationProps}_updateAnimationProps(){if(!this.animationProps)return;const{width:A,height:e,aspect:t}=this._getSizeAndAspect();A===this.animationProps.width&&e===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),t!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=A,this.animationProps.height=e,this.animationProps.aspect=t,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime}async _initDevice(){if(this.device=await this.props.device,!this.device)throw new Error("No device provided");this.canvas=this.device.canvasContext?.canvas||null}_createInfoDiv(){if(this.canvas&&this.props.onAddHTML){const A=document.createElement("div");document.body.appendChild(A),A.style.position="relative";const e=document.createElement("div");e.style.position="absolute",e.style.left="10px",e.style.bottom="10px",e.style.width="300px",e.style.background="white",this.canvas instanceof HTMLCanvasElement&&A.appendChild(this.canvas),A.appendChild(e);const t=this.props.onAddHTML(e);t&&(e.innerHTML=t)}}_getSizeAndAspect(){if(!this.device)return{width:1,height:1,aspect:1};const[A,e]=this.device?.canvasContext?.getPixelSize()||[1,1];let t=1;const r=this.device?.canvasContext?.canvas;return r&&r.clientHeight?t=r.clientWidth/r.clientHeight:A>0&&e>0&&(t=A/e),{width:A,height:e,aspect:t}}_resizeViewport(){this.props.autoResizeViewport&&this.device.gl&&this.device.gl.viewport(0,0,this.device.gl.drawingBufferWidth,this.device.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){this.props.autoResizeDrawingBuffer&&this.device?.canvasContext?.resize({useDevicePixels:this.props.useDevicePixels})}_beginFrameTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this.cpuTime.timeStart()}_endFrameTimers(){this.cpuTime.timeEnd()}_startEventHandling(){this.canvas&&(this.canvas.addEventListener("mousemove",this._onMousemove.bind(this)),this.canvas.addEventListener("mouseleave",this._onMouseleave.bind(this)))}_onMousemove(A){A instanceof MouseEvent&&(this._getAnimationProps()._mousePosition=[A.offsetX,A.offsetY])}_onMouseleave(A){this._getAnimationProps()._mousePosition=null}}var An=t(7168);const en={mousedown:1,mousemove:2,mouseup:4};!function(A){const e=A.prototype.handler;A.prototype.handler=function(A){const t=this.store;A.button>0&&"pointerdown"===A.type&&(function(A,e){for(let t=0;t<A.length;t++)if(e(A[t]))return!0;return!1}(t,(e=>e.pointerId===A.pointerId))||t.push(A)),e.call(this,A)}}(An.PointerEventInput),An.MouseInput.prototype.handler=function(A){let e=en[A.type];1&e&&A.button>=0&&(this.pressed=!0),2&e&&0===A.buttons&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[A],changedPointers:[A],pointerType:"mouse",srcEvent:A}))};const tn=An.Manager,rn=An;class nn{constructor(A,e,t){this.element=A,this.callback=e,this.options={enable:!0,...t}}}const sn=rn?[[rn.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[rn.Rotate,{enable:!1}],[rn.Pinch,{enable:!1}],[rn.Swipe,{enable:!1}],[rn.Pan,{threshold:0,enable:!1}],[rn.Press,{enable:!1}],[rn.Tap,{event:"doubletap",taps:2,enable:!1}],[rn.Tap,{event:"anytap",enable:!1}],[rn.Tap,{enable:!1}]]:null,on={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},an={doubletap:["tap"]},cn={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},ln={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},un={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},hn={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},fn="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",dn="undefined"!=typeof window?window:t.g;void 0!==t.g?t.g:window,"undefined"!=typeof document&&document;let pn=!1;try{const A={get passive(){return pn=!0,!0}};dn.addEventListener("test",null,A),dn.removeEventListener("test",null)}catch(ri){pn=!1}const gn=-1!==fn.indexOf("firefox"),{WHEEL_EVENTS:_n}=ln,mn="wheel",vn=4.000244140625;class En extends nn{constructor(A,e,t){super(A,e,t),this.handleEvent=A=>{if(!this.options.enable)return;let e=A.deltaY;dn.WheelEvent&&(gn&&A.deltaMode===dn.WheelEvent.DOM_DELTA_PIXEL&&(e/=dn.devicePixelRatio),A.deltaMode===dn.WheelEvent.DOM_DELTA_LINE&&(e*=40)),0!==e&&e%vn==0&&(e=Math.floor(e/vn)),A.shiftKey&&e&&(e*=.25),this.callback({type:mn,center:{x:A.clientX,y:A.clientY},delta:-e,srcEvent:A,pointerType:"mouse",target:A.target})},this.events=(this.options.events||[]).concat(_n),this.events.forEach((e=>A.addEventListener(e,this.handleEvent,!!pn&&{passive:!1})))}destroy(){this.events.forEach((A=>this.element.removeEventListener(A,this.handleEvent)))}enableEventType(A,e){A===mn&&(this.options.enable=e)}}const{MOUSE_EVENTS:bn}=ln,wn="pointermove",yn="pointerover",Tn="pointerout",Sn="pointerenter",Cn="pointerleave";class Rn extends nn{constructor(A,e,t){super(A,e,t),this.handleEvent=A=>{this.handleOverEvent(A),this.handleOutEvent(A),this.handleEnterEvent(A),this.handleLeaveEvent(A),this.handleMoveEvent(A)},this.pressed=!1;const{enable:r}=this.options;this.enableMoveEvent=r,this.enableLeaveEvent=r,this.enableEnterEvent=r,this.enableOutEvent=r,this.enableOverEvent=r,this.events=(this.options.events||[]).concat(bn),this.events.forEach((e=>A.addEventListener(e,this.handleEvent)))}destroy(){this.events.forEach((A=>this.element.removeEventListener(A,this.handleEvent)))}enableEventType(A,e){A===wn&&(this.enableMoveEvent=e),A===yn&&(this.enableOverEvent=e),A===Tn&&(this.enableOutEvent=e),A===Sn&&(this.enableEnterEvent=e),A===Cn&&(this.enableLeaveEvent=e)}handleOverEvent(A){this.enableOverEvent&&"mouseover"===A.type&&this._emit(yn,A)}handleOutEvent(A){this.enableOutEvent&&"mouseout"===A.type&&this._emit(Tn,A)}handleEnterEvent(A){this.enableEnterEvent&&"mouseenter"===A.type&&this._emit(Sn,A)}handleLeaveEvent(A){this.enableLeaveEvent&&"mouseleave"===A.type&&this._emit(Cn,A)}handleMoveEvent(A){if(this.enableMoveEvent)switch(A.type){case"mousedown":A.button>=0&&(this.pressed=!0);break;case"mousemove":0===A.buttons&&(this.pressed=!1),this.pressed||this._emit(wn,A);break;case"mouseup":this.pressed=!1}}_emit(A,e){this.callback({type:A,center:{x:e.clientX,y:e.clientY},srcEvent:e,pointerType:"mouse",target:e.target})}}const{KEY_EVENTS:Pn}=ln,xn="keydown",Mn="keyup";class kn extends nn{constructor(A,e,t){super(A,e,t),this.handleEvent=A=>{const e=A.target||A.srcElement;"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName||(this.enableDownEvent&&"keydown"===A.type&&this.callback({type:xn,srcEvent:A,key:A.key,target:A.target}),this.enableUpEvent&&"keyup"===A.type&&this.callback({type:Mn,srcEvent:A,key:A.key,target:A.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(Pn),A.tabIndex=this.options.tabIndex||0,A.style.outline="none",this.events.forEach((e=>A.addEventListener(e,this.handleEvent)))}destroy(){this.events.forEach((A=>this.element.removeEventListener(A,this.handleEvent)))}enableEventType(A,e){A===xn&&(this.enableDownEvent=e),A===Mn&&(this.enableUpEvent=e)}}const Bn="contextmenu";class In extends nn{constructor(A,e,t){super(A,e,t),this.handleEvent=A=>{this.options.enable&&this.callback({type:Bn,center:{x:A.clientX,y:A.clientY},srcEvent:A,pointerType:"mouse",target:A.target})},A.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(A,e){A===Bn&&(this.options.enable=e)}}const Ln={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};function Dn(A){const e=Ln[A.srcEvent.type];if(!e)return null;const{buttons:t,button:r}=A.srcEvent;let n=!1,i=!1,s=!1;return 2===e?(n=Boolean(1&t),i=Boolean(4&t),s=Boolean(2&t)):(n=0===r,i=1===r,s=2===r),{leftButton:n,middleButton:i,rightButton:s}}function On(A,e){const t=A.center;if(!t)return null;const r=e.getBoundingClientRect(),n=r.width/e.offsetWidth||1,i=r.height/e.offsetHeight||1;return{center:t,offsetCenter:{x:(t.x-r.left-e.clientLeft)/n,y:(t.y-r.top-e.clientTop)/i}}}const Fn={srcElement:"root",priority:0};class Nn{constructor(A){this.handleEvent=A=>{if(this.isEmpty())return;const e=this._normalizeEvent(A);let t=A.srcEvent.target;for(;t&&t!==e.rootElement;){if(this._emit(e,t),e.handled)return;t=t.parentNode}this._emit(e,"root")},this.eventManager=A,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(A,e,t,r=!1,n=!1){const{handlers:i,handlersByElement:s}=this;let o=Fn;"string"==typeof t||t&&t.addEventListener?o={...Fn,srcElement:t}:t&&(o={...Fn,...t});let a=s.get(o.srcElement);a||(a=[],s.set(o.srcElement,a));const c={type:A,handler:e,srcElement:o.srcElement,priority:o.priority};r&&(c.once=!0),n&&(c.passive=!0),i.push(c),this._active=this._active||!c.passive;let l=a.length-1;for(;l>=0&&!(a[l].priority>=c.priority);)l--;a.splice(l+1,0,c)}remove(A,e){const{handlers:t,handlersByElement:r}=this;for(let n=t.length-1;n>=0;n--){const i=t[n];if(i.type===A&&i.handler===e){t.splice(n,1);const A=r.get(i.srcElement);A.splice(A.indexOf(i),1),0===A.length&&r.delete(i.srcElement)}}this._active=t.some((A=>!A.passive))}_emit(A,e){const t=this.handlersByElement.get(e);if(t){let e=!1;const r=()=>{A.handled=!0},n=()=>{A.handled=!0,e=!0},i=[];for(let s=0;s<t.length;s++){const{type:o,handler:a,once:c}=t[s];if(a({...A,type:o,stopPropagation:r,stopImmediatePropagation:n}),c&&i.push(t[s]),e)break}for(let A=0;A<i.length;A++){const{type:e,handler:t}=i[A];this.remove(e,t)}}}_normalizeEvent(A){const e=this.eventManager.getElement();return{...A,...Dn(A),...On(A,e),preventDefault:()=>{A.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:e}}}const Un={events:null,recognizers:null,recognizerOptions:{},Manager:tn,touchAction:"none",tabIndex:0};class Gn{constructor(A=null,e){this._onBasicInput=A=>{const{srcEvent:e}=A,t=cn[e.type];t&&this.manager.emit(t,A)},this._onOtherEvent=A=>{this.manager.emit(A.type,A)},this.options={...Un,...e},this.events=new Map,this.setElement(A);const{events:t}=this.options;t&&this.on(t)}getElement(){return this.element}setElement(A){if(this.element&&this.destroy(),this.element=A,!A)return;const{options:e}=this,t=e.Manager;this.manager=new t(A,{touchAction:e.touchAction,recognizers:e.recognizers||sn}).on("hammer.input",this._onBasicInput),e.recognizers||Object.keys(on).forEach((A=>{const e=this.manager.get(A);e&&on[A].forEach((A=>{e.recognizeWith(A)}))}));for(const r in e.recognizerOptions){const A=this.manager.get(r);if(A){const t=e.recognizerOptions[r];delete t.enable,A.set(t)}}this.wheelInput=new En(A,this._onOtherEvent,{enable:!1}),this.moveInput=new Rn(A,this._onOtherEvent,{enable:!1}),this.keyInput=new kn(A,this._onOtherEvent,{enable:!1,tabIndex:e.tabIndex}),this.contextmenuInput=new In(A,this._onOtherEvent,{enable:!1});for(const[r,n]of this.events)n.isEmpty()||(this._toggleRecognizer(n.recognizerName,!0),this.manager.on(r,n.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(A,e,t){this._addEventHandler(A,e,t,!1)}once(A,e,t){this._addEventHandler(A,e,t,!0)}watch(A,e,t){this._addEventHandler(A,e,t,!1,!0)}off(A,e){this._removeEventHandler(A,e)}_toggleRecognizer(A,e){const{manager:t}=this;if(!t)return;const r=t.get(A);if(r&&r.options.enable!==e){r.set({enable:e});const n=an[A];n&&!this.options.recognizers&&n.forEach((n=>{const i=t.get(n);e?(i.requireFailure(A),r.dropRequireFailure(n)):i.dropRequireFailure(A)}))}this.wheelInput.enableEventType(A,e),this.moveInput.enableEventType(A,e),this.keyInput.enableEventType(A,e),this.contextmenuInput.enableEventType(A,e)}_addEventHandler(A,e,t,r,n){if("string"!=typeof A){t=e;for(const e in A)this._addEventHandler(e,A[e],t,r,n);return}const{manager:i,events:s}=this,o=hn[A]||A;let a=s.get(o);a||(a=new Nn(this),s.set(o,a),a.recognizerName=un[o]||o,i&&i.on(o,a.handleEvent)),a.add(A,e,t,r,n),a.isEmpty()||this._toggleRecognizer(a.recognizerName,!0)}_removeEventHandler(A,e){if("string"!=typeof A){for(const e in A)this._removeEventHandler(e,A[e]);return}const{events:t}=this,r=hn[A]||A,n=t.get(r);if(n&&(n.remove(A,e),n.isEmpty())){const{recognizerName:A}=n;let e=!1;for(const r of t.values())if(r.recognizerName===A&&!r.isEmpty()){e=!0;break}e||this._toggleRecognizer(A,!1)}}}var zn=t(1829);function Vn(){}const Qn={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,parameters:{},parent:null,device:null,deviceProps:{type:"webgl"},gl:null,glOptions:{},canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,widgets:[],onDeviceInitialized:Vn,onWebGLInitialized:Vn,onResize:Vn,onViewStateChange:Vn,onInteractionStateChange:Vn,onBeforeRender:Vn,onAfterRender:Vn,onLoad:Vn,onError:A=>f.A.error(A.message,A.cause)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:({isDragging:A})=>A?"grabbing":"grab",getTooltip:null,debug:!1,drawPickingColors:!1};class jn{static{this.defaultProps=Qn}static{this.VERSION=WA}constructor(A){this.width=0,this.height=0,this.userData={},this.device=null,this.canvas=null,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.deckRenderer=null,this.deckPicker=null,this.eventManager=null,this.widgetManager=null,this.tooltip=null,this.animationLoop=null,this.cursorState={isHovering:!1,isDragging:!1},this.stats=new m({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this._lastPointerDownInfo=null,this._onPointerMove=A=>{const{_pickRequest:e}=this;if("pointerleave"===A.type)e.x=-1,e.y=-1,e.radius=0;else{if(A.leftButton||A.rightButton)return;{const t=A.offsetCenter;if(!t)return;e.x=t.x,e.y=t.y,e.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:e.x,y:e.y}),e.event=A},this._onEvent=A=>{const e=z.qY[A.type],t=A.offsetCenter;if(!e||!t||!this.layerManager)return;const r=this.layerManager.getLayers(),n=this.deckPicker.getLastPickedObject({x:t.x,y:t.y,layers:r,viewports:this.getViewports(t)},this._lastPointerDownInfo),{layer:i}=n,s=i&&(i[e.handler]||i.props[e.handler]),o=this.props[e.handler];let a=!1;s&&(a=s.call(i,n,A)),a||(o?.(n,A),this.widgetManager.onEvent(n,A))},this._onPointerDown=A=>{const e=A.offsetCenter,t=this._pick("pickObject","pickObject Time",{x:e.x,y:e.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=t.result[0]||t.emptyInfo},this.props={...Qn,...A},(A=this.props).viewState&&A.initialViewState&&f.A.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),this.viewState=this.props.initialViewState,A.device?this.device=A.device:A.gl&&(A.gl instanceof WebGLRenderingContext&&f.A.error("WebGL1 context not supported.")(),this.device=Zr.attach(A.gl));let e=this.device;e||(oe.registerDevices([Zr]),e=oe.createDevice({...A.deviceProps,canvas:this._createCanvas(A)})),this.animationLoop=this._createAnimationLoop(e,A),this.setProps(A),A._typedArrayManagerProps&&mA.A.setOptions(A._typedArrayManagerProps),this.animationLoop.start()}finalize(){this.animationLoop?.stop(),this.animationLoop?.destroy(),this.animationLoop=null,this._lastPointerDownInfo=null,this.layerManager?.finalize(),this.layerManager=null,this.viewManager?.finalize(),this.viewManager=null,this.effectManager?.finalize(),this.effectManager=null,this.deckRenderer?.finalize(),this.deckRenderer=null,this.deckPicker?.finalize(),this.deckPicker=null,this.eventManager?.destroy(),this.eventManager=null,this.widgetManager?.finalize(),this.widgetManager=null,this.props.canvas||this.props.device||this.props.gl||!this.canvas||(this.canvas.parentElement?.removeChild(this.canvas),this.canvas=null)}setProps(A){this.stats.get("setProps Time").timeStart(),"onLayerHover"in A&&f.A.removed("onLayerHover","onHover")(),"onLayerClick"in A&&f.A.removed("onLayerClick","onClick")(),A.initialViewState&&!(0,T.b)(this.props.initialViewState,A.initialViewState,3)&&(this.viewState=A.initialViewState),Object.assign(this.props,A),this._setCanvasSize(this.props);const e=Object.create(this.props);Object.assign(e,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop?.setProps(e),this.layerManager&&(this.viewManager.setProps(e),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(e),this.effectManager.setProps(e),this.deckRenderer.setProps(e),this.deckPicker.setProps(e),this.widgetManager.setProps(e)),this.stats.get("setProps Time").timeEnd()}needsRedraw(A={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let e=this._needsRedraw;A.clearRedrawFlags&&(this._needsRedraw=!1);const t=this.viewManager.needsRedraw(A),r=this.layerManager.needsRedraw(A),n=this.effectManager.needsRedraw(A),i=this.deckRenderer.needsRedraw(A);return e=e||t||r||n||i,e}redraw(A){if(!this.layerManager)return;let e=this.needsRedraw({clearRedrawFlags:!0});e=A||e,e&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(e):this._drawLayers(e))}get isInitialized(){return null!==this.viewManager}getViews(){return(0,zn.A)(this.viewManager),this.viewManager.views}getViewports(A){return(0,zn.A)(this.viewManager),this.viewManager.getViewports(A)}getCanvas(){return this.canvas}pickObject(A){const e=this._pick("pickObject","pickObject Time",A).result;return e.length?e[0]:null}pickMultipleObjects(A){return A.depth=A.depth||10,this._pick("pickObject","pickMultipleObjects Time",A).result}pickObjects(A){return this._pick("pickObjects","pickObjects Time",A)}_addResources(A,e=!1){for(const t in A)this.layerManager.resourceManager.add({resourceId:t,data:A[t],forceUpdate:e})}_removeResources(A){for(const e of A)this.layerManager.resourceManager.remove(e)}_addDefaultEffect(A){this.effectManager.addDefaultEffect(A)}_addDefaultShaderModule(A){this.layerManager.addDefaultShaderModule(A)}_removeDefaultShaderModule(A){this.layerManager?.removeDefaultShaderModule(A)}_pick(A,e,t){(0,zn.A)(this.deckPicker);const{stats:r}=this;r.get("Pick Count").incrementCount(),r.get(e).timeStart();const n=this.deckPicker[A]({layers:this.layerManager.getLayers(t),views:this.viewManager.getViews(),viewports:this.getViewports(t),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...t});return r.get(e).timeEnd(),n}_createCanvas(A){let e=A.canvas;if("string"==typeof e&&(e=document.getElementById(e),(0,zn.A)(e)),!e){e=document.createElement("canvas"),e.id=A.id||"deckgl-overlay";(A.parent||document.body).appendChild(e)}return Object.assign(e.style,A.style),e}_setCanvasSize(A){if(!this.canvas)return;const{width:e,height:t}=A;if(e||0===e){const A=Number.isFinite(e)?`${e}px`:e;this.canvas.style.width=A}if(t||0===t){const e=Number.isFinite(t)?`${t}px`:t;this.canvas.style.position=A.style?.position||"absolute",this.canvas.style.height=e}}_updateCanvasSize(){const{canvas:A}=this;if(!A)return;const e=A.clientWidth??A.width,t=A.clientHeight??A.height;e===this.width&&t===this.height||(this.width=e,this.height=t,this.viewManager?.setProps({width:e,height:t}),this.layerManager?.activateViewport(this.getViewports()[0]),this.props.onResize({width:e,height:t}))}_createAnimationLoop(A,e){const{gl:t,onError:r,useDevicePixels:n}=e;return new Jr({device:A,useDevicePixels:n,autoResizeDrawingBuffer:!t,autoResizeViewport:!1,onInitialize:A=>this._setDevice(A.device),onRender:this._onRenderFrame.bind(this),onError:r})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){const{views:A}=this.props,e=Array.isArray(A)?A:A?[A]:[new C.A({id:"default-view"})];return e.length&&this.props.controller&&(e[0].props.controller=this.props.controller),e}_onContextLost(){const{onError:A}=this.props;this.animationLoop&&A&&A(new Error("WebGL context is lost"))}_pickAndCallback(){const{_pickRequest:A}=this;if(A.event){const{result:e,emptyInfo:t}=this._pick("pickObject","pickObject Time",A);this.cursorState.isHovering=e.length>0;let r=t,n=!1;for(const i of e)r=i,n=i.layer?.onHover(i,A.event)||n;n||(this.props.onHover?.(r,A.event),this.widgetManager.onHover(r,A.event)),A.event=null}}_updateCursor(){const A=this.props.parent||this.canvas;A&&(A.style.cursor=this.props.getCursor(this.cursorState))}_setDevice(A){if(this.device=A,!this.animationLoop)return;this.canvas||(this.canvas=this.device.canvasContext?.canvas),this.device.setParametersWebGL({blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onDeviceInitialized(this.device),this.device instanceof Zr&&this.props.onWebGLInitialized(this.device.gl);const e=new s;e.play(),this.animationLoop.attachTimeline(e),this.eventManager=new Gn(this.props.parent||this.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const r in z.qY)this.eventManager.on(r,this._onEvent);this.viewManager=new S({timeline:e,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const t=this.viewManager.getViewports()[0];this.layerManager=new y(this.device,{deck:this,stats:this.stats,viewport:t,timeline:e}),this.effectManager=new AA({deck:this,device:this.device}),this.deckRenderer=new iA(this.device),this.deckPicker=new uA(this.device),this.widgetManager=new pA({deck:this,parentElement:this.canvas?.parentElement}),this.widgetManager.addDefault(new _A),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(A,e){const{device:t,gl:r}=this.layerManager.context;this.props.onBeforeRender({device:t,gl:r});const n={target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects(),...e};this.deckRenderer?.renderLayers(n),"screen"===n.pass&&this.widgetManager.onRedraw({viewports:n.viewports,layers:n.layers}),this.props.onAfterRender({device:t,gl:r})}_onRenderFrame(){this._getFrameStats(),this._metricsCounter++%60==0&&(this._getMetrics(),this.stats.reset(),f.A.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(A){const e=this.props.onViewStateChange(A)||A.viewState;this.viewState&&(this.viewState={...this.viewState,[A.viewId]:e},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(A){this.cursorState.isDragging=A.isDragging||!1,this.props.onInteractionStateChange(A)}_getFrameStats(){const{stats:A}=this;A.get("frameRate").timeEnd(),A.get("frameRate").timeStart();const e=this.animationLoop.stats;A.get("GPU Time").addTime(e.get("GPU Time").lastTiming),A.get("CPU Time").addTime(e.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:A,stats:e}=this;A.fps=e.get("frameRate").getHz(),A.setPropsTime=e.get("setProps Time").time,A.updateAttributesTime=e.get("Update Attributes").time,A.framesRedrawn=e.get("Redraw Count").count,A.pickTime=e.get("pickObject Time").time+e.get("pickMultipleObjects Time").time+e.get("pickObjects Time").time,A.pickCount=e.get("Pick Count").count,A.gpuTime=e.get("GPU Time").time,A.cpuTime=e.get("CPU Time").time,A.gpuTimePerFrame=e.get("GPU Time").getAverageTime(),A.cpuTimePerFrame=e.get("CPU Time").getAverageTime();const t=oe.stats.get("Memory Usage");A.bufferMemory=t.get("Buffer Memory").count,A.textureMemory=t.get("Texture Memory").count,A.renderbufferMemory=t.get("Renderbuffer Memory").count,A.gpuMemory=t.get("GPU Memory").count}}const Wn="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function Hn(A,e){for(;A;){if(A===e)return!0;A=Object.getPrototypeOf(A)}return!1}var Xn=t(2130),Yn=t(1420);const Kn={position:"absolute",zIndex:-1};function Zn(A,e){if("function"==typeof A)return A(e);if(Array.isArray(A))return A.map((A=>Zn(A,e)));if($n(A)){if(A.props?.mapStyle)return e.style=Kn,(0,r.cloneElement)(A,e);if(function(A){const e=A.type;return e&&e.deckGLViewProps}(A))return(0,r.cloneElement)(A,e)}return A}function $n(A){return A&&"object"==typeof A&&"type"in A||!1}function qn(A){if("function"==typeof A)return(0,r.createElement)(Xn.A,{},A);if(Array.isArray(A))return A.map(qn);if($n(A)){if(A.type===r.Fragment)return qn(A.props.children);if(Hn(A.type,Xn.A))return A}return A}const Jn={mixBlendMode:null};function Ai(A){A.redrawReason&&(A.deck._drawLayers(A.redrawReason),A.redrawReason=null)}const ei=r.forwardRef((function(A,e){const[t,n]=(0,r.useState)(0),i=(0,r.useRef)({control:null,version:t,forceUpdate:()=>n((A=>A+1))}).current,s=(0,r.useRef)(null),o=(0,r.useRef)(null),a=(0,r.useMemo)((()=>function({children:A,layers:e=[],views:t=null}){const n=[],i=[],s={};return r.Children.forEach(qn(A),(A=>{if($n(A)){const e=A.type;if(Hn(e,Yn.A)){const t=function(A,e){const t={},r=A.defaultProps||{};for(const n in e)r[n]!==e[n]&&(t[n]=e[n]);return new A(t)}(e,A.props);i.push(t)}else n.push(A);if(Hn(e,Xn.A)&&e!==Xn.A&&A.props.id){const t=new e(A.props);s[t.id]=t}}else A&&n.push(A)})),Object.keys(s).length>0&&(Array.isArray(t)?t.forEach((A=>{s[A.id]=A})):t&&(s[t.id]=t),t=Object.values(s)),{layers:e=i.length>0?[...i,...e]:e,children:n,views:t}}(A)),[A.layers,A.views,A.children]);let c=!0;const l=e=>c&&A.viewState?(i.viewStateUpdateRequested=e,null):(i.viewStateUpdateRequested=null,A.onViewStateChange?.(e)),u=e=>{c?i.interactionStateUpdateRequested=e:(i.interactionStateUpdateRequested=null,A.onInteractionStateChange?.(e))},h=(0,r.useMemo)((()=>{const e={...A,style:null,width:"100%",height:"100%",parent:s.current,canvas:o.current,layers:a.layers,views:a.views,onViewStateChange:l,onInteractionStateChange:u};return delete e._customRender,i.deck&&i.deck.setProps(e),e}),[A]);(0,r.useEffect)((()=>{const e=A.Deck||jn;return i.deck=function(A,e,t){const r=new e({...t,_customRender:e=>{A.redrawReason=e;const t=r.getViewports();A.lastRenderedViewports!==t?A.forceUpdate():Ai(A)}});return r}(i,e,{...h,parent:s.current,canvas:o.current}),()=>i.deck?.finalize()}),[]),Wn((()=>{Ai(i);const{viewStateUpdateRequested:A,interactionStateUpdateRequested:e}=i;A&&l(A),e&&u(e)})),(0,r.useImperativeHandle)(e,(()=>function(A){return{get deck(){return A.deck},pickObject:e=>A.deck.pickObject(e),pickMultipleObjects:e=>A.deck.pickMultipleObjects(e),pickObjects:e=>A.deck.pickObjects(e)}}(i)),[]);const f=i.deck&&i.deck.isInitialized?i.deck.getViewports():void 0,{ContextProvider:d,width:p="100%",height:g="100%",id:_,style:m}=A,{containerStyle:v,canvasStyle:E}=(0,r.useMemo)((()=>function({width:A,height:e,style:t}){const r={position:"absolute",zIndex:0,left:0,top:0,width:A,height:e},n={left:0,top:0};if(t)for(const i in t)i in Jn?n[i]=t[i]:r[i]=t[i];return{containerStyle:r,canvasStyle:n}}({width:p,height:g,style:m})),[p,g,m]);if(!i.viewStateUpdateRequested&&i.lastRenderedViewports===f||i.version!==t){i.lastRenderedViewports=f,i.version=t;const A=function({children:A,deck:e,ContextProvider:t}){const{viewManager:n}=e||{};if(!n||!n.views.length)return[];const i={},s=n.views[0].id;for(const r of A){let A=s,e=r;$n(r)&&Hn(r.type,Xn.A)&&(A=r.props.id||s,e=r.props.children);const t=n.getViewport(A),o=n.getViewState(A);if(t){o.padding=t.padding;const{x:r,y:n,width:s,height:a}=t;e=Zn(e,{x:r,y:n,width:s,height:a,viewport:t,viewState:o}),i[A]||(i[A]={viewport:t,children:[]}),i[A].children.push(e)}}return Object.keys(i).map((A=>{const{viewport:n,children:s}=i[A],{x:o,y:a,width:c,height:l}=n,u={position:"absolute",left:o,top:a,width:c,height:l},h=`view-${A}`,f=(0,r.createElement)("div",{key:h,id:h,style:u},...s);if(t){const i={viewport:n,container:e.canvas.offsetParent,eventManager:e.eventManager,onViewStateChange:t=>{t.viewId=A,e._onViewStateChange(t)}};return(0,r.createElement)(t,{key:h,value:i},f)}return f}))}({children:a.children,deck:i.deck,ContextProvider:d}),e=(0,r.createElement)("canvas",{key:"canvas",id:_||"deckgl-overlay",ref:o,style:E});i.control=(0,r.createElement)("div",{id:`${_||"deckgl"}-wrapper`,ref:s,style:v},[e,A])}return c=!1,i.control})),ti=ei},5359:(A,e,t)=>{"use strict";t.d(e,{Gv:()=>i,H1:()=>h,Pe:()=>u,Sv:()=>c,Td:()=>a,aC:()=>s,qf:()=>l,xZ:()=>o});const r=A=>"boolean"==typeof A,n=A=>"function"==typeof A,i=A=>null!==A&&"object"==typeof A,s=A=>i(A)&&A.constructor==={}.constructor,o=A=>Boolean(A)&&"function"==typeof A[Symbol.iterator],a=A=>A&&"function"==typeof A[Symbol.asyncIterator],c=A=>"undefined"!=typeof Response&&A instanceof Response||A&&A.arrayBuffer&&A.text&&A.json,l=A=>"undefined"!=typeof Blob&&A instanceof Blob,u=A=>A&&"object"==typeof A&&A.isBuffer,h=A=>(A=>"undefined"!=typeof ReadableStream&&A instanceof ReadableStream||i(A)&&n(A.tee)&&n(A.cancel)&&n(A.getReader))(A)||(A=>i(A)&&n(A.read)&&n(A.pipe)&&r(A.readable))(A)},2240:(A,e,t)=>{"use strict";t.d(e,{H:()=>lA});var r=t(5359),n=t(6799);let i="";const s={};class o extends Error{constructor(A,e){super(A),this.reason=e.reason,this.url=e.url,this.response=e.response}reason;url;response}const a=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,c=/^([-\w.]+\/[-\w.+]+)/;function l(A,e){return A.toLowerCase()===e.toLowerCase()}function u(A){const e=a.exec(A);return e?e[1]:""}const h=/\?.*/;function f(A){return A.replace(h,"")}function d(A){if((0,r.Sv)(A)){return A.url}if((0,r.qf)(A)){return A.name||""}return"string"==typeof A?A:""}function p(A){if((0,r.Sv)(A)){const e=A,t=e.headers.get("content-type")||"",r=f(e.url);return function(A){const e=c.exec(A);return e?e[1]:A}(t)||u(r)}if((0,r.qf)(A)){return A.type||""}return"string"==typeof A?u(A):""}async function g(A){if((0,r.Sv)(A))return A;const e={},t=function(A){if((0,r.Sv)(A))return A.headers["content-length"]||-1;if((0,r.qf)(A))return A.size;return"string"==typeof A?A.length:A instanceof ArrayBuffer||ArrayBuffer.isView(A)?A.byteLength:-1}(A);t>=0&&(e["content-length"]=String(t));const n=d(A),i=p(A);i&&(e["content-type"]=i);const s=await async function(A){const e=5;if("string"==typeof A)return`data:,${A.slice(0,e)}`;if(A instanceof Blob){const e=A.slice(0,5);return await new Promise((A=>{const t=new FileReader;t.onload=e=>A(e?.target?.result),t.readAsDataURL(e)}))}if(A instanceof ArrayBuffer){return`data:base64,${function(A){let e="";const t=new Uint8Array(A);for(let r=0;r<t.byteLength;r++)e+=String.fromCharCode(t[r]);return btoa(e)}(A.slice(0,e))}`}return null}(A);s&&(e["x-first-bytes"]=s),"string"==typeof A&&(A=(new TextEncoder).encode(A));const o=new Response(A,{headers:e});return Object.defineProperty(o,"url",{value:n}),o}async function _(A){if(!A.ok){const e=await async function(A){const t=function(A){if(A.length<50)return A;const e=A.slice(A.length-15);return`${A.substr(0,32)}...${e}`}(A.url);let r=`Failed to fetch resource (${A.status}) ${A.statusText}: ${t}`;r=r.length>100?`${r.slice(0,100)}...`:r;const n={reason:A.statusText,url:A.url,response:A};try{const e=A.headers.get("Content-Type");n.reason=e?.includes("application/json")?await A.json():A.text()}catch(e){}return new o(r,n)}(A);throw e}}async function m(A,e){if("string"==typeof A){const t=function(A){for(const e in s)if(A.startsWith(e)){const t=s[e];A=A.replace(e,t)}return A.startsWith("http://")||A.startsWith("https://")||(A=`${i}${A}`),A}(A);return function(A){return!function(A){return A.startsWith("http:")||A.startsWith("https:")}(A)&&!function(A){return A.startsWith("data:")}(A)}(t)&&globalThis.loaders?.fetchNode?globalThis.loaders?.fetchNode(t,e):await fetch(t,e)}return await g(A)}var v=t(1181);function E(A,e){const t=(0,v.pp)(),n=A||t;return"function"==typeof n.fetch?n.fetch:(0,r.Gv)(n.fetch)?A=>m(A,n.fetch):e?.fetch?e?.fetch:m}"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,"undefined"!=typeof global&&global,"undefined"!=typeof document&&document;const b="object"!=typeof process||"[object process]"!==String(process)||process.browser,w="undefined"!=typeof window&&void 0!==window.orientation,y="undefined"!=typeof process&&process.version&&/v([0-9]*)/.exec(process.version);y&&parseFloat(y[1]);class T{terminate(){}}function S(A,e){if(!A)throw new Error(e||"loaders.gl assertion failed.")}const C=new Map;function R(A){S(A.source&&!A.url||!A.source&&A.url);let e=C.get(A.source||A.url);return e||(A.url&&(e=function(A){if(!A.startsWith("http"))return A;return P((e=A,`try {\n  importScripts('${e}');\n} catch (error) {\n  console.error(error);\n  throw error;\n}`));var e}(A.url),C.set(A.url,e)),A.source&&(e=P(A.source),C.set(A.source,e))),S(e),e}function P(A){const e=new Blob([A],{type:"application/javascript"});return URL.createObjectURL(e)}function x(A,e=!0,t){const r=t||new Set;if(A){if(M(A))r.add(A);else if(M(A.buffer))r.add(A.buffer);else if(ArrayBuffer.isView(A));else if(e&&"object"==typeof A)for(const n in A)x(A[n],e,r)}else;return void 0===t?Array.from(r):[]}function M(A){return!!A&&(A instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&A instanceof MessagePort||("undefined"!=typeof ImageBitmap&&A instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&A instanceof OffscreenCanvas)))}const k=()=>{};class B{name;source;url;terminated=!1;worker;onMessage;onError;_loadableURL="";static isSupported(){return"undefined"!=typeof Worker&&b||void 0!==T&&!b}constructor(A){const{name:e,source:t,url:r}=A;S(t||r),this.name=e,this.source=t,this.url=r,this.onMessage=k,this.onError=A=>console.log(A),this.worker=b?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=k,this.onError=k,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(A,e){e=e||x(A),this.worker.postMessage(A,e)}_getErrorFromErrorEvent(A){let e="Failed to load ";return e+=`worker ${this.name} from ${this.url}. `,A.message&&(e+=`${A.message} in `),A.lineno&&(e+=`:${A.lineno}:${A.colno}`),new Error(e)}_createBrowserWorker(){this._loadableURL=R({source:this.source,url:this.url});const A=new Worker(this._loadableURL,{name:this.name});return A.onmessage=A=>{A.data?this.onMessage(A.data):this.onError(new Error("No data received"))},A.onerror=A=>{this.onError(this._getErrorFromErrorEvent(A)),this.terminated=!0},A.onmessageerror=A=>console.error(A),A}_createNodeWorker(){let A;if(this.url){const e=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;A=new T(e,{eval:!1})}else{if(!this.source)throw new Error("no worker");A=new T(this.source,{eval:!0})}return A.on("message",(A=>{this.onMessage(A)})),A.on("error",(A=>{this.onError(A)})),A.on("exit",(A=>{})),A}}class I{name;workerThread;isRunning=!0;result;_resolve=()=>{};_reject=()=>{};constructor(A,e){this.name=A,this.workerThread=e,this.result=new Promise(((A,e)=>{this._resolve=A,this._reject=e}))}postMessage(A,e){this.workerThread.postMessage({source:"loaders.gl",type:A,payload:e})}done(A){S(this.isRunning),this.isRunning=!1,this._resolve(A)}error(A){S(this.isRunning),this.isRunning=!1,this._reject(A)}}class L{name="unnamed";source;url;maxConcurrency=1;maxMobileConcurrency=1;onDebug=()=>{};reuseWorkers=!0;props={};jobQueue=[];idleQueue=[];count=0;isDestroyed=!1;static isSupported(){return B.isSupported()}constructor(A){this.source=A.source,this.url=A.url,this.setProps(A)}destroy(){this.idleQueue.forEach((A=>A.destroy())),this.isDestroyed=!0}setProps(A){this.props={...this.props,...A},void 0!==A.name&&(this.name=A.name),void 0!==A.maxConcurrency&&(this.maxConcurrency=A.maxConcurrency),void 0!==A.maxMobileConcurrency&&(this.maxMobileConcurrency=A.maxMobileConcurrency),void 0!==A.reuseWorkers&&(this.reuseWorkers=A.reuseWorkers),void 0!==A.onDebug&&(this.onDebug=A.onDebug)}async startJob(A,e=((A,e,t)=>A.done(t)),t=((A,e)=>A.error(e))){const r=new Promise((r=>(this.jobQueue.push({name:A,onMessage:e,onError:t,onStart:r}),this)));return this._startQueuedJob(),await r}async _startQueuedJob(){if(!this.jobQueue.length)return;const A=this._getAvailableWorker();if(!A)return;const e=this.jobQueue.shift();if(e){this.onDebug({message:"Starting job",name:e.name,workerThread:A,backlog:this.jobQueue.length});const r=new I(e.name,A);A.onMessage=A=>e.onMessage(r,A.type,A.payload),A.onError=A=>e.onError(r,A),e.onStart(r);try{await r.result}catch(t){console.error(`Worker exception: ${t}`)}finally{this.returnWorkerToQueue(A)}}}returnWorkerToQueue(A){!b||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(A.destroy(),this.count--):this.idleQueue.push(A),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const A=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new B({name:A,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return w?this.maxMobileConcurrency:this.maxConcurrency}}const D={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class O{props;workerPools=new Map;static _workerFarm;static isSupported(){return B.isSupported()}static getWorkerFarm(A={}){return O._workerFarm=O._workerFarm||new O({}),O._workerFarm.setProps(A),O._workerFarm}constructor(A){this.props={...D},this.setProps(A),this.workerPools=new Map}destroy(){for(const A of this.workerPools.values())A.destroy();this.workerPools=new Map}setProps(A){this.props={...this.props,...A};for(const e of this.workerPools.values())e.setProps(this._getWorkerPoolProps())}getWorkerPool(A){const{name:e,source:t,url:r}=A;let n=this.workerPools.get(e);return n||(n=new L({name:e,source:t,url:r}),n.setProps(this._getWorkerPoolProps()),this.workerPools.set(e,n)),n}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}const F=(globalThis._loadersgl_?.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.2.1"),globalThis._loadersgl_.version);async function N(A,e,t,r,n){const i=A.id,s=function(A,e={}){const t=e[A.id]||{},r=b?`${A.id}-worker.js`:`${A.id}-worker-node.js`;let n=t.workerUrl;if(n||"compression"!==A.id||(n=e.workerUrl),"test"===e._workerType&&(n=b?`modules/${A.module}/dist/${r}`:`modules/${A.module}/src/workers/${A.id}-worker-node.ts`),!n){let e=A.version;"latest"===e&&(e="latest");const t=e?`@${e}`:"";n=`https://unpkg.com/@loaders.gl/${A.module}${t}/dist/${r}`}return S(n),n}(A,t),o=O.getWorkerFarm(t).getWorkerPool({name:i,url:s});t=JSON.parse(JSON.stringify(t)),r=JSON.parse(JSON.stringify(r||{}));const a=await o.startJob("process-on-worker",U.bind(null,n));a.postMessage("process",{input:e,options:t,context:r});const c=await a.result;return await c.result}async function U(A,e,t,r){switch(t){case"done":e.done(r);break;case"error":e.error(new Error(r.error));break;case"process":const{id:i,input:s,options:o}=r;try{const t=await A(s,o);e.postMessage("done",{id:i,result:t})}catch(n){const A=n instanceof Error?n.message:"unknown error";e.postMessage("error",{id:i,error:A})}break;default:console.warn(`parse-with-worker unknown message ${t}`)}}function G(A,e){return z(A||{},e)}function z(A,e,t=0){if(t>3)return e;const r={...A};for(const[n,i]of Object.entries(e))i&&"object"==typeof i&&!Array.isArray(i)?r[n]=z(r[n]||{},e[n],t+1):r[n]=e[n];return r}function V(...A){return function(A){const e=A.map((A=>A instanceof ArrayBuffer?new Uint8Array(A):A)),t=e.reduce(((A,e)=>A+e.byteLength),0),r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.byteLength;return r.buffer}(A)}const Q=262144;var j=t(4177);function W(A){if((e=A)&&"object"==typeof e&&e.isBuffer)return A;var e;if(A instanceof ArrayBuffer)return A;if(ArrayBuffer.isView(A))return 0===A.byteOffset&&A.byteLength===A.buffer.byteLength?A.buffer:A.buffer.slice(A.byteOffset,A.byteOffset+A.byteLength);if("string"==typeof A){const e=A;return(new TextEncoder).encode(e).buffer}if(A&&"object"==typeof A&&A._toArrayBuffer)return A._toArrayBuffer();throw new Error("toArrayBuffer")}function H(A,e){return j.Bd?async function*(A,e){const t=A.getReader();let r;try{for(;;){const A=r||t.read();e?._streamReadAhead&&(r=t.read());const{done:n,value:i}=await A;if(n)return;yield W(i)}}catch(n){t.releaseLock()}}(A,e):async function*(A,e){for await(const t of A)yield W(t)}(A)}function X(A,e){if("string"==typeof A)return function*(A,e){const t=e?.chunkSize||262144;let r=0;const n=new TextEncoder;for(;r<A.length;){const e=Math.min(A.length-r,t),i=A.slice(r,r+e);r+=e,yield n.encode(i)}}(A,e);if(A instanceof ArrayBuffer)return function*(A,e={}){const{chunkSize:t=Q}=e;let r=0;for(;r<A.byteLength;){const e=Math.min(A.byteLength-r,t),n=new ArrayBuffer(e),i=new Uint8Array(A,r,e);new Uint8Array(n).set(i),r+=e,yield n}}(A,e);if((0,r.qf)(A))return async function*(A,e){const t=e?.chunkSize||1048576;let r=0;for(;r<A.size;){const e=r+t,n=await A.slice(r,e).arrayBuffer();r=e,yield n}}(A,e);if((0,r.H1)(A))return H(A,e);if((0,r.Sv)(A)){return H(A.body,e)}throw new Error("makeIterator")}const Y="Cannot convert supplied data type";async function K(A,e,t){const n=A instanceof ArrayBuffer||ArrayBuffer.isView(A);if("string"==typeof A||n)return function(A,e,t){if(e.text&&"string"==typeof A)return A;if((0,r.Pe)(A)&&(A=A.buffer),A instanceof ArrayBuffer){const t=A;return e.text&&!e.binary?new TextDecoder("utf8").decode(t):t}if(ArrayBuffer.isView(A)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(A);let t=A.buffer;const r=A.byteLength||A.length;return 0===A.byteOffset&&r===t.byteLength||(t=t.slice(A.byteOffset,A.byteOffset+r)),t}throw new Error(Y)}(A,e);if((0,r.qf)(A)&&(A=await g(A)),(0,r.Sv)(A)){const t=A;return await _(t),e.binary?await t.arrayBuffer():await t.text()}if((0,r.H1)(A)&&(A=X(A,t)),(0,r.xZ)(A)||(0,r.Td)(A))return async function(A){const e=[];for await(const t of A)e.push(t);return V(...e)}(A);throw new Error(Y)}function Z(A){const e=A?A.lastIndexOf("/"):-1;return e>=0?A.substr(e+1):""}function $(A,e,t){if(t)return t;const r={fetch:E(e,A),...A};if(r.url){const A=f(r.url);r.baseUrl=A,r.queryString=function(A){const e=A.match(h);return e&&e[0]}(r.url),r.filename=Z(A),r.baseUrl=function(A){const e=A?A.lastIndexOf("/"):-1;return e>=0?A.substr(0,e):""}(A)}return Array.isArray(r.loaders)||(r.loaders=null),r}const q=new(t(5335).t)({id:"loaders.gl"});var J=t(1469);const AA=/\.([^.]+)$/;function eA(A,e=[],t,r){if(!tA(A))return null;if(e&&!Array.isArray(e))return(0,n.D)(e);let i=[];e&&(i=i.concat(e)),t?.ignoreRegisteredLoaders||i.push(...(0,J.Ph)()),function(A){for(const e of A)(0,n.D)(e)}(i);const s=function(A,e,t,r){const n=d(A),i=p(A),s=f(n)||r?.url;let o=null,a="";t?.mimeType&&(o=nA(e,t?.mimeType),a=`match forced by supplied MIME type ${t?.mimeType}`);o=o||function(A,e){const t=e&&AA.exec(e),r=t&&t[1];return r?function(A,e){e=e.toLowerCase();for(const t of A)for(const A of t.extensions)if(A.toLowerCase()===e)return t;return null}(A,r):null}(e,s),a=a||(o?`matched url ${s}`:""),o=o||nA(e,i),a=a||(o?`matched MIME type ${i}`:""),o=o||function(A,e){if(!e)return null;for(const t of A)if("string"==typeof e){if(iA(e,t))return t}else if(ArrayBuffer.isView(e)){if(sA(e.buffer,e.byteOffset,t))return t}else if(e instanceof ArrayBuffer){if(sA(e,0,t))return t}return null}(e,A),a=a||(o?`matched initial data ${oA(A)}`:""),t?.fallbackMimeType&&(o=o||nA(e,t?.fallbackMimeType),a=a||(o?`matched fallback MIME type ${i}`:""));a&&q.log(1,`selectLoader selected ${o?.name}: ${a}.`);return o}(A,i,t,r);if(!s&&!t?.nothrow)throw new Error(rA(A));return s}function tA(A){return!(A instanceof Response&&204===A.status)}function rA(A){const e=d(A),t=p(A);let r="No valid loader found (";r+=e?`${Z(e)}, `:"no url provided, ",r+=`MIME type: ${t?`"${t}"`:"not provided"}, `;const n=A?oA(A):"";return r+=n?` first bytes: "${n}"`:"first bytes: not available",r+=")",r}function nA(A,e){for(const t of A){if(t.mimeTypes?.some((A=>l(e,A))))return t;if(l(e,`application/x.${t.id}`))return t}return null}function iA(A,e){if(e.testText)return e.testText(A);return(Array.isArray(e.tests)?e.tests:[e.tests]).some((e=>A.startsWith(e)))}function sA(A,e,t){return(Array.isArray(t.tests)?t.tests:[t.tests]).some((t=>function(A,e,t,r){if(r instanceof ArrayBuffer)return function(A,e,t){if(t=t||A.byteLength,A.byteLength<t||e.byteLength<t)return!1;const r=new Uint8Array(A),n=new Uint8Array(e);for(let i=0;i<r.length;++i)if(r[i]!==n[i])return!1;return!0}(r,A,r.byteLength);switch(typeof r){case"function":return r(A);case"string":return r===aA(A,e,r.length);default:return!1}}(A,e,0,t)))}function oA(A,e=5){if("string"==typeof A)return A.slice(0,e);if(ArrayBuffer.isView(A))return aA(A.buffer,A.byteOffset,e);if(A instanceof ArrayBuffer){return aA(A,0,e)}return""}function aA(A,e,t){if(A.byteLength<e+t)return"";const r=new DataView(A);let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(r.getUint8(e+i));return n}async function cA(A,e,t,i){!e||Array.isArray(e)||(0,n.l)(e)||(i=void 0,t=e,e=void 0),t=t||{};const s=d(A=await A),o=function(A,e){if(A&&!Array.isArray(A))return A;let t;if(A&&(t=Array.isArray(A)?A:[A]),e&&e.loaders){const A=Array.isArray(e.loaders)?e.loaders:[e.loaders];t=t?[...t,...A]:A}return t&&t.length?t:void 0}(e,i),a=await async function(A,e=[],t,n){if(!tA(A))return null;let i=eA(A,e,{...t,nothrow:!0},n);if(i)return i;if((0,r.qf)(A)&&(i=eA(A=await A.slice(0,10).arrayBuffer(),e,t,n)),!i&&!t?.nothrow)throw new Error(rA(A));return i}(A,o,t);return a?(i=$({url:s,_parse:cA,loaders:o},t=(0,v.a5)(t,a,o,s),i||null),await async function(A,e,t,n){if(function(A,e=F){S(A,"no worker provided");const t=A.version}(A),t=G(A.options,t),(0,r.Sv)(e)){const A=e,{ok:t,redirected:r,status:i,statusText:s,type:o,url:a}=A,c=Object.fromEntries(A.headers.entries());n.response={headers:c,ok:t,redirected:r,status:i,statusText:s,type:o,url:a}}e=await K(e,A,t);const i=A;if(i.parseTextSync&&"string"==typeof e)return i.parseTextSync(e,t,n);if(function(A,e){return!!O.isSupported()&&!(!b&&!e?._nodeWorkers)&&A.worker&&e?.worker}(A,t))return await N(A,e,t,n,cA);if(i.parseText&&"string"==typeof e)return await i.parseText(e,t,n);if(i.parse)return await i.parse(e,t,n);throw S(!i.parseSync),new Error(`${A.id} loader - no parser found and worker is disabled`)}(a,A,t,i)):null}async function lA(A,e,t,i){let s,o;Array.isArray(e)||(0,n.l)(e)?(s=e,o=t):(s=[],o=e);const a=E(o);let c=A;return"string"==typeof A&&(c=await a(A)),(0,r.qf)(A)&&(c=await a(A)),Array.isArray(s),await cA(c,s,o)}},1469:(A,e,t)=>{"use strict";t.d(e,{Ph:()=>o,mk:()=>s});var r=t(6799),n=t(1181);const i=()=>{const A=(0,n.K2)();return A.loaderRegistry=A.loaderRegistry||[],A.loaderRegistry};function s(A){const e=i();A=Array.isArray(A)?A:[A];for(const t of A){const A=(0,r.D)(t);e.find((e=>A===e))||e.unshift(A)}}function o(){return i()}},6799:(A,e,t)=>{"use strict";t.d(e,{D:()=>i,l:()=>n});var r=t(5018);function n(A){if(!A)return!1;Array.isArray(A)&&(A=A[0]);return Array.isArray(A?.extensions)}function i(A){let e;return(0,r.v)(A,"null loader"),(0,r.v)(n(A),"invalid loader"),Array.isArray(A)&&(e=A[1],A=A[0],A={...A,options:{...A.options,...e}}),(A?.parseTextSync||A?.parseText)&&(A.text=!0),A.text||(A.binary=!0),A}},1181:(A,e,t)=>{"use strict";t.d(e,{pp:()=>l,K2:()=>c,a5:()=>u});var r=t(5359);const n=new(t(5335).t)({id:"loaders.gl"});class i{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}var s=t(4177);const o={fetch:null,mimeType:void 0,nothrow:!1,log:new class{console;constructor(){this.console=console}log(...A){return this.console.log.bind(this.console,...A)}info(...A){return this.console.info.bind(this.console,...A)}warn(...A){return this.console.warn.bind(this.console,...A)}error(...A){return this.console.error.bind(this.console,...A)}},useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:s.Bd,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},a={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function c(){globalThis.loaders=globalThis.loaders||{};const{loaders:A}=globalThis;return A._state||(A._state={}),A._state}function l(){const A=c();return A.globalOptions=A.globalOptions||{...o},A.globalOptions}function u(A,e,t,r){return t=t||[],function(A,e){h(A,null,o,a,e);for(const t of e){const r=A&&A[t.id]||{},n=t.options&&t.options[t.id]||{},i=t.deprecatedOptions&&t.deprecatedOptions[t.id]||{};h(r,t.id,n,i,e)}}(A,t=Array.isArray(t)?t:[t]),d(e,A,r)}function h(A,e,t,i,s){const o=e||"Top level",a=e?`${e}.`:"";for(const c in A){const l=!e&&(0,r.Gv)(A[c]),u="baseUri"===c&&!e,h="workerUrl"===c&&e;if(!(c in t)&&!u&&!h)if(c in i)n.warn(`${o} loader option '${a}${c}' no longer supported, use '${i[c]}'`)();else if(!l){const A=f(c,s);n.warn(`${o} loader option '${a}${c}' not recognized. ${A}`)()}}}function f(A,e){const t=A.toLowerCase();let r="";for(const n of e)for(const e in n.options){if(A===e)return`Did you mean '${n.id}.${e}'?`;const i=e.toLowerCase();(t.startsWith(i)||i.startsWith(t))&&(r=r||`Did you mean '${n.id}.${e}'?`)}return r}function d(A,e,t){const r={...A.options||{}};return function(A,e){e&&!("baseUri"in A)&&(A.baseUri=e)}(r,t),null===r.log&&(r.log=new i),p(r,l()),p(r,e),r}function p(A,e){for(const t in e)if(t in e){const n=e[t];(0,r.aC)(n)&&(0,r.aC)(A[t])?A[t]={...A[t],...e[t]}:A[t]=e[t]}}},5018:(A,e,t)=>{"use strict";function r(A,e){if(!A)throw new Error(e||"loader assertion failed.")}t.d(e,{v:()=>r})},4177:(A,e,t)=>{"use strict";t.d(e,{Bd:()=>r});"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,"undefined"!=typeof global&&global,"undefined"!=typeof document&&document;const r=Boolean("object"!=typeof process||"[object process]"!==String(process)||process.browser),n="undefined"!=typeof process&&process.version&&/v([0-9]*)/.exec(process.version);n&&parseFloat(n[1])},9538:(A,e,t)=>{"use strict";t.d(e,{Mr:()=>c,PV:()=>a,GE:()=>h});var r=t(9749);const n={f32:["f32",1],"vec2<f32>":["f32",2],"vec3<f32>":["f32",3],"vec4<f32>":["f32",4],f16:["f16",1],"vec2<f16>":["f16",2],"vec3<f16>":["f16",3],"vec4<f16>":["f16",4],i32:["i32",1],"vec2<i32>":["i32",2],"vec3<i32>":["i32",3],"vec4<i32>":["i32",4],u32:["u32",1],"vec2<u32>":["u32",2],"vec3<u32>":["u32",3],"vec4<u32>":["u32",4]},i={f32:4,f16:2,i32:4,u32:4};var s=t(5332);function o(A){let e;A.endsWith("-webgl")&&(A.replace("-webgl",""),e=!0);const[t,r]=A.split("x"),n=t,i=r?parseInt(r):1,o=(0,s.l)(n),a={type:n,components:i,byteLength:o.byteLength*i,integer:o.integer,signed:o.signed,normalized:o.normalized};return e&&(a.webglOnly=!0),a}function a(A,e){const t={};for(const r of A.attributes)t[r.name]=l(A,e,r.name);return t}function c(A,e,t=16){const r=a(A,e),n=new Array(t).fill(null);for(const i of Object.values(r))n[i.location]=i;return n}function l(A,e,t){const s=function(A,e){const t=A.attributes.find((A=>A.name===e));t||r.R.warn(`shader layout attribute "${e}" not present in shader`);return t||null}(A,t),a=function(A,e){u(A);let t=function(A,e){for(const t of A)if(t.format&&t.name===e)return{attributeName:t.name,bufferName:e,stepMode:t.stepMode,vertexFormat:t.format,byteOffset:0,byteStride:t.byteStride||0};return null}(A,e);if(t)return t;if(t=function(A,e){for(const t of A){let A=t.byteStride;if("number"!=typeof t.byteStride)for(const e of t.attributes||[]){A+=o(e.format).byteLength}const r=t.attributes?.find((A=>A.attribute===e));if(r)return{attributeName:r.attribute,bufferName:t.name,stepMode:t.stepMode,vertexFormat:r.format,byteOffset:r.byteOffset,byteStride:A}}return null}(A,e),t)return t;return r.R.warn(`layout for attribute "${e}" not present in buffer layout`),null}(e,t);if(!s)return null;const c=function(A){const[e,t]=n[A],r="i32"===e||"u32"===e,s="u32"!==e,o=i[e]*t,a=function(A,e){let t;switch(A){case"f32":t="float32";break;case"i32":t="sint32";break;case"u32":t="uint32";break;case"f16":return e<=2?"float16x2":"float16x4"}return 1===e?t:`${t}x${e}`}(e,t);return{dataType:e,components:t,defaultVertexFormat:a,byteLength:o,integer:r,signed:s}}(s.type),l=a?.vertexFormat||c.defaultVertexFormat,h=o(l);return{attributeName:a?.attributeName||s.name,bufferName:a?.bufferName||s.name,location:s.location,shaderType:s.type,shaderDataType:c.dataType,shaderComponents:c.components,vertexFormat:l,bufferDataType:h.type,bufferComponents:h.components,normalized:h.normalized,integer:c.integer,stepMode:a?.stepMode||s.stepMode,byteOffset:a?.byteOffset||0,byteStride:a?.byteStride||0}}function u(A){for(const e of A)(e.attributes&&e.format||!e.attributes&&!e.format)&&r.R.warn(`BufferLayout ${name} must have either 'attributes' or 'format' field`)}function h(A,e){const t={...A,attributes:A.attributes.map((A=>({...A})))};for(const n of e?.attributes||[]){const A=t.attributes.find((A=>A.name===n.name));A?(A.type=n.type||A.type,A.stepMode=n.stepMode||A.stepMode):r.R.warn(`shader layout attribute ${n.name} not present in shader`)}return t}},6049:(A,e,t)=>{"use strict";t.d(e,{h:()=>n});var r=t(6031);class n extends r.F{static defaultProps={...r.F.defaultProps,usage:0,byteLength:0,byteOffset:0,data:null,indexType:"uint16",mappedAtCreation:!1};static MAP_READ=1;static MAP_WRITE=2;static COPY_SRC=4;static COPY_DST=8;static INDEX=16;static VERTEX=32;static UNIFORM=64;static STORAGE=128;static INDIRECT=256;static QUERY_RESOLVE=512;get[Symbol.toStringTag](){return"Buffer"}usage;indexType;updateTimestamp;constructor(A,e){const t={...e};(e.usage||0)&n.INDEX&&!e.indexType&&(e.data instanceof Uint32Array?t.indexType="uint32":e.data instanceof Uint16Array&&(t.indexType="uint16")),super(A,t,n.defaultProps),this.usage=e.usage||0,this.indexType=t.indexType,this.updateTimestamp=A.incrementTimestamp()}readSyncWebGL(A,e){throw new Error("not implemented")}static DEBUG_DATA_MAX_LENGTH=32;debugData=new ArrayBuffer(0);_setDebugData(A,e,t){const r=ArrayBuffer.isView(A)?A.buffer:A,i=Math.min(A?A.byteLength:t,n.DEBUG_DATA_MAX_LENGTH);null===A?this.debugData=new ArrayBuffer(i):0===e&&t===A.byteLength?this.debugData=r.slice(0,i):this.debugData=r.slice(e,e+i)}}},6558:(A,e,t)=>{"use strict";t.d(e,{r:()=>n});var r=t(6031);class n extends r.F{static defaultProps={...r.F.defaultProps,vs:null,vertexEntryPoint:"vertexMain",vsConstants:{},fs:null,fragmentEntryPoint:"fragmentMain",fsConstants:{},shaderLayout:null,bufferLayout:[],topology:"triangle-list",parameters:{},bindings:{},uniforms:{}};get[Symbol.toStringTag](){return"RenderPipeline"}shaderLayout;bufferLayout;linkStatus="pending";hash="";constructor(A,e){super(A,e,n.defaultProps),this.shaderLayout=this.props.shaderLayout,this.bufferLayout=this.props.bufferLayout||[]}setUniformsWebGL(A){throw new Error("Use uniform blocks")}}},6031:(A,e,t)=>{"use strict";t.d(e,{F:()=>n});var r=t(9038);class n{static defaultProps={id:"undefined",handle:void 0,userData:void 0};id;props;userData={};_device;destroyed=!1;allocatedBytes=0;_attachedResources=new Set;constructor(A,e,t){if(!A)throw new Error("no device");this._device=A,this.props=function(A,e){const t={...e};for(const r in A)void 0!==A[r]&&(t[r]=A[r]);return t}(e,t);const n="undefined"!==this.props.id?this.props.id:(0,r.L)(this[Symbol.toStringTag]);this.props.id=n,this.id=n,this.userData=this.props.userData||{},this.addStats()}destroy(){this.destroyResource()}delete(){return this.destroy(),this}toString(){return`${this[Symbol.toStringTag]||this.constructor.name}(${this.id})`}getProps(){return this.props}attachResource(A){this._attachedResources.add(A)}detachResource(A){this._attachedResources.delete(A)}destroyAttachedResource(A){this._attachedResources.delete(A)&&A.destroy()}destroyAttachedResources(){for(const A of Object.values(this._attachedResources))A.destroy();this._attachedResources=new Set}destroyResource(){this.destroyAttachedResources(),this.removeStats(),this.destroyed=!0}removeStats(){const A=this._device.statsManager.getStats("Resource Counts"),e=this[Symbol.toStringTag];A.get(`${e}s Active`).decrementCount()}trackAllocatedMemory(A,e=this[Symbol.toStringTag]){const t=this._device.statsManager.getStats("Resource Counts");t.get("GPU Memory").addCount(A),t.get(`${e} Memory`).addCount(A),this.allocatedBytes=A}trackDeallocatedMemory(A=this[Symbol.toStringTag]){const e=this._device.statsManager.getStats("Resource Counts");e.get("GPU Memory").subtractCount(this.allocatedBytes),e.get(`${A} Memory`).subtractCount(this.allocatedBytes),this.allocatedBytes=0}addStats(){const A=this._device.statsManager.getStats("Resource Counts"),e=this[Symbol.toStringTag];A.get("Resources Created").incrementCount(),A.get(`${e}s Created`).incrementCount(),A.get(`${e}s Active`).incrementCount()}}},4499:(A,e,t)=>{"use strict";t.d(e,{L:()=>n});var r=t(6031);class n extends r.F{static defaultProps={...r.F.defaultProps,type:"color-sampler",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",addressModeW:"clamp-to-edge",magFilter:"nearest",minFilter:"nearest",mipmapFilter:"nearest",lodMinClamp:0,lodMaxClamp:32,compare:"less-equal",maxAnisotropy:1};get[Symbol.toStringTag](){return"Sampler"}constructor(A,e){super(A,e,n.defaultProps)}}},5429:(A,e,t)=>{"use strict";t.d(e,{M:()=>l});var r=t(6031),n=t(9038);function i(A,e,t,r){if(r?.inlineSource){const r=function(A,e,t){let r="";for(let n=e-2;n<=e;n++){const i=A[n-1];void 0!==i&&(r+=s(i,e,t))}return r}(e,t);return`\n${r}${A.linePos>0?`${" ".repeat(A.linePos+5)}^^^\n`:""}${A.type.toUpperCase()}: ${A.message}\n\n`}return r?.html?`<div class='luma-compiler-log-error' style="color:red;"><b> ${A.type.toUpperCase()}: ${A.message}</b></div>`:`${A.type.toUpperCase()}: ${A.message}`}function s(A,e,t){const r=t?.html?A.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;"):A;return`${function(A,e){let t="";for(let r=A.length;r<e;++r)t+=" ";return t+A}(String(e),4)}: ${r}${t?.html?"<br/>":"\n"}`}function o(A,e){return{name:a(A,e),language:"glsl",version:c(A)}}function a(A,e="unnamed"){const t=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/.exec(A);return t?t[1]:e}function c(A){let e=100;const t=A.match(/[^\s]+/g);if(t&&t.length>=2&&"#version"===t[0]){const A=parseInt(t[1],10);Number.isFinite(A)&&(e=A)}return e}class l extends r.F{static defaultProps={...r.F.defaultProps,language:"auto",stage:void 0,source:"",sourceMap:null,entryPoint:"main",debug:"errors"};get[Symbol.toStringTag](){return"Shader"}stage;source;compilationStatus="pending";constructor(A,e){super(A,{id:u(e),...e},l.defaultProps),this.stage=this.props.stage,this.source=this.props.source}getCompilationInfoSync(){return null}getTranslatedSource(){return null}async debugShader(A=this.props.debug){switch(A){case"never":return;case"errors":if("success"===this.compilationStatus)return}const e=await this.getCompilationInfo();"warnings"===this.props.debug&&0===e?.length||this._displayShaderLog(e)}_displayShaderLog(A){if("undefined"==typeof document||!document?.createElement)return;const e=o(this.source).name,t=`${this.stage} ${e}`;let r=function(A,e,t){let r="";const n=e.split(/\r?\n/),o=A.slice().sort(((A,e)=>A.lineNum-e.lineNum));switch(t?.showSourceCode||"no"){case"all":let e=0;for(let A=1;A<=n.length;A++)for(r+=s(n[A-1],A,t);o.length>e&&o[e].lineNum===A;){const A=o[e++];r+=i(A,n,A.lineNum,{...t,inlineSource:!1})}return r;case"issues":case"no":for(const s of A)r+=i(s,n,s.lineNum,{inlineSource:"no"!==t?.showSourceCode});return r}}(A,this.source,{showSourceCode:"all",html:!0});const n=this.getTranslatedSource();n&&(r+=`<br /><br /><h1>Translated Source</h1><br /><br /><code style="user-select:text;"><pre>${n}</pre></code>`);const a=document.createElement("Button");a.innerHTML=`\n<h1>Shader Compilation Error in ${t}</h1><br /><br />\n<code style="user-select:text;"><pre>\n${r}\n</pre></code>`,a.style.top="10px",a.style.left="10px",a.style.position="absolute",a.style.zIndex="9999",a.style.width="100%",a.style.textAlign="left",document.body.appendChild(a);const c=document.getElementsByClassName("luma-compiler-log-error");c[0]?.scrollIntoView&&c[0].scrollIntoView(),a.onclick=()=>{const A=`data:text/plain,${encodeURIComponent(this.source)}`;navigator.clipboard.writeText(A)}}}function u(A){return o(A.source).name||A.id||(0,n.L)(`unnamed ${A.stage}-shader`)}},8932:(A,e,t)=>{"use strict";t.d(e,{X:()=>n});var r=t(6031);class n extends r.F{static defaultProps={...r.F.defaultProps,format:void 0,dimension:void 0,aspect:"all",baseMipLevel:0,mipLevelCount:void 0,baseArrayLayer:0,arrayLayerCount:void 0};get[Symbol.toStringTag](){return"TextureView"}constructor(A,e){super(A,e,n.defaultProps)}}},5428:(A,e,t)=>{"use strict";t.d(e,{g:()=>n});var r=t(6031);class n extends r.F{static defaultProps={...r.F.defaultProps,data:null,dimension:"2d",format:"rgba8unorm",width:void 0,height:void 0,depth:1,mipmaps:!0,compressed:!1,usage:0,mipLevels:void 0,samples:void 0,type:void 0,sampler:{},view:void 0};static COPY_SRC=1;static COPY_DST=2;static TEXTURE_BINDING=4;static STORAGE_BINDING=8;static RENDER_ATTACHMENT=16;get[Symbol.toStringTag](){return"Texture"}dimension;format;width;height;depth;updateTimestamp;constructor(A,e,t=n.defaultProps){super(A,e,t),this.dimension=this.props.dimension,this.format=this.props.format,this.width=this.props.width,this.height=this.props.height,this.depth=this.props.depth,this.updateTimestamp=A.incrementTimestamp()}}},5332:(A,e,t)=>{"use strict";function r(A){const e=function(A){return i[A]}(n[A]),t=A.includes("norm"),r=!t&&!A.startsWith("float"),s=A.startsWith("s");return{dataType:n[A],byteLength:e,integer:r,signed:s,normalized:t}}t.d(e,{l:()=>r});const n={uint8:"uint8",sint8:"sint8",unorm8:"uint8",snorm8:"sint8",uint16:"uint16",sint16:"sint16",unorm16:"uint16",snorm16:"sint16",float16:"float16",float32:"float32",uint32:"uint32",sint32:"sint32"},i={uint8:1,sint8:1,uint16:2,sint16:2,float16:2,float32:4,uint32:4,sint32:4}},3912:(A,e,t)=>{"use strict";function r(A){const e=ArrayBuffer.isView(A)?A.constructor:A;switch(e){case Float32Array:return"float32";case Uint16Array:return"uint16";case Uint32Array:return"uint32";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int8Array:return"sint8";case Int16Array:return"sint16";case Int32Array:return"sint32";default:throw new Error(e.constructor.name)}}function n(A){switch(A){case"float32":return Float32Array;case"uint32":return Uint32Array;case"sint32":return Int32Array;case"uint16":case"unorm16":return Uint16Array;case"sint16":case"snorm16":return Int16Array;case"uint8":case"unorm8":return Uint8Array;case"sint8":case"snorm8":return Int8Array;default:throw new Error(A)}}function i(A,e,t){if(!e||e>4)throw new Error(`size ${e}`);const n=e;let i=r(A);if("uint8"===i||"sint8"===i){if(1===n||3===n)throw new Error(`size: ${e}`);return t&&(i=i.replace("int","norm")),`${i}x${n}`}if("uint16"===i||"sint16"===i){if(1===n||3===n)throw new Error(`size: ${e}`);return t&&(i=i.replace("int","norm")),`${i}x${n}`}return 1===n?i:`${i}x${n}`}t.d(e,{OB:()=>i,UE:()=>r,Y0:()=>n})},831:(A,e,t)=>{"use strict";t.d(e,{l:()=>n});var r=t(475);function n(A){const e={bindings:{},uniforms:{}};return Object.keys(A).forEach((t=>{const n=A[t];var i;i=n,null!==(0,r.p)(i)||"number"==typeof i||"boolean"==typeof i?e.uniforms[t]=n:e.bindings[t]=n})),e}},6220:(A,e,t)=>{"use strict";let r;function n(A){return(!r||r.byteLength<A)&&(r=new ArrayBuffer(A)),r}function i(A,e){return new A(n(A.BYTES_PER_ELEMENT*e),0,e)}function s(A){const{target:e,source:t,start:r=0,count:n=1}=A,i=t.length,s=n*i;let o=0;for(let a=r;o<i;o++)e[a++]=t[o];for(;o<s;)o<s-o?(e.copyWithin(r+o,r,r+o),o*=2):(e.copyWithin(r+o,r,r+s-o),o=s);return A.target}t.d(e,{R2:()=>s,oF:()=>i,oK:()=>n})},290:(A,e,t)=>{"use strict";function r(A,e){if(!A)throw new Error(e||"luma.gl: assertion failed.")}t.d(e,{v:()=>r})},475:(A,e,t)=>{"use strict";function r(A){return Array.isArray(A)?0===A.length||"number"==typeof A[0]?A:null:function(A){return!ArrayBuffer.isView(A)||A instanceof DataView?null:A}(A)}t.d(e,{p:()=>r})},9749:(A,e,t)=>{"use strict";t.d(e,{R:()=>r});const r=new(t(5335).t)({id:"luma.gl"})},9038:(A,e,t)=>{"use strict";t.d(e,{L:()=>n,Z:()=>i});const r={};function n(A="id"){r[A]=r[A]||1;return`${A}-${r[A]++}`}function i(A){let e=!0;for(const t in A){e=!1;break}return e}},457:(A,e,t)=>{"use strict";t.d(e,{K:()=>re});var r=t(8932),n=t(6049),i=t(5428),s=t(4499),o=t(6558),a=t(475);class c{name;uniforms={};modifiedUniforms={};modified=!0;bindingLayout={};needsRedraw="initialized";constructor(A){if(this.name=A?.name,A?.name&&A?.shaderLayout){const e=A?.shaderLayout.bindings?.find((e=>"uniform"===e.type&&e.name===A?.name));if(!e)throw new Error(A?.name);const t=e;for(const A of t.uniforms||[])this.bindingLayout[A.name]=A}}setUniforms(A){for(const[e,t]of Object.entries(A))this._setUniform(e,t),this.needsRedraw||this.setNeedsRedraw(`${this.name}.${e}=${t}`)}setNeedsRedraw(A){this.needsRedraw=this.needsRedraw||A}getAllUniforms(){return this.modifiedUniforms={},this.needsRedraw=!1,this.uniforms||{}}_setUniform(A,e){(function(A,e,t=16){if(A!==e)return!1;const r=(0,a.p)(A);if(!r)return!1;const n=(0,a.p)(e);if(n&&r.length===n.length)for(let i=0;i<r.length;++i)if(n[i]!==r[i])return!1;return!0})(this.uniforms[A],e)||(this.uniforms[A]=function(A){const e=(0,a.p)(A);return e?e.slice():A}(e),this.modifiedUniforms[A]=!0,this.modified=!0)}}var l=t(290);const u={f32:{type:"f32",components:1},i32:{type:"i32",components:1},u32:{type:"u32",components:1},"vec2<f32>":{type:"f32",components:2},"vec3<f32>":{type:"f32",components:3},"vec4<f32>":{type:"f32",components:4},"vec2<i32>":{type:"i32",components:2},"vec3<i32>":{type:"i32",components:3},"vec4<i32>":{type:"i32",components:4},"vec2<u32>":{type:"u32",components:2},"vec3<u32>":{type:"u32",components:3},"vec4<u32>":{type:"u32",components:4},"mat2x2<f32>":{type:"f32",components:4},"mat2x3<f32>":{type:"f32",components:6},"mat2x4<f32>":{type:"f32",components:8},"mat3x2<f32>":{type:"f32",components:6},"mat3x3<f32>":{type:"f32",components:9},"mat3x4<f32>":{type:"f32",components:12},"mat4x2<f32>":{type:"f32",components:8},"mat4x3<f32>":{type:"f32",components:12},"mat4x4<f32>":{type:"f32",components:16}};function h(A){const e=u[A];return(0,l.v)(A),e}function f(A,e){switch(e){case 1:return A;case 2:return A+A%2;default:return A+(4-A%4)%4}}var d=t(6220),p=t(9749);class g{layout={};byteLength;constructor(A){let e=0;for(const[r,n]of Object.entries(A)){const A=h(n),{type:t,components:i}=A;e=f(e,i);const s=e;e+=i,this.layout[r]={type:t,size:i,offset:s}}e+=(4-e%4)%4;const t=4*e;this.byteLength=Math.max(t,1024)}getData(A){const e=Math.max(this.byteLength,1024),t=(0,d.oK)(e),r={i32:new Int32Array(t),u32:new Uint32Array(t),f32:new Float32Array(t),f16:new Uint16Array(t)};for(const[n,i]of Object.entries(A)){const A=this.layout[n];if(!A){p.R.warn(`Supplied uniform value ${n} not present in uniform block layout`)();continue}const{type:e,size:t,offset:s}=A,o=r[e];if(1===t){if("number"!=typeof i&&"boolean"!=typeof i){p.R.warn(`Supplied value for single component uniform ${n} is not a number: ${i}`)();continue}o[s]=Number(i)}else{const A=(0,a.p)(i);if(!A){p.R.warn(`Supplied value for multi component / array uniform ${n} is not a numeric array: ${i}`)();continue}o.set(A,s)}}return new Uint8Array(t)}has(A){return Boolean(this.layout[A])}get(A){return this.layout[A]}}class _{uniformBlocks=new Map;uniformBufferLayouts=new Map;uniformBuffers=new Map;constructor(A){for(const[e,t]of Object.entries(A)){const A=e,r=new g(t.uniformTypes||{});this.uniformBufferLayouts.set(A,r);const n=new c({name:e});n.setUniforms(t.defaultUniforms||{}),this.uniformBlocks.set(A,n)}}destroy(){for(const A of this.uniformBuffers.values())A.destroy()}setUniforms(A){for(const[e,t]of Object.entries(A))this.uniformBlocks.get(e).setUniforms(t);this.updateUniformBuffers()}getUniformBufferByteLength(A){return this.uniformBufferLayouts.get(A).byteLength}getUniformBufferData(A){const e=this.uniformBlocks.get(A).getAllUniforms();return this.uniformBufferLayouts.get(A).getData(e)}createUniformBuffer(A,e,t){t&&this.setUniforms(t);const r=this.getUniformBufferByteLength(e),i=A.createBuffer({usage:n.h.UNIFORM|n.h.COPY_DST,byteLength:r}),s=this.getUniformBufferData(e);return i.write(s),i}getManagedUniformBuffer(A,e){if(!this.uniformBuffers.get(e)){const t=this.getUniformBufferByteLength(e),r=A.createBuffer({usage:n.h.UNIFORM|n.h.COPY_DST,byteLength:t});this.uniformBuffers.set(e,r)}return this.uniformBuffers.get(e)}updateUniformBuffers(){let A=!1;for(const e of this.uniformBlocks.keys()){const t=this.updateUniformBuffer(e);A||=t}return A&&p.R.log(3,`UniformStore.updateUniformBuffers(): ${A}`)(),A}updateUniformBuffer(A){const e=this.uniformBlocks.get(A);let t=!1;if(this.uniformBuffers.get(A)&&e.needsRedraw){t||=e.needsRedraw;const r=this.getUniformBufferData(A);this.uniformBuffers.get(A).write(r);const n=this.uniformBlocks.get(A).getAllUniforms();p.R.log(4,`Writing to uniform buffer ${String(A)}`,r,n)()}return t}}var m=t(9038);function v(A,e,t){if(A===e)return!0;if(!t||!A||!e)return!1;if(Array.isArray(A)){if(!Array.isArray(e)||A.length!==e.length)return!1;for(let r=0;r<A.length;r++)if(!v(A[r],e[r],t-1))return!1;return!0}if(Array.isArray(e))return!1;if("object"==typeof A&&"object"==typeof e){const r=Object.keys(A),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){if(!e.hasOwnProperty(i))return!1;if(!v(A[i],e[i],t-1))return!1}return!0}return!1}var E,b,w,y,T,S=t(831),C=t(9538),R=t(3912),P=t(9404);class x{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}}class M{constructor(){}get isAstNode(){return!0}get astNodeType(){return""}evaluate(A){throw new Error("Cannot evaluate node")}evaluateString(A){return this.evaluate(A).toString()}}class k extends M{constructor(){super()}}class B extends k{constructor(A,e,t,r){super(),this.name=A,this.args=e,this.returnType=t,this.body=r}get astNodeType(){return"function"}}class I extends k{constructor(A){super(),this.expression=A}get astNodeType(){return"staticAssert"}}class L extends k{constructor(A,e){super(),this.condition=A,this.body=e}get astNodeType(){return"while"}}class D extends k{constructor(A){super(),this.body=A}get astNodeType(){return"continuing"}}class O extends k{constructor(A,e,t,r){super(),this.init=A,this.condition=e,this.increment=t,this.body=r}get astNodeType(){return"for"}}class F extends k{constructor(A,e,t,r,n){super(),this.name=A,this.type=e,this.storage=t,this.access=r,this.value=n}get astNodeType(){return"var"}}class N extends k{constructor(A,e,t){super(),this.name=A,this.type=e,this.value=t}get astNodeType(){return"override"}}class U extends k{constructor(A,e,t,r,n){super(),this.name=A,this.type=e,this.storage=t,this.access=r,this.value=n}get astNodeType(){return"let"}}class G extends k{constructor(A,e,t,r,n){super(),this.name=A,this.type=e,this.storage=t,this.access=r,this.value=n}get astNodeType(){return"const"}evaluate(A){return this.value.evaluate(A)}}!function(A){A.increment="++",A.decrement="--"}(E||(E={})),function(A){A.parse=function(e){const t=e;if("parse"==t)throw new Error("Invalid value for IncrementOperator");return A[t]}}(E||(E={}));class z extends k{constructor(A,e){super(),this.operator=A,this.variable=e}get astNodeType(){return"increment"}}!function(A){A.assign="=",A.addAssign="+=",A.subtractAssin="-=",A.multiplyAssign="*=",A.divideAssign="/=",A.moduloAssign="%=",A.andAssign="&=",A.orAssign="|=",A.xorAssign="^=",A.shiftLeftAssign="<<=",A.shiftRightAssign=">>="}(b||(b={})),function(A){A.parse=function(e){const t=e;if("parse"==t)throw new Error("Invalid value for AssignOperator");return A[t]}}(b||(b={}));class V extends k{constructor(A,e,t){super(),this.operator=A,this.variable=e,this.value=t}get astNodeType(){return"assign"}}class Q extends k{constructor(A,e){super(),this.name=A,this.args=e}get astNodeType(){return"call"}}class j extends k{constructor(A,e){super(),this.body=A,this.continuing=e}get astNodeType(){return"loop"}}class W extends k{constructor(A,e){super(),this.condition=A,this.body=e}get astNodeType(){return"body"}}class H extends k{constructor(A,e,t,r){super(),this.condition=A,this.body=e,this.elseif=t,this.else=r}get astNodeType(){return"if"}}class X extends k{constructor(A){super(),this.value=A}get astNodeType(){return"return"}}class Y extends k{constructor(A){super(),this.name=A}get astNodeType(){return"enable"}}class K extends k{constructor(A,e){super(),this.name=A,this.type=e}get astNodeType(){return"alias"}}class Z extends k{constructor(){super()}get astNodeType(){return"discard"}}class $ extends k{constructor(){super()}get astNodeType(){return"break"}}class q extends k{constructor(){super()}get astNodeType(){return"continue"}}class J extends k{constructor(A){super(),this.name=A}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}}class AA extends J{constructor(A,e){super(A),this.members=e}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex(A){for(let e=0;e<this.members.length;e++)if(this.members[e].name==A)return e;return-1}}class eA extends J{constructor(A,e,t){super(A),this.format=e,this.access=t}get astNodeType(){return"template"}}class tA extends J{constructor(A,e,t,r){super(A),this.storage=e,this.type=t,this.access=r}get astNodeType(){return"pointer"}}class rA extends J{constructor(A,e,t,r){super(A),this.attributes=e,this.format=t,this.count=r}get astNodeType(){return"array"}get isArray(){return!0}}class nA extends J{constructor(A,e,t){super(A),this.format=e,this.access=t}get astNodeType(){return"sampler"}}class iA extends M{constructor(){super()}}class sA extends iA{constructor(A){super(),this.value=A}get astNodeType(){return"stringExpr"}toString(){return this.value}evaluateString(){return this.value}}class oA extends iA{constructor(A,e){super(),this.type=A,this.args=e}get astNodeType(){return"createExpr"}}class aA extends iA{constructor(A,e){super(),this.name=A,this.args=e}get astNodeType(){return"callExpr"}evaluate(A){switch(this.name){case"abs":return Math.abs(this.args[0].evaluate(A));case"acos":return Math.acos(this.args[0].evaluate(A));case"acosh":return Math.acosh(this.args[0].evaluate(A));case"asin":return Math.asin(this.args[0].evaluate(A));case"asinh":return Math.asinh(this.args[0].evaluate(A));case"atan":return Math.atan(this.args[0].evaluate(A));case"atan2":return Math.atan2(this.args[0].evaluate(A),this.args[1].evaluate(A));case"atanh":return Math.atanh(this.args[0].evaluate(A));case"ceil":return Math.ceil(this.args[0].evaluate(A));case"clamp":return Math.min(Math.max(this.args[0].evaluate(A),this.args[1].evaluate(A)),this.args[2].evaluate(A));case"cos":return Math.cos(this.args[0].evaluate(A));case"degrees":return 180*this.args[0].evaluate(A)/Math.PI;case"distance":return Math.sqrt(Math.pow(this.args[0].evaluate(A)-this.args[1].evaluate(A),2));case"dot":case"exp":return Math.exp(this.args[0].evaluate(A));case"exp2":return Math.pow(2,this.args[0].evaluate(A));case"floor":return Math.floor(this.args[0].evaluate(A));case"fma":return this.args[0].evaluate(A)*this.args[1].evaluate(A)+this.args[2].evaluate(A);case"fract":case"modf":return this.args[0].evaluate(A)-Math.floor(this.args[0].evaluate(A));case"inverseSqrt":return 1/Math.sqrt(this.args[0].evaluate(A));case"log":return Math.log(this.args[0].evaluate(A));case"log2":return Math.log2(this.args[0].evaluate(A));case"max":return Math.max(this.args[0].evaluate(A),this.args[1].evaluate(A));case"min":return Math.min(this.args[0].evaluate(A),this.args[1].evaluate(A));case"mix":return this.args[0].evaluate(A)*(1-this.args[2].evaluate(A))+this.args[1].evaluate(A)*this.args[2].evaluate(A);case"pow":return Math.pow(this.args[0].evaluate(A),this.args[1].evaluate(A));case"radians":return this.args[0].evaluate(A)*Math.PI/180;case"round":return Math.round(this.args[0].evaluate(A));case"sign":return Math.sign(this.args[0].evaluate(A));case"sin":return Math.sin(this.args[0].evaluate(A));case"sinh":return Math.sinh(this.args[0].evaluate(A));case"saturate":return Math.min(Math.max(this.args[0].evaluate(A),0),1);case"smoothstep":return this.args[0].evaluate(A)*this.args[0].evaluate(A)*(3-2*this.args[0].evaluate(A));case"sqrt":return Math.sqrt(this.args[0].evaluate(A));case"step":return this.args[0].evaluate(A)<this.args[1].evaluate(A)?0:1;case"tan":return Math.tan(this.args[0].evaluate(A));case"tanh":return Math.tanh(this.args[0].evaluate(A));case"trunc":return Math.trunc(this.args[0].evaluate(A));default:throw new Error("Non const function: "+this.name)}}}class cA extends iA{constructor(A){super(),this.name=A}get astNodeType(){return"varExpr"}}class lA extends iA{constructor(A,e){super(),this.name=A,this.initializer=e}get astNodeType(){return"constExpr"}evaluate(A){var e,t;if(this.initializer instanceof oA){const r=null===(e=this.postfix)||void 0===e?void 0:e.evaluateString(A),n=null===(t=this.initializer.type)||void 0===t?void 0:t.name,i=A.structs.get(n),s=null==i?void 0:i.getMemberIndex(r);if(-1!=s){return this.initializer.args[s].evaluate(A)}console.log(s)}return this.initializer.evaluate(A)}}class uA extends iA{constructor(A){super(),this.value=A}get astNodeType(){return"literalExpr"}evaluate(){return this.value}}class hA extends iA{constructor(A,e){super(),this.type=A,this.value=e}get astNodeType(){return"bitcastExpr"}}class fA extends iA{constructor(A,e){super(),this.type=A,this.args=e}get astNodeType(){return"typecastExpr"}evaluate(A){return this.args[0].evaluate(A)}}class dA extends iA{constructor(A){super(),this.contents=A}get astNodeType(){return"groupExpr"}evaluate(A){return this.contents[0].evaluate(A)}}class pA extends iA{constructor(){super()}}class gA extends pA{constructor(A,e){super(),this.operator=A,this.right=e}get astNodeType(){return"unaryOp"}evaluate(A){switch(this.operator){case"+":return this.right.evaluate(A);case"-":return-this.right.evaluate(A);case"!":return this.right.evaluate(A)?0:1;case"~":return~this.right.evaluate(A);default:throw new Error("Unknown unary operator: "+this.operator)}}}class _A extends pA{constructor(A,e,t){super(),this.operator=A,this.left=e,this.right=t}get astNodeType(){return"binaryOp"}evaluate(A){switch(this.operator){case"+":return this.left.evaluate(A)+this.right.evaluate(A);case"-":return this.left.evaluate(A)-this.right.evaluate(A);case"*":return this.left.evaluate(A)*this.right.evaluate(A);case"/":return this.left.evaluate(A)/this.right.evaluate(A);case"%":return this.left.evaluate(A)%this.right.evaluate(A);case"==":return this.left.evaluate(A)==this.right.evaluate(A)?1:0;case"!=":return this.left.evaluate(A)!=this.right.evaluate(A)?1:0;case"<":return this.left.evaluate(A)<this.right.evaluate(A)?1:0;case">":return this.left.evaluate(A)>this.right.evaluate(A)?1:0;case"<=":return this.left.evaluate(A)<=this.right.evaluate(A)?1:0;case">=":return this.left.evaluate(A)>=this.right.evaluate(A)?1:0;case"&&":return this.left.evaluate(A)&&this.right.evaluate(A)?1:0;case"||":return this.left.evaluate(A)||this.right.evaluate(A)?1:0;default:throw new Error(`Unknown operator ${this.operator}`)}}}class mA extends M{constructor(){super()}}class vA extends mA{constructor(A,e){super(),this.selector=A,this.body=e}get astNodeType(){return"case"}}class EA extends mA{constructor(A){super(),this.body=A}get astNodeType(){return"default"}}class bA extends M{constructor(A,e,t){super(),this.name=A,this.type=e,this.attributes=t}get astNodeType(){return"argument"}}class wA extends M{constructor(A,e){super(),this.condition=A,this.body=e}get astNodeType(){return"elseif"}}class yA extends M{constructor(A,e,t){super(),this.name=A,this.type=e,this.attributes=t}get astNodeType(){return"member"}}class TA extends M{constructor(A,e){super(),this.name=A,this.value=e}get astNodeType(){return"attribute"}}!function(A){A[A.token=0]="token",A[A.keyword=1]="keyword",A[A.reserved=2]="reserved"}(y||(y={}));class SA{constructor(A,e,t){this.name=A,this.type=e,this.rule=t}toString(){return this.name}}class CA{}w=CA,CA.none=new SA("",y.reserved,""),CA.eof=new SA("EOF",y.token,""),CA.reserved={asm:new SA("asm",y.reserved,"asm"),bf16:new SA("bf16",y.reserved,"bf16"),do:new SA("do",y.reserved,"do"),enum:new SA("enum",y.reserved,"enum"),f16:new SA("f16",y.reserved,"f16"),f64:new SA("f64",y.reserved,"f64"),handle:new SA("handle",y.reserved,"handle"),i8:new SA("i8",y.reserved,"i8"),i16:new SA("i16",y.reserved,"i16"),i64:new SA("i64",y.reserved,"i64"),mat:new SA("mat",y.reserved,"mat"),premerge:new SA("premerge",y.reserved,"premerge"),regardless:new SA("regardless",y.reserved,"regardless"),typedef:new SA("typedef",y.reserved,"typedef"),u8:new SA("u8",y.reserved,"u8"),u16:new SA("u16",y.reserved,"u16"),u64:new SA("u64",y.reserved,"u64"),unless:new SA("unless",y.reserved,"unless"),using:new SA("using",y.reserved,"using"),vec:new SA("vec",y.reserved,"vec"),void:new SA("void",y.reserved,"void")},CA.keywords={array:new SA("array",y.keyword,"array"),atomic:new SA("atomic",y.keyword,"atomic"),bool:new SA("bool",y.keyword,"bool"),f32:new SA("f32",y.keyword,"f32"),i32:new SA("i32",y.keyword,"i32"),mat2x2:new SA("mat2x2",y.keyword,"mat2x2"),mat2x3:new SA("mat2x3",y.keyword,"mat2x3"),mat2x4:new SA("mat2x4",y.keyword,"mat2x4"),mat3x2:new SA("mat3x2",y.keyword,"mat3x2"),mat3x3:new SA("mat3x3",y.keyword,"mat3x3"),mat3x4:new SA("mat3x4",y.keyword,"mat3x4"),mat4x2:new SA("mat4x2",y.keyword,"mat4x2"),mat4x3:new SA("mat4x3",y.keyword,"mat4x3"),mat4x4:new SA("mat4x4",y.keyword,"mat4x4"),ptr:new SA("ptr",y.keyword,"ptr"),sampler:new SA("sampler",y.keyword,"sampler"),sampler_comparison:new SA("sampler_comparison",y.keyword,"sampler_comparison"),struct:new SA("struct",y.keyword,"struct"),texture_1d:new SA("texture_1d",y.keyword,"texture_1d"),texture_2d:new SA("texture_2d",y.keyword,"texture_2d"),texture_2d_array:new SA("texture_2d_array",y.keyword,"texture_2d_array"),texture_3d:new SA("texture_3d",y.keyword,"texture_3d"),texture_cube:new SA("texture_cube",y.keyword,"texture_cube"),texture_cube_array:new SA("texture_cube_array",y.keyword,"texture_cube_array"),texture_multisampled_2d:new SA("texture_multisampled_2d",y.keyword,"texture_multisampled_2d"),texture_storage_1d:new SA("texture_storage_1d",y.keyword,"texture_storage_1d"),texture_storage_2d:new SA("texture_storage_2d",y.keyword,"texture_storage_2d"),texture_storage_2d_array:new SA("texture_storage_2d_array",y.keyword,"texture_storage_2d_array"),texture_storage_3d:new SA("texture_storage_3d",y.keyword,"texture_storage_3d"),texture_depth_2d:new SA("texture_depth_2d",y.keyword,"texture_depth_2d"),texture_depth_2d_array:new SA("texture_depth_2d_array",y.keyword,"texture_depth_2d_array"),texture_depth_cube:new SA("texture_depth_cube",y.keyword,"texture_depth_cube"),texture_depth_cube_array:new SA("texture_depth_cube_array",y.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new SA("texture_depth_multisampled_2d",y.keyword,"texture_depth_multisampled_2d"),texture_external:new SA("texture_external",y.keyword,"texture_external"),u32:new SA("u32",y.keyword,"u32"),vec2:new SA("vec2",y.keyword,"vec2"),vec3:new SA("vec3",y.keyword,"vec3"),vec4:new SA("vec4",y.keyword,"vec4"),bitcast:new SA("bitcast",y.keyword,"bitcast"),block:new SA("block",y.keyword,"block"),break:new SA("break",y.keyword,"break"),case:new SA("case",y.keyword,"case"),continue:new SA("continue",y.keyword,"continue"),continuing:new SA("continuing",y.keyword,"continuing"),default:new SA("default",y.keyword,"default"),discard:new SA("discard",y.keyword,"discard"),else:new SA("else",y.keyword,"else"),enable:new SA("enable",y.keyword,"enable"),fallthrough:new SA("fallthrough",y.keyword,"fallthrough"),false:new SA("false",y.keyword,"false"),fn:new SA("fn",y.keyword,"fn"),for:new SA("for",y.keyword,"for"),function:new SA("function",y.keyword,"function"),if:new SA("if",y.keyword,"if"),let:new SA("let",y.keyword,"let"),const:new SA("const",y.keyword,"const"),loop:new SA("loop",y.keyword,"loop"),while:new SA("while",y.keyword,"while"),private:new SA("private",y.keyword,"private"),read:new SA("read",y.keyword,"read"),read_write:new SA("read_write",y.keyword,"read_write"),return:new SA("return",y.keyword,"return"),storage:new SA("storage",y.keyword,"storage"),switch:new SA("switch",y.keyword,"switch"),true:new SA("true",y.keyword,"true"),alias:new SA("alias",y.keyword,"alias"),type:new SA("type",y.keyword,"type"),uniform:new SA("uniform",y.keyword,"uniform"),var:new SA("var",y.keyword,"var"),override:new SA("override",y.keyword,"override"),workgroup:new SA("workgroup",y.keyword,"workgroup"),write:new SA("write",y.keyword,"write"),r8unorm:new SA("r8unorm",y.keyword,"r8unorm"),r8snorm:new SA("r8snorm",y.keyword,"r8snorm"),r8uint:new SA("r8uint",y.keyword,"r8uint"),r8sint:new SA("r8sint",y.keyword,"r8sint"),r16uint:new SA("r16uint",y.keyword,"r16uint"),r16sint:new SA("r16sint",y.keyword,"r16sint"),r16float:new SA("r16float",y.keyword,"r16float"),rg8unorm:new SA("rg8unorm",y.keyword,"rg8unorm"),rg8snorm:new SA("rg8snorm",y.keyword,"rg8snorm"),rg8uint:new SA("rg8uint",y.keyword,"rg8uint"),rg8sint:new SA("rg8sint",y.keyword,"rg8sint"),r32uint:new SA("r32uint",y.keyword,"r32uint"),r32sint:new SA("r32sint",y.keyword,"r32sint"),r32float:new SA("r32float",y.keyword,"r32float"),rg16uint:new SA("rg16uint",y.keyword,"rg16uint"),rg16sint:new SA("rg16sint",y.keyword,"rg16sint"),rg16float:new SA("rg16float",y.keyword,"rg16float"),rgba8unorm:new SA("rgba8unorm",y.keyword,"rgba8unorm"),rgba8unorm_srgb:new SA("rgba8unorm_srgb",y.keyword,"rgba8unorm_srgb"),rgba8snorm:new SA("rgba8snorm",y.keyword,"rgba8snorm"),rgba8uint:new SA("rgba8uint",y.keyword,"rgba8uint"),rgba8sint:new SA("rgba8sint",y.keyword,"rgba8sint"),bgra8unorm:new SA("bgra8unorm",y.keyword,"bgra8unorm"),bgra8unorm_srgb:new SA("bgra8unorm_srgb",y.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new SA("rgb10a2unorm",y.keyword,"rgb10a2unorm"),rg11b10float:new SA("rg11b10float",y.keyword,"rg11b10float"),rg32uint:new SA("rg32uint",y.keyword,"rg32uint"),rg32sint:new SA("rg32sint",y.keyword,"rg32sint"),rg32float:new SA("rg32float",y.keyword,"rg32float"),rgba16uint:new SA("rgba16uint",y.keyword,"rgba16uint"),rgba16sint:new SA("rgba16sint",y.keyword,"rgba16sint"),rgba16float:new SA("rgba16float",y.keyword,"rgba16float"),rgba32uint:new SA("rgba32uint",y.keyword,"rgba32uint"),rgba32sint:new SA("rgba32sint",y.keyword,"rgba32sint"),rgba32float:new SA("rgba32float",y.keyword,"rgba32float"),static_assert:new SA("static_assert",y.keyword,"static_assert")},CA.tokens={decimal_float_literal:new SA("decimal_float_literal",y.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?f?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+f?)|([0-9]+f)/),hex_float_literal:new SA("hex_float_literal",y.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+f?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+f?))/),int_literal:new SA("int_literal",y.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new SA("uint_literal",y.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),ident:new SA("ident",y.token,/[a-zA-Z][0-9a-zA-Z_]*/),and:new SA("and",y.token,"&"),and_and:new SA("and_and",y.token,"&&"),arrow:new SA("arrow ",y.token,"->"),attr:new SA("attr",y.token,"@"),attr_left:new SA("attr_left",y.token,"[["),attr_right:new SA("attr_right",y.token,"]]"),forward_slash:new SA("forward_slash",y.token,"/"),bang:new SA("bang",y.token,"!"),bracket_left:new SA("bracket_left",y.token,"["),bracket_right:new SA("bracket_right",y.token,"]"),brace_left:new SA("brace_left",y.token,"{"),brace_right:new SA("brace_right",y.token,"}"),colon:new SA("colon",y.token,":"),comma:new SA("comma",y.token,","),equal:new SA("equal",y.token,"="),equal_equal:new SA("equal_equal",y.token,"=="),not_equal:new SA("not_equal",y.token,"!="),greater_than:new SA("greater_than",y.token,">"),greater_than_equal:new SA("greater_than_equal",y.token,">="),shift_right:new SA("shift_right",y.token,">>"),less_than:new SA("less_than",y.token,"<"),less_than_equal:new SA("less_than_equal",y.token,"<="),shift_left:new SA("shift_left",y.token,"<<"),modulo:new SA("modulo",y.token,"%"),minus:new SA("minus",y.token,"-"),minus_minus:new SA("minus_minus",y.token,"--"),period:new SA("period",y.token,"."),plus:new SA("plus",y.token,"+"),plus_plus:new SA("plus_plus",y.token,"++"),or:new SA("or",y.token,"|"),or_or:new SA("or_or",y.token,"||"),paren_left:new SA("paren_left",y.token,"("),paren_right:new SA("paren_right",y.token,")"),semicolon:new SA("semicolon",y.token,";"),star:new SA("star",y.token,"*"),tilde:new SA("tilde",y.token,"~"),underscore:new SA("underscore",y.token,"_"),xor:new SA("xor",y.token,"^"),plus_equal:new SA("plus_equal",y.token,"+="),minus_equal:new SA("minus_equal",y.token,"-="),times_equal:new SA("times_equal",y.token,"*="),division_equal:new SA("division_equal",y.token,"/="),modulo_equal:new SA("modulo_equal",y.token,"%="),and_equal:new SA("and_equal",y.token,"&="),or_equal:new SA("or_equal",y.token,"|="),xor_equal:new SA("xor_equal",y.token,"^="),shift_right_equal:new SA("shift_right_equal",y.token,">>="),shift_left_equal:new SA("shift_left_equal",y.token,"<<=")},CA.storage_class=[w.keywords.function,w.keywords.private,w.keywords.workgroup,w.keywords.uniform,w.keywords.storage],CA.access_mode=[w.keywords.read,w.keywords.write,w.keywords.read_write],CA.sampler_type=[w.keywords.sampler,w.keywords.sampler_comparison],CA.sampled_texture_type=[w.keywords.texture_1d,w.keywords.texture_2d,w.keywords.texture_2d_array,w.keywords.texture_3d,w.keywords.texture_cube,w.keywords.texture_cube_array],CA.multisampled_texture_type=[w.keywords.texture_multisampled_2d],CA.storage_texture_type=[w.keywords.texture_storage_1d,w.keywords.texture_storage_2d,w.keywords.texture_storage_2d_array,w.keywords.texture_storage_3d],CA.depth_texture_type=[w.keywords.texture_depth_2d,w.keywords.texture_depth_2d_array,w.keywords.texture_depth_cube,w.keywords.texture_depth_cube_array,w.keywords.texture_depth_multisampled_2d],CA.texture_external_type=[w.keywords.texture_external],CA.any_texture_type=[...w.sampled_texture_type,...w.multisampled_texture_type,...w.storage_texture_type,...w.depth_texture_type,...w.texture_external_type],CA.texel_format=[w.keywords.r8unorm,w.keywords.r8snorm,w.keywords.r8uint,w.keywords.r8sint,w.keywords.r16uint,w.keywords.r16sint,w.keywords.r16float,w.keywords.rg8unorm,w.keywords.rg8snorm,w.keywords.rg8uint,w.keywords.rg8sint,w.keywords.r32uint,w.keywords.r32sint,w.keywords.r32float,w.keywords.rg16uint,w.keywords.rg16sint,w.keywords.rg16float,w.keywords.rgba8unorm,w.keywords.rgba8unorm_srgb,w.keywords.rgba8snorm,w.keywords.rgba8uint,w.keywords.rgba8sint,w.keywords.bgra8unorm,w.keywords.bgra8unorm_srgb,w.keywords.rgb10a2unorm,w.keywords.rg11b10float,w.keywords.rg32uint,w.keywords.rg32sint,w.keywords.rg32float,w.keywords.rgba16uint,w.keywords.rgba16sint,w.keywords.rgba16float,w.keywords.rgba32uint,w.keywords.rgba32sint,w.keywords.rgba32float],CA.const_literal=[w.tokens.int_literal,w.tokens.uint_literal,w.tokens.decimal_float_literal,w.tokens.hex_float_literal,w.keywords.true,w.keywords.false],CA.literal_or_ident=[w.tokens.ident,w.tokens.int_literal,w.tokens.uint_literal,w.tokens.decimal_float_literal,w.tokens.hex_float_literal],CA.element_count_expression=[w.tokens.int_literal,w.tokens.uint_literal,w.tokens.ident],CA.template_types=[w.keywords.vec2,w.keywords.vec3,w.keywords.vec4,w.keywords.mat2x2,w.keywords.mat2x3,w.keywords.mat2x4,w.keywords.mat3x2,w.keywords.mat3x3,w.keywords.mat3x4,w.keywords.mat4x2,w.keywords.mat4x3,w.keywords.mat4x4,w.keywords.atomic,w.keywords.bitcast,...w.any_texture_type],CA.attribute_name=[w.tokens.ident,w.keywords.block],CA.assignment_operators=[w.tokens.equal,w.tokens.plus_equal,w.tokens.minus_equal,w.tokens.times_equal,w.tokens.division_equal,w.tokens.modulo_equal,w.tokens.and_equal,w.tokens.or_equal,w.tokens.xor_equal,w.tokens.shift_right_equal,w.tokens.shift_left_equal],CA.increment_operators=[w.tokens.plus_plus,w.tokens.minus_minus];class RA{constructor(A,e,t){this.type=A,this.lexeme=e,this.line=t}toString(){return this.lexeme}isTemplateType(){return-1!=CA.template_types.indexOf(this.type)}isArrayType(){return this.type==CA.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}}class PA{constructor(A){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=null!=A?A:""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new RA(CA.eof,"",this._line)),this._tokens}scanToken(){let A=this._advance();if("\n"==A)return this._line++,!0;if(this._isWhitespace(A))return!0;if("/"==A){if("/"==this._peekAhead()){for(;"\n"!=A;){if(this._isAtEnd())return!0;A=this._advance()}return this._line++,!0}if("*"==this._peekAhead()){this._advance();let e=1;for(;e>0;){if(this._isAtEnd())return!0;if(A=this._advance(),"\n"==A)this._line++;else if("*"==A){if("/"==this._peekAhead()&&(this._advance(),e--,0==e))return!0}else"/"==A&&"*"==this._peekAhead()&&(this._advance(),e++)}return!0}}let e=CA.none;for(;;){let t=this._findType(A);const r=this._peekAhead();if(">"==A&&(">"==r||"="==r)){let A=!1,e=this._tokens.length-1;for(let t=0;t<5&&e>=0;++t,--e)if(this._tokens[e].type===CA.tokens.less_than){e>0&&this._tokens[e-1].isArrayOrTemplateType()&&(A=!0);break}if(A)return this._addToken(t),!0}if(t===CA.none){let r=A,n=0;const i=2;for(let A=0;A<i;++A)if(r+=this._peekAhead(A),t=this._findType(r),t!==CA.none){n=A;break}if(t===CA.none)return e!==CA.none&&(this._current--,this._addToken(e),!0);A=r,this._current+=n+1}if(e=t,this._isAtEnd())break;A+=this._advance()}return e!==CA.none&&(this._addToken(e),!0)}_findType(A){for(const e in CA.keywords){const t=CA.keywords[e];if(this._match(A,t.rule))return t}for(const e in CA.tokens){const t=CA.tokens[e];if(this._match(A,t.rule))return t}return CA.none}_match(A,e){if("string"==typeof e){if(e==A)return!0}else{const t=e.exec(A);if(t&&0==t.index&&t[0]==A)return!0}return!1}_isAtEnd(){return this._current>=this._source.length}_isWhitespace(A){return" "==A||"\t"==A||"\r"==A}_advance(A=0){let e=this._source[this._current];return A=A||0,A++,this._current+=A,e}_peekAhead(A=0){return A=A||0,this._current+A>=this._source.length?"\0":this._source[this._current+A]}_addToken(A){const e=this._source.substring(this._start,this._current);this._tokens.push(new RA(A,e,this._line))}}class xA{constructor(){this._tokens=[],this._current=0,this._context=new x}parse(A){this._initialize(A);let e=[];for(;!this._isAtEnd();){const A=this._global_decl_or_directive();if(!A)break;e.push(A)}return e}_initialize(A){if(A)if("string"==typeof A){const e=new PA(A);this._tokens=e.scanTokens()}else this._tokens=A;else this._tokens=[];this._current=0}_error(A,e){return console.error(A,e),{token:A,message:e,toString:function(){return`${e}`}}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==CA.eof}_match(A){if(A instanceof SA)return!!this._check(A)&&(this._advance(),!0);for(let e=0,t=A.length;e<t;++e){const t=A[e];if(this._check(t))return this._advance(),!0}return!1}_consume(A,e){if(this._check(A))return this._advance();throw this._error(this._peek(),e)}_check(A){if(this._isAtEnd())return!1;const e=this._peek();if(A instanceof Array){let t=e.type;return-1!=A.indexOf(t)}return e.type==A}_advance(){return this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(CA.tokens.semicolon)&&!this._isAtEnd(););if(this._match(CA.keywords.alias)){const A=this._type_alias();return this._consume(CA.tokens.semicolon,"Expected ';'"),A}if(this._match(CA.keywords.enable)){const A=this._enable_directive();return this._consume(CA.tokens.semicolon,"Expected ';'"),A}const A=this._attribute();if(this._check(CA.keywords.var)){const e=this._global_variable_decl();return null!=e&&(e.attributes=A),this._consume(CA.tokens.semicolon,"Expected ';'."),e}if(this._check(CA.keywords.override)){const e=this._override_variable_decl();return null!=e&&(e.attributes=A),this._consume(CA.tokens.semicolon,"Expected ';'."),e}if(this._check(CA.keywords.let)){const e=this._global_let_decl();return null!=e&&(e.attributes=A),this._consume(CA.tokens.semicolon,"Expected ';'."),e}if(this._check(CA.keywords.const)){const e=this._global_const_decl();return null!=e&&(e.attributes=A),this._consume(CA.tokens.semicolon,"Expected ';'."),e}if(this._check(CA.keywords.struct)){const e=this._struct_decl();return null!=e&&(e.attributes=A),e}if(this._check(CA.keywords.fn)){const e=this._function_decl();return null!=e&&(e.attributes=A),e}return null}_function_decl(){if(!this._match(CA.keywords.fn))return null;const A=this._consume(CA.tokens.ident,"Expected function name.").toString();this._consume(CA.tokens.paren_left,"Expected '(' for function arguments.");const e=[];if(!this._check(CA.tokens.paren_right))do{if(this._check(CA.tokens.paren_right))break;const A=this._attribute(),t=this._consume(CA.tokens.ident,"Expected argument name.").toString();this._consume(CA.tokens.colon,"Expected ':' for argument type.");const r=this._attribute(),n=this._type_decl();null!=n&&(n.attributes=r,e.push(new bA(t,n,A)))}while(this._match(CA.tokens.comma));this._consume(CA.tokens.paren_right,"Expected ')' after function arguments.");let t=null;if(this._match(CA.tokens.arrow)){const A=this._attribute();t=this._type_decl(),null!=t&&(t.attributes=A)}const r=this._compound_statement();return new B(A,e,t,r)}_compound_statement(){const A=[];for(this._consume(CA.tokens.brace_left,"Expected '{' for block.");!this._check(CA.tokens.brace_right);){const e=this._statement();null!==e&&A.push(e)}return this._consume(CA.tokens.brace_right,"Expected '}' for block."),A}_statement(){for(;this._match(CA.tokens.semicolon)&&!this._isAtEnd(););if(this._check(CA.keywords.if))return this._if_statement();if(this._check(CA.keywords.switch))return this._switch_statement();if(this._check(CA.keywords.loop))return this._loop_statement();if(this._check(CA.keywords.for))return this._for_statement();if(this._check(CA.keywords.while))return this._while_statement();if(this._check(CA.keywords.continuing))return this._continuing_statement();if(this._check(CA.keywords.static_assert))return this._static_assert_statement();if(this._check(CA.tokens.brace_left))return this._compound_statement();let A=null;return A=this._check(CA.keywords.return)?this._return_statement():this._check([CA.keywords.var,CA.keywords.let,CA.keywords.const])?this._variable_statement():this._match(CA.keywords.discard)?new Z:this._match(CA.keywords.break)?new $:this._match(CA.keywords.continue)?new q:this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement(),null!=A&&this._consume(CA.tokens.semicolon,"Expected ';' after statement."),A}_static_assert_statement(){if(!this._match(CA.keywords.static_assert))return null;let A=this._optional_paren_expression();return new I(A)}_while_statement(){if(!this._match(CA.keywords.while))return null;let A=this._optional_paren_expression();const e=this._compound_statement();return new L(A,e)}_continuing_statement(){if(!this._match(CA.keywords.continuing))return null;const A=this._compound_statement();return new D(A)}_for_statement(){if(!this._match(CA.keywords.for))return null;this._consume(CA.tokens.paren_left,"Expected '('.");const A=this._check(CA.tokens.semicolon)?null:this._for_init();this._consume(CA.tokens.semicolon,"Expected ';'.");const e=this._check(CA.tokens.semicolon)?null:this._short_circuit_or_expression();this._consume(CA.tokens.semicolon,"Expected ';'.");const t=this._check(CA.tokens.paren_right)?null:this._for_increment();this._consume(CA.tokens.paren_right,"Expected ')'.");const r=this._compound_statement();return new O(A,e,t,r)}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(CA.keywords.var)){const A=this._variable_decl();if(null===A)throw this._error(this._peek(),"Variable declaration expected.");let e=null;return this._match(CA.tokens.equal)&&(e=this._short_circuit_or_expression()),new F(A.name,A.type,A.storage,A.access,e)}if(this._match(CA.keywords.let)){const A=this._consume(CA.tokens.ident,"Expected name for let.").toString();let e=null;if(this._match(CA.tokens.colon)){const A=this._attribute();e=this._type_decl(),null!=e&&(e.attributes=A)}this._consume(CA.tokens.equal,"Expected '=' for let.");const t=this._short_circuit_or_expression();return new U(A,e,null,null,t)}if(this._match(CA.keywords.const)){const A=this._consume(CA.tokens.ident,"Expected name for const.").toString();let e=null;if(this._match(CA.tokens.colon)){const A=this._attribute();e=this._type_decl(),null!=e&&(e.attributes=A)}this._consume(CA.tokens.equal,"Expected '=' for const.");const t=this._short_circuit_or_expression();return new G(A,e,null,null,t)}return null}_increment_decrement_statement(){const A=this._current,e=this._unary_expression();if(null==e)return null;if(!this._check(CA.increment_operators))return this._current=A,null;const t=this._consume(CA.increment_operators,"Expected increment operator");return new z(t.type===CA.tokens.plus_plus?E.increment:E.decrement,e)}_assignment_statement(){let A=null;if(this._check(CA.tokens.brace_right))return null;let e=this._match(CA.tokens.underscore);if(e||(A=this._unary_expression()),!e&&null==A)return null;const t=this._consume(CA.assignment_operators,"Expected assignment operator."),r=this._short_circuit_or_expression();return new V(b.parse(t.lexeme),A,r)}_func_call_statement(){if(!this._check(CA.tokens.ident))return null;const A=this._current,e=this._consume(CA.tokens.ident,"Expected function name."),t=this._argument_expression_list();return null===t?(this._current=A,null):new Q(e.lexeme,t)}_loop_statement(){if(!this._match(CA.keywords.loop))return null;this._consume(CA.tokens.brace_left,"Expected '{' for loop.");const A=[];let e=this._statement();for(;null!==e;){if(Array.isArray(e))for(let t of e)A.push(t);else A.push(e);e=this._statement()}let t=null;return this._match(CA.keywords.continuing)&&(t=this._compound_statement()),this._consume(CA.tokens.brace_right,"Expected '}' for loop."),new j(A,t)}_switch_statement(){if(!this._match(CA.keywords.switch))return null;const A=this._optional_paren_expression();this._consume(CA.tokens.brace_left,"Expected '{' for switch.");const e=this._switch_body();if(null==e||0==e.length)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(CA.tokens.brace_right,"Expected '}' for switch."),new W(A,e)}_switch_body(){const A=[];if(this._match(CA.keywords.case)){const e=this._case_selectors();this._match(CA.tokens.colon),this._consume(CA.tokens.brace_left,"Exected '{' for switch case.");const t=this._case_body();this._consume(CA.tokens.brace_right,"Exected '}' for switch case."),A.push(new vA(e,t))}if(this._match(CA.keywords.default)){this._match(CA.tokens.colon),this._consume(CA.tokens.brace_left,"Exected '{' for switch default.");const e=this._case_body();this._consume(CA.tokens.brace_right,"Exected '}' for switch default."),A.push(new EA(e))}if(this._check([CA.keywords.default,CA.keywords.case])){const e=this._switch_body();A.push(e[0])}return A}_case_selectors(){var A,e,t,r;const n=[null!==(e=null===(A=this._shift_expression())||void 0===A?void 0:A.evaluate(this._context).toString())&&void 0!==e?e:""];for(;this._match(CA.tokens.comma);)n.push(null!==(r=null===(t=this._shift_expression())||void 0===t?void 0:t.evaluate(this._context).toString())&&void 0!==r?r:"");return n}_case_body(){if(this._match(CA.keywords.fallthrough))return this._consume(CA.tokens.semicolon,"Expected ';'"),[];let A=this._statement();if(null==A)return[];A instanceof Array||(A=[A]);const e=this._case_body();return 0==e.length?A:[...A,e[0]]}_if_statement(){if(!this._match(CA.keywords.if))return null;const A=this._optional_paren_expression(),e=this._compound_statement();let t=[];this._match_elseif()&&(t=this._elseif_statement(t));let r=null;return this._match(CA.keywords.else)&&(r=this._compound_statement()),new H(A,e,t,r)}_match_elseif(){return this._tokens[this._current].type===CA.keywords.else&&this._tokens[this._current+1].type===CA.keywords.if&&(this._advance(),this._advance(),!0)}_elseif_statement(A=[]){const e=this._optional_paren_expression(),t=this._compound_statement();return A.push(new wA(e,t)),this._match_elseif()&&this._elseif_statement(A),A}_return_statement(){if(!this._match(CA.keywords.return))return null;const A=this._short_circuit_or_expression();return new X(A)}_short_circuit_or_expression(){let A=this._short_circuit_and_expr();for(;this._match(CA.tokens.or_or);)A=new _A(this._previous().toString(),A,this._short_circuit_and_expr());return A}_short_circuit_and_expr(){let A=this._inclusive_or_expression();for(;this._match(CA.tokens.and_and);)A=new _A(this._previous().toString(),A,this._inclusive_or_expression());return A}_inclusive_or_expression(){let A=this._exclusive_or_expression();for(;this._match(CA.tokens.or);)A=new _A(this._previous().toString(),A,this._exclusive_or_expression());return A}_exclusive_or_expression(){let A=this._and_expression();for(;this._match(CA.tokens.xor);)A=new _A(this._previous().toString(),A,this._and_expression());return A}_and_expression(){let A=this._equality_expression();for(;this._match(CA.tokens.and);)A=new _A(this._previous().toString(),A,this._equality_expression());return A}_equality_expression(){const A=this._relational_expression();return this._match([CA.tokens.equal_equal,CA.tokens.not_equal])?new _A(this._previous().toString(),A,this._relational_expression()):A}_relational_expression(){let A=this._shift_expression();for(;this._match([CA.tokens.less_than,CA.tokens.greater_than,CA.tokens.less_than_equal,CA.tokens.greater_than_equal]);)A=new _A(this._previous().toString(),A,this._shift_expression());return A}_shift_expression(){let A=this._additive_expression();for(;this._match([CA.tokens.shift_left,CA.tokens.shift_right]);)A=new _A(this._previous().toString(),A,this._additive_expression());return A}_additive_expression(){let A=this._multiplicative_expression();for(;this._match([CA.tokens.plus,CA.tokens.minus]);)A=new _A(this._previous().toString(),A,this._multiplicative_expression());return A}_multiplicative_expression(){let A=this._unary_expression();for(;this._match([CA.tokens.star,CA.tokens.forward_slash,CA.tokens.modulo]);)A=new _A(this._previous().toString(),A,this._unary_expression());return A}_unary_expression(){return this._match([CA.tokens.minus,CA.tokens.bang,CA.tokens.tilde,CA.tokens.star,CA.tokens.and])?new gA(this._previous().toString(),this._unary_expression()):this._singular_expression()}_singular_expression(){const A=this._primary_expression(),e=this._postfix_expression();return e&&(A.postfix=e),A}_postfix_expression(){if(this._match(CA.tokens.bracket_left)){const A=this._short_circuit_or_expression();this._consume(CA.tokens.bracket_right,"Expected ']'.");const e=this._postfix_expression();return e&&(A.postfix=e),A}if(this._match(CA.tokens.period)){const A=this._consume(CA.tokens.ident,"Expected member name."),e=this._postfix_expression(),t=new sA(A.lexeme);return e&&(t.postfix=e),t}return null}_getStruct(A){if(this._context.aliases.has(A)){return this._context.aliases.get(A).type}if(this._context.structs.has(A)){return this._context.structs.get(A)}return null}_primary_expression(){if(this._match(CA.tokens.ident)){const A=this._previous().toString();if(this._check(CA.tokens.paren_left)){const e=this._argument_expression_list(),t=this._getStruct(A);return null!=t?new oA(t,e):new aA(A,e)}if(this._context.constants.has(A)){const e=this._context.constants.get(A);return new lA(A,e.value)}return new cA(A)}if(this._match(CA.const_literal))return new uA(parseFloat(this._previous().toString()));if(this._check(CA.tokens.paren_left))return this._paren_expression();if(this._match(CA.keywords.bitcast)){this._consume(CA.tokens.less_than,"Expected '<'.");const A=this._type_decl();this._consume(CA.tokens.greater_than,"Expected '>'.");const e=this._paren_expression();return new hA(A,e)}const A=this._type_decl(),e=this._argument_expression_list();return new fA(A,e)}_argument_expression_list(){if(!this._match(CA.tokens.paren_left))return null;const A=[];do{if(this._check(CA.tokens.paren_right))break;const e=this._short_circuit_or_expression();A.push(e)}while(this._match(CA.tokens.comma));return this._consume(CA.tokens.paren_right,"Expected ')' for agument list"),A}_optional_paren_expression(){this._match(CA.tokens.paren_left);const A=this._short_circuit_or_expression();return this._match(CA.tokens.paren_right),new dA([A])}_paren_expression(){this._consume(CA.tokens.paren_left,"Expected '('.");const A=this._short_circuit_or_expression();return this._consume(CA.tokens.paren_right,"Expected ')'."),new dA([A])}_struct_decl(){if(!this._match(CA.keywords.struct))return null;const A=this._consume(CA.tokens.ident,"Expected name for struct.").toString();this._consume(CA.tokens.brace_left,"Expected '{' for struct body.");const e=[];for(;!this._check(CA.tokens.brace_right);){const A=this._attribute(),t=this._consume(CA.tokens.ident,"Expected variable name.").toString();this._consume(CA.tokens.colon,"Expected ':' for struct member type.");const r=this._attribute(),n=this._type_decl();null!=n&&(n.attributes=r),this._check(CA.tokens.brace_right)?this._match(CA.tokens.comma):this._consume(CA.tokens.comma,"Expected ',' for struct member."),e.push(new yA(t,n,A))}this._consume(CA.tokens.brace_right,"Expected '}' after struct body.");const t=new AA(A,e);return this._context.structs.set(A,t),t}_global_variable_decl(){const A=this._variable_decl();return A&&this._match(CA.tokens.equal)&&(A.value=this._const_expression()),A}_override_variable_decl(){const A=this._override_decl();return A&&this._match(CA.tokens.equal)&&(A.value=this._const_expression()),A}_global_const_decl(){if(!this._match(CA.keywords.const))return null;const A=this._consume(CA.tokens.ident,"Expected variable name");let e=null;if(this._match(CA.tokens.colon)){const A=this._attribute();e=this._type_decl(),null!=e&&(e.attributes=A)}let t=null;if(this._match(CA.tokens.equal)){const A=this._short_circuit_or_expression();if(A instanceof oA)t=A;else if(A instanceof lA&&A.initializer instanceof oA)t=A.initializer;else try{const e=A.evaluate(this._context);t=new uA(e)}catch(w){t=A}}const r=new G(A.toString(),e,"","",t);return this._context.constants.set(r.name,r),r}_global_let_decl(){if(!this._match(CA.keywords.let))return null;const A=this._consume(CA.tokens.ident,"Expected variable name");let e=null;if(this._match(CA.tokens.colon)){const A=this._attribute();e=this._type_decl(),null!=e&&(e.attributes=A)}let t=null;return this._match(CA.tokens.equal)&&(t=this._const_expression()),new U(A.toString(),e,"","",t)}_const_expression(){if(this._match(CA.const_literal))return new sA(this._previous().toString());const A=this._type_decl();this._consume(CA.tokens.paren_left,"Expected '('.");let e=[];for(;!this._check(CA.tokens.paren_right)&&(e.push(this._const_expression()),this._check(CA.tokens.comma));)this._advance();return this._consume(CA.tokens.paren_right,"Expected ')'."),new oA(A,e)}_variable_decl(){if(!this._match(CA.keywords.var))return null;let A="",e="";this._match(CA.tokens.less_than)&&(A=this._consume(CA.storage_class,"Expected storage_class.").toString(),this._match(CA.tokens.comma)&&(e=this._consume(CA.access_mode,"Expected access_mode.").toString()),this._consume(CA.tokens.greater_than,"Expected '>'."));const t=this._consume(CA.tokens.ident,"Expected variable name");let r=null;if(this._match(CA.tokens.colon)){const A=this._attribute();r=this._type_decl(),null!=r&&(r.attributes=A)}return new F(t.toString(),r,A,e,null)}_override_decl(){if(!this._match(CA.keywords.override))return null;const A=this._consume(CA.tokens.ident,"Expected variable name");let e=null;if(this._match(CA.tokens.colon)){const A=this._attribute();e=this._type_decl(),null!=e&&(e.attributes=A)}return new N(A.toString(),e,null)}_enable_directive(){const A=this._consume(CA.tokens.ident,"identity expected.");return new Y(A.toString())}_type_alias(){const A=this._consume(CA.tokens.ident,"identity expected.");this._consume(CA.tokens.equal,"Expected '=' for type alias.");let e=this._type_decl();if(null===e)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(e.name)&&(e=this._context.aliases.get(e.name).type);const t=new K(A.toString(),e);return this._context.aliases.set(t.name,t),t}_type_decl(){if(this._check([CA.tokens.ident,...CA.texel_format,CA.keywords.bool,CA.keywords.f32,CA.keywords.i32,CA.keywords.u32])){const A=this._advance(),e=A.toString();return this._context.structs.has(e)?this._context.structs.get(e):this._context.aliases.has(e)?this._context.aliases.get(e).type:new J(A.toString())}let A=this._texture_sampler_types();if(A)return A;if(this._check(CA.template_types)){let A=this._advance().toString(),e=null,t=null;return this._match(CA.tokens.less_than)&&(e=this._type_decl(),t=null,this._match(CA.tokens.comma)&&(t=this._consume(CA.access_mode,"Expected access_mode for pointer").toString()),this._consume(CA.tokens.greater_than,"Expected '>' for type.")),new eA(A,e,t)}if(this._match(CA.keywords.ptr)){let A=this._previous().toString();this._consume(CA.tokens.less_than,"Expected '<' for pointer.");const e=this._consume(CA.storage_class,"Expected storage_class for pointer");this._consume(CA.tokens.comma,"Expected ',' for pointer.");const t=this._type_decl();let r=null;return this._match(CA.tokens.comma)&&(r=this._consume(CA.access_mode,"Expected access_mode for pointer").toString()),this._consume(CA.tokens.greater_than,"Expected '>' for pointer."),new tA(A,e.toString(),t,r)}const e=this._attribute();if(this._match(CA.keywords.array)){let A=null,t=-1;const r=this._previous();if(this._match(CA.tokens.less_than)){A=this._type_decl(),this._context.aliases.has(A.name)&&(A=this._context.aliases.get(A.name).type);let e="";if(this._match(CA.tokens.comma)){e=this._shift_expression().evaluate(this._context).toString()}this._consume(CA.tokens.greater_than,"Expected '>' for array."),t=e?parseInt(e):0}return new rA(r.toString(),e,A,t)}return null}_texture_sampler_types(){if(this._match(CA.sampler_type))return new nA(this._previous().toString(),null,null);if(this._match(CA.depth_texture_type))return new nA(this._previous().toString(),null,null);if(this._match(CA.sampled_texture_type)||this._match(CA.multisampled_texture_type)){const A=this._previous();this._consume(CA.tokens.less_than,"Expected '<' for sampler type.");const e=this._type_decl();return this._consume(CA.tokens.greater_than,"Expected '>' for sampler type."),new nA(A.toString(),e,null)}if(this._match(CA.storage_texture_type)){const A=this._previous();this._consume(CA.tokens.less_than,"Expected '<' for sampler type.");const e=this._consume(CA.texel_format,"Invalid texel format.").toString();this._consume(CA.tokens.comma,"Expected ',' after texel format.");const t=this._consume(CA.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(CA.tokens.greater_than,"Expected '>' for sampler type."),new nA(A.toString(),e,t)}return null}_attribute(){let A=[];for(;this._match(CA.tokens.attr);){const e=this._consume(CA.attribute_name,"Expected attribute name"),t=new TA(e.toString(),null);if(this._match(CA.tokens.paren_left)){if(t.value=this._consume(CA.literal_or_ident,"Expected attribute value").toString(),this._check(CA.tokens.comma)){this._advance();do{const A=this._consume(CA.literal_or_ident,"Expected attribute value").toString();t.value instanceof Array||(t.value=[t.value]),t.value.push(A)}while(this._match(CA.tokens.comma))}this._consume(CA.tokens.paren_right,"Expected ')'")}A.push(t)}for(;this._match(CA.tokens.attr_left);){if(!this._check(CA.tokens.attr_right))do{const e=this._consume(CA.attribute_name,"Expected attribute name"),t=new TA(e.toString(),null);if(this._match(CA.tokens.paren_left)){if(t.value=[this._consume(CA.literal_or_ident,"Expected attribute value").toString()],this._check(CA.tokens.comma)){this._advance();do{const A=this._consume(CA.literal_or_ident,"Expected attribute value").toString();t.value.push(A)}while(this._match(CA.tokens.comma))}this._consume(CA.tokens.paren_right,"Expected ')'")}A.push(t)}while(this._match(CA.tokens.comma));this._consume(CA.tokens.attr_right,"Expected ']]' after attribute declarations")}return 0==A.length?null:A}}class MA{constructor(A,e){this.name=A,this.attributes=e,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}}class kA{constructor(A,e,t){this.name=A,this.type=e,this.attributes=t,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class BA extends MA{constructor(A,e){super(A,e),this.members=[],this.align=0}get isStruct(){return!0}}class IA extends MA{constructor(A,e){super(A,e),this.count=0,this.stride=0}get isArray(){return!0}}class LA extends MA{constructor(A,e,t,r){super(A,t),this.format=e,this.access=r}get isTemplate(){return!0}}!function(A){A[A.Uniform=0]="Uniform",A[A.Storage=1]="Storage",A[A.Texture=2]="Texture",A[A.Sampler=3]="Sampler",A[A.StorageTexture=4]="StorageTexture"}(T||(T={}));class DA{constructor(A,e,t,r,n,i,s){this.name=A,this.type=e,this.group=t,this.binding=r,this.attributes=n,this.resourceType=i,this.access=s}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class OA{constructor(A,e){this.name=A,this.type=e}}class FA{constructor(A,e){this.align=A,this.size=e}}class NA{constructor(A,e,t,r){this.name=A,this.type=e,this.locationType=t,this.location=r,this.interpolation=null}}class UA{constructor(A,e,t,r){this.name=A,this.type=e,this.locationType=t,this.location=r}}class GA{constructor(A,e=null){this.stage=null,this.inputs=[],this.outputs=[],this.name=A,this.stage=e}}class zA{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}}class VA{constructor(A,e,t,r){this.name=A,this.type=e,this.attributes=t,this.id=r}}class QA{constructor(A){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new zA,this._types=new Map,A&&this.update(A)}_isStorageTexture(A){return"texture_storage_1d"==A.name||"texture_storage_2d"==A.name||"texture_storage_2d_array"==A.name||"texture_storage_3d"==A.name}update(A){const e=(new xA).parse(A);for(const t of e)if(t instanceof AA){const A=this._getTypeInfo(t,null);A instanceof BA&&this.structs.push(A)}else if(t instanceof K)this.aliases.push(this._getAliasInfo(t));else if(t instanceof N){const A=t,e=this._getAttributeNum(A.attributes,"id",0),r=null!=A.type?this._getTypeInfo(A.type,A.attributes):null;this.overrides.push(new VA(A.name,r,A.attributes,e))}else if(this._isUniformVar(t)){const A=t,e=this._getAttributeNum(A.attributes,"group",0),r=this._getAttributeNum(A.attributes,"binding",0),n=this._getTypeInfo(A.type,A.attributes),i=new DA(A.name,n,e,r,A.attributes,T.Uniform,A.access);this.uniforms.push(i)}else if(this._isStorageVar(t)){const A=t,e=this._getAttributeNum(A.attributes,"group",0),r=this._getAttributeNum(A.attributes,"binding",0),n=this._getTypeInfo(A.type,A.attributes),i=this._isStorageTexture(n),s=new DA(A.name,n,e,r,A.attributes,i?T.StorageTexture:T.Storage,A.access);this.storage.push(s)}else if(this._isTextureVar(t)){const A=t,e=this._getAttributeNum(A.attributes,"group",0),r=this._getAttributeNum(A.attributes,"binding",0),n=this._getTypeInfo(A.type,A.attributes),i=this._isStorageTexture(n),s=new DA(A.name,n,e,r,A.attributes,i?T.StorageTexture:T.Texture,A.access);i?this.storage.push(s):this.textures.push(s)}else if(this._isSamplerVar(t)){const A=t,e=this._getAttributeNum(A.attributes,"group",0),r=this._getAttributeNum(A.attributes,"binding",0),n=this._getTypeInfo(A.type,A.attributes),i=new DA(A.name,n,e,r,A.attributes,T.Sampler,A.access);this.samplers.push(i)}else if(t instanceof B){const A=this._getAttribute(t,"vertex"),e=this._getAttribute(t,"fragment"),r=this._getAttribute(t,"compute"),n=A||e||r;if(n){const A=new GA(t.name,n.name);A.inputs=this._getInputs(t.args),A.outputs=this._getOutputs(t.returnType),this.entry[n.name].push(A)}}else;}getBindGroups(){const A=[];function e(e,t){e>=A.length&&(A.length=e+1),void 0===A[e]&&(A[e]=[]),t>=A[e].length&&(A[e].length=t+1)}for(const t of this.uniforms){e(t.group,t.binding);A[t.group][t.binding]=t}for(const t of this.storage){e(t.group,t.binding);A[t.group][t.binding]=t}for(const t of this.textures){e(t.group,t.binding);A[t.group][t.binding]=t}for(const t of this.samplers){e(t.group,t.binding);A[t.group][t.binding]=t}return A}_getOutputs(A,e){if(void 0===e&&(e=[]),A instanceof AA)this._getStructOutputs(A,e);else{const t=this._getOutputInfo(A);null!==t&&e.push(t)}return e}_getStructOutputs(A,e){for(const t of A.members)if(t.type instanceof AA)this._getStructOutputs(t.type,e);else{const A=this._getAttribute(t,"location")||this._getAttribute(t,"builtin");if(null!==A){const r=this._getTypeInfo(t.type,t.type.attributes),n=this._parseInt(A.value),i=new UA(t.name,r,A.name,n);e.push(i)}}}_getOutputInfo(A){const e=this._getAttribute(A,"location")||this._getAttribute(A,"builtin");if(null!==e){const t=this._getTypeInfo(A,A.attributes),r=this._parseInt(e.value);return new UA("",t,e.name,r)}return null}_getInputs(A,e){void 0===e&&(e=[]);for(const t of A)if(t.type instanceof AA)this._getStructInputs(t.type,e);else{const A=this._getInputInfo(t);null!==A&&e.push(A)}return e}_getStructInputs(A,e){for(const t of A.members)if(t.type instanceof AA)this._getStructInputs(t.type,e);else{const A=this._getInputInfo(t);null!==A&&e.push(A)}}_getInputInfo(A){const e=this._getAttribute(A,"location")||this._getAttribute(A,"builtin");if(null!==e){const t=this._getAttribute(A,"interpolation"),r=this._getTypeInfo(A.type,A.attributes),n=this._parseInt(e.value),i=new NA(A.name,r,e.name,n);return null!==t&&(i.interpolation=this._parseString(t.value)),i}return null}_parseString(A){return A instanceof Array&&(A=A[0]),A}_parseInt(A){A instanceof Array&&(A=A[0]);const e=parseInt(A);return isNaN(e)?A:e}_getAlias(A){for(const e of this.aliases)if(e.name==A)return e.type;return null}_getAliasInfo(A){return new OA(A.name,this._getTypeInfo(A.type,null))}_getTypeInfo(A,e){if(this._types.has(A))return this._types.get(A);if(A instanceof rA){const t=A,r=this._getTypeInfo(t.format,t.attributes),n=new IA(t.name,e);return n.format=r,n.count=t.count,this._types.set(A,n),this._updateTypeInfo(n),n}if(A instanceof AA){const t=A,r=new BA(t.name,e);for(const A of t.members){const e=this._getTypeInfo(A.type,A.attributes);r.members.push(new kA(A.name,e,A.attributes))}return this._types.set(A,r),this._updateTypeInfo(r),r}if(A instanceof nA){const t=A,r=t.format instanceof J,n=t.format?r?this._getTypeInfo(t.format,null):new MA(t.format,null):null,i=new LA(t.name,n,e,t.access);return this._types.set(A,i),this._updateTypeInfo(i),i}if(A instanceof eA){const t=A,r=t.format?this._getTypeInfo(t.format,null):null,n=new LA(t.name,r,e,t.access);return this._types.set(A,n),this._updateTypeInfo(n),n}const t=new MA(A.name,e);return this._types.set(A,t),this._updateTypeInfo(t),t}_updateTypeInfo(A){var e,t;const r=this._getTypeSize(A);if(A.size=null!==(e=null==r?void 0:r.size)&&void 0!==e?e:0,A instanceof IA){const e=this._getTypeSize(A.format);A.stride=null!==(t=null==e?void 0:e.size)&&void 0!==t?t:0,this._updateTypeInfo(A.format)}A instanceof BA&&this._updateStructInfo(A)}_updateStructInfo(A){var e;let t=0,r=0,n=0,i=0;for(let s=0,o=A.members.length;s<o;++s){const o=A.members[s],a=this._getTypeSize(o);if(!a)continue;null!==(e=this._getAlias(o.type.name))&&void 0!==e||o.type;const c=a.align,l=a.size;t=this._roundUp(c,t+r),r=l,n=t,i=Math.max(i,c),o.offset=t,o.size=l,this._updateTypeInfo(o.type)}A.size=this._roundUp(i,n+r),A.align=i}_getTypeSize(A){var e;if(null==A)return null;const t=this._getAttributeNum(A.attributes,"size",0),r=this._getAttributeNum(A.attributes,"align",0);if(A instanceof kA&&(A=A.type),A instanceof MA){const e=this._getAlias(A.name);null!==e&&(A=e)}{const e=QA._typeInfo[A.name];if(void 0!==e){const n="f16"===A.format?2:1;return new FA(Math.max(r,e.align/n),Math.max(t,e.size/n))}}{const e=QA._typeInfo[A.name.substring(0,A.name.length-1)];if(e){const n="h"===A.name[A.name.length-1]?2:1;return new FA(Math.max(r,e.align/n),Math.max(t,e.size/n))}}if(A instanceof IA){let n=A,i=8,s=8;const o=this._getTypeSize(n.format);null!==o&&(s=o.size,i=o.align);return s=n.count*this._getAttributeNum(null!==(e=null==A?void 0:A.attributes)&&void 0!==e?e:null,"stride",this._roundUp(i,s)),t&&(s=t),new FA(Math.max(r,i),Math.max(t,s))}if(A instanceof BA){let e=0,n=0,i=0,s=0,o=0;for(const t of A.members){const A=this._getTypeSize(t.type);null!==A&&(e=Math.max(A.align,e),i=this._roundUp(A.align,i+s),s=A.size,o=i)}return n=this._roundUp(e,o+s),new FA(Math.max(r,e),Math.max(t,n))}return null}_isUniformVar(A){return A instanceof F&&"uniform"==A.storage}_isStorageVar(A){return A instanceof F&&"storage"==A.storage}_isTextureVar(A){return A instanceof F&&null!==A.type&&-1!=QA._textureTypes.indexOf(A.type.name)}_isSamplerVar(A){return A instanceof F&&null!==A.type&&-1!=QA._samplerTypes.indexOf(A.type.name)}_getAttribute(A,e){const t=A;if(!t||!t.attributes)return null;const r=t.attributes;for(let n of r)if(n.name==e)return n;return null}_getAttributeNum(A,e,t){if(null===A)return t;for(let r of A)if(r.name==e){let A=null!==r&&null!==r.value?r.value:t;return A instanceof Array&&(A=A[0]),"number"==typeof A?A:"string"==typeof A?parseInt(A):t}return t}_roundUp(A,e){return Math.ceil(e/A)*A}}function jA(A){const e={attributes:[],bindings:[]};let t;try{t=function(A){try{return new QA(A)}catch(e){if(e instanceof Error)throw e;let A="WGSL parse error";throw"object"==typeof e&&e?.message&&(A+=`: ${e.message} `),"object"==typeof e&&e?.token&&(A+=e.token.line||""),new Error(A,{cause:e})}}(A)}catch(i){return p.R.error(i.message)(),e}for(const s of t.uniforms){const A=[];for(const e of s.type.members)A.push({name:e.name,type:WA(e.type)});e.bindings.push({type:"uniform",name:s.name,location:s.binding,group:s.group,members:A})}const r=t.entry.vertex[0],n=r?.inputs.length||0;for(let s=0;s<n;s++){const A=r.inputs[s];if("location"===A.locationType){const t=WA(A.type);e.attributes.push({name:A.name,location:A.location,type:t})}}return e}function WA(A){return A.format?`${A.name}<${A.format.name}>`:A.name}QA._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}},QA._textureTypes=CA.any_texture_type.map((A=>A.name)),QA._samplerTypes=CA.sampler_type.map((A=>A.name));class HA{id;userData={};topology;bufferLayout=[];vertexCount;indices;attributes;constructor(A){this.id=A.id||(0,m.L)("geometry"),this.topology=A.topology,this.indices=A.indices||null,this.attributes=A.attributes,this.vertexCount=A.vertexCount,this.bufferLayout=A.bufferLayout||[],this.indices&&(0,l.v)(this.indices.usage===n.h.INDEX)}destroy(){this.indices?.destroy();for(const A of Object.values(this.attributes))A.destroy()}getVertexCount(){return this.vertexCount}getAttributes(){return this.attributes}getIndexes(){return this.indices}_calculateVertexCount(A){return A.byteLength/12}}function XA(A,e){if(e instanceof HA)return e;const t=function(A,e){if(!e.indices)return;const t=e.indices.value;return A.createBuffer({usage:n.h.INDEX,data:t})}(A,e),{attributes:r,bufferLayout:i}=function(A,e){const t=[],r={};for(const[i,s]of Object.entries(e.attributes)){let e=i;switch(i){case"POSITION":e="positions";break;case"NORMAL":e="normals";break;case"TEXCOORD_0":e="texCoords";break;case"COLOR_0":e="colors"}r[e]=A.createBuffer({data:s.value,id:`${i}-buffer`});const{value:n,size:o,normalized:a}=s;t.push({name:e,format:(0,R.OB)(n,o,a)})}const n=e._calculateVertexCount(e.attributes,e.indices);return{attributes:r,bufferLayout:t,vertexCount:n}}(A,e);return new HA({topology:e.topology||"triangle-list",bufferLayout:i,vertexCount:e.vertexCount,indices:t,attributes:r})}var YA=t(5833);class KA{modules;moduleUniforms;moduleBindings;moduleUniformsChanged;constructor(A){const e=(0,YA.KC)(Object.values(A).filter((A=>A.dependencies)));for(const t of e)A[t.name]=t;p.R.log(1,"Creating ShaderInputs with modules",Object.keys(A))(),this.modules=A,this.moduleUniforms={},this.moduleBindings={};for(const[t,r]of Object.entries(A)){const A=t;this.moduleUniforms[A]=r.defaultUniforms||{},this.moduleBindings[A]={}}}destroy(){}setProps(A){for(const e of Object.keys(A)){const t=e,r=A[t],n=this.modules[t];if(!n){p.R.warn(`Module ${e} not found`)();continue}const i=this.moduleUniforms[t],s=n.getUniforms?.(r,this.moduleUniforms[t])||r;this.moduleUniforms[t]={...i,...s}}}getModules(){return Object.values(this.modules)}getUniformValues(){return this.moduleUniforms}getBindings(){const A={};for(const e of Object.values(this.moduleBindings))Object.assign(A,e);return A}getDebugTable(){const A={};for(const[e,t]of Object.entries(this.moduleUniforms))for(const[r,n]of Object.entries(t))A[`${e}.${r}`]={type:this.modules[e].uniformTypes?.[r],value:String(n)};return A}}var ZA=t(6031);class $A extends ZA.F{static defaultProps={...ZA.F.defaultProps,shader:void 0,entryPoint:void 0,constants:{},shaderLayout:void 0};get[Symbol.toStringTag](){return"ComputePipeline"}hash="";constructor(A,e){super(A,e,$A.defaultProps)}}class qA{static defaultProps={...o.r.defaultProps};device;_hashCounter=0;_hashes={};_renderPipelineCache={};_computePipelineCache={};static getDefaultPipelineFactory(A){return A._lumaData.defaultPipelineFactory=A._lumaData.defaultPipelineFactory||new qA(A),A._lumaData.defaultPipelineFactory}constructor(A){this.device=A}createRenderPipeline(A){const e={...o.r.defaultProps,...A},t=this._hashRenderPipeline(e);if(!this._renderPipelineCache[t]){const A=this.device.createRenderPipeline({...e,id:e.id?`${e.id}-cached`:void 0});A.hash=t,this._renderPipelineCache[t]={pipeline:A,useCount:0}}return this._renderPipelineCache[t].useCount++,this._renderPipelineCache[t].pipeline}createComputePipeline(A){const e={...$A.defaultProps,...A},t=this._hashComputePipeline(e);if(!this._computePipelineCache[t]){const A=this.device.createComputePipeline({...e,id:e.id?`${e.id}-cached`:void 0});A.hash=t,this._computePipelineCache[t]={pipeline:A,useCount:0}}return this._computePipelineCache[t].useCount++,this._computePipelineCache[t].pipeline}release(A){const e=A.hash,t=A instanceof $A?this._computePipelineCache:this._renderPipelineCache;t[e].useCount--,0===t[e].useCount&&(t[e].pipeline.destroy(),delete t[e])}_hashComputePipeline(A){return`${this._getHash(A.shader.source)}`}_hashRenderPipeline(A){const e=this._getHash(A.vs.source),t=A.fs?this._getHash(A.fs.source):0,r=this._getHash(JSON.stringify(A.bufferLayout));if("webgl"===this.device.type)return`${e}/${t}V-BL${r}`;{const n=this._getHash(JSON.stringify(A.parameters));return`${e}/${t}V-T${A.topology}P${n}BL${r}`}}_getHash(A){return void 0===this._hashes[A]&&(this._hashes[A]=this._hashCounter++),this._hashes[A]}}var JA=t(5429);class Ae{static defaultProps={...JA.M.defaultProps};device;_cache={};static getDefaultShaderFactory(A){return A._lumaData.defaultShaderFactory||=new Ae(A),A._lumaData.defaultShaderFactory}constructor(A){this.device=A}createShader(A){const e=this._hashShader(A);let t=this._cache[e];if(!t){const r=this.device.createShader({...A,id:A.id?`${A.id}-cached`:void 0});this._cache[e]=t={shader:r,useCount:0}}return t.useCount++,t.shader}release(A){const e=this._hashShader(A),t=this._cache[e];t&&(t.useCount--,0===t.useCount&&(delete this._cache[e],t.shader.destroy()))}_hashShader(A){return`${A.stage}:${A.source}`}}let ee=null,te=null;class re{static defaultProps={...o.r.defaultProps,source:null,vs:null,fs:null,id:"unnamed",handle:void 0,userData:{},defines:{},modules:[],moduleSettings:void 0,geometry:null,indexBuffer:null,attributes:{},constantAttributes:{},varyings:[],isInstanced:void 0,instanceCount:0,vertexCount:0,shaderInputs:void 0,pipelineFactory:void 0,shaderFactory:void 0,transformFeedback:void 0,shaderAssembler:P._.getDefaultShaderAssembler(),debugShaders:void 0,disableWarnings:void 0};device;id;source;vs;fs;pipelineFactory;shaderFactory;userData={};parameters;topology;bufferLayout;isInstanced=void 0;instanceCount=0;vertexCount;indexBuffer=null;bufferAttributes={};constantAttributes={};bindings={};uniforms={};vertexArray;transformFeedback=null;pipeline;shaderInputs;_uniformStore;_attributeInfos={};_gpuGeometry=null;_getModuleUniforms;props;_pipelineNeedsUpdate="newly created";_needsRedraw="initializing";_destroyed=!1;_lastDrawTimestamp=-1;constructor(A,e){this.props={...re.defaultProps,...e},e=this.props,this.id=e.id||(0,m.L)("model"),this.device=A,Object.assign(this.userData,e.userData);const t=Object.fromEntries(this.props.modules?.map((A=>[A.name,A]))||[]);this.setShaderInputs(e.shaderInputs||new KA(t));const r=function(A){return{type:A.type,shaderLanguage:A.info.shadingLanguage,shaderLanguageVersion:A.info.shadingLanguageVersion,gpu:A.info.gpu,features:A.features}}(A),n=(this.props.modules?.length>0?this.props.modules:this.shaderInputs?.getModules())||[];if("webgpu"===this.device.type&&this.props.source){this.props.shaderLayout||=jA(this.props.source);const{source:A,getUniforms:e}=this.props.shaderAssembler.assembleShader({platformInfo:r,...this.props,modules:n});this.source=A,this._getModuleUniforms=e}else{const{vs:A,fs:e,getUniforms:t}=this.props.shaderAssembler.assembleShaderPair({platformInfo:r,...this.props,modules:n});this.vs=A,this.fs=e,this._getModuleUniforms=t}this.vertexCount=this.props.vertexCount,this.instanceCount=this.props.instanceCount,this.topology=this.props.topology,this.bufferLayout=this.props.bufferLayout,this.parameters=this.props.parameters,e.geometry&&this.setGeometry(e.geometry),this.pipelineFactory=e.pipelineFactory||qA.getDefaultPipelineFactory(this.device),this.shaderFactory=e.shaderFactory||Ae.getDefaultShaderFactory(this.device),this.pipeline=this._updatePipeline(),this.vertexArray=A.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry),"isInstanced"in e&&(this.isInstanced=e.isInstanced),e.instanceCount&&this.setInstanceCount(e.instanceCount),e.vertexCount&&this.setVertexCount(e.vertexCount),e.indexBuffer&&this.setIndexBuffer(e.indexBuffer),e.attributes&&this.setAttributes(e.attributes),e.constantAttributes&&this.setConstantAttributes(e.constantAttributes),e.bindings&&this.setBindings(e.bindings),e.uniforms&&this.setUniforms(e.uniforms),e.moduleSettings&&this.updateModuleSettings(e.moduleSettings),e.transformFeedback&&(this.transformFeedback=e.transformFeedback),Object.seal(this)}destroy(){this._destroyed||(this.pipelineFactory.release(this.pipeline),this.shaderFactory.release(this.pipeline.vs),this.pipeline.fs&&this.shaderFactory.release(this.pipeline.fs),this._uniformStore.destroy(),this._gpuGeometry?.destroy(),this._destroyed=!0)}needsRedraw(){this._getBindingsUpdateTimestamp()>this._lastDrawTimestamp&&this.setNeedsRedraw("contents of bound textures or buffers updated");const A=this._needsRedraw;return this._needsRedraw=!1,A}setNeedsRedraw(A){this._needsRedraw||=A}predraw(){this.updateShaderInputs(),this.pipeline=this._updatePipeline()}draw(A){let e;this.predraw();try{this._logDrawCallStart(),this.pipeline=this._updatePipeline(),this.pipeline.setBindings(this.bindings,{disableWarnings:this.props.disableWarnings}),(0,m.Z)(this.uniforms)||this.pipeline.setUniformsWebGL(this.uniforms);const{indexBuffer:t}=this.vertexArray,r=t?t.byteLength/("uint32"===t.indexType?4:2):void 0;e=this.pipeline.draw({renderPass:A,vertexArray:this.vertexArray,isInstanced:this.isInstanced,vertexCount:this.vertexCount,instanceCount:this.instanceCount,indexCount:r,transformFeedback:this.transformFeedback||void 0,parameters:this.parameters,topology:this.topology})}finally{this._logDrawCallEnd()}return this._logFramebuffer(A),e?(this._lastDrawTimestamp=this.device.timestamp,this._needsRedraw=!1):this._needsRedraw="waiting for resource initialization",e}setGeometry(A){this._gpuGeometry?.destroy();const e=A&&XA(this.device,A);e&&(this.setTopology(e.topology||"triangle-list"),this.bufferLayout=ne(e.bufferLayout,this.bufferLayout),this.vertexArray&&this._setGeometryAttributes(e)),this._gpuGeometry=e}setTopology(A){A!==this.topology&&(this.topology=A,this._setPipelineNeedsUpdate("topology"))}setBufferLayout(A){this.bufferLayout=this._gpuGeometry?ne(A,this._gpuGeometry.bufferLayout):A,this._setPipelineNeedsUpdate("bufferLayout"),this.pipeline=this._updatePipeline(),this.vertexArray=this.device.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry)}setParameters(A){v(A,this.parameters,2)||(this.parameters=A,this._setPipelineNeedsUpdate("parameters"))}setInstanceCount(A){this.instanceCount=A,void 0===this.isInstanced&&A>0&&(this.isInstanced=!0),this.setNeedsRedraw("instanceCount")}setVertexCount(A){this.vertexCount=A,this.setNeedsRedraw("vertexCount")}setShaderInputs(A){this.shaderInputs=A,this._uniformStore=new _(this.shaderInputs.modules);for(const e of Object.keys(this.shaderInputs.modules)){const A=this._uniformStore.getManagedUniformBuffer(this.device,e);this.bindings[`${e}Uniforms`]=A}this.setNeedsRedraw("shaderInputs")}updateShaderInputs(){this._uniformStore.setUniforms(this.shaderInputs.getUniformValues()),this.setNeedsRedraw("shaderInputs")}setBindings(A){Object.assign(this.bindings,A),this.setNeedsRedraw("bindings")}setTransformFeedback(A){this.transformFeedback=A,this.setNeedsRedraw("transformFeedback")}setIndexBuffer(A){this.vertexArray.setIndexBuffer(A),this.setNeedsRedraw("indexBuffer")}setAttributes(A,e){A.indices&&p.R.warn(`Model:${this.id} setAttributes() - indexBuffer should be set using setIndexBuffer()`)();for(const[t,r]of Object.entries(A)){const A=this.bufferLayout.find((A=>ie(A).includes(t)));if(!A){p.R.warn(`Model(${this.id}): Missing layout for buffer "${t}".`)();continue}const n=ie(A);let i=!1;for(const e of n){const A=this._attributeInfos[e];A&&(this.vertexArray.setBuffer(A.location,r),i=!0)}i||(e?.disableWarnings??this.props.disableWarnings)||p.R.warn(`Model(${this.id}): Ignoring buffer "${r.id}" for unknown attribute "${t}"`)()}this.setNeedsRedraw("attributes")}setConstantAttributes(A,e){for(const[t,r]of Object.entries(A)){const A=this._attributeInfos[t];A?this.vertexArray.setConstantWebGL(A.location,r):(e?.disableWarnings??this.props.disableWarnings)||p.R.warn(`Model "${this.id}: Ignoring constant supplied for unknown attribute "${t}"`)()}this.setNeedsRedraw("constants")}setUniforms(A){(0,m.Z)(A)||(this.pipeline.setUniformsWebGL(A),Object.assign(this.uniforms,A)),this.setNeedsRedraw("uniforms")}updateModuleSettings(A){const{bindings:e,uniforms:t}=(0,S.l)(this._getModuleUniforms(A));Object.assign(this.bindings,e),Object.assign(this.uniforms,t),this.setNeedsRedraw("moduleSettings")}_getBindingsUpdateTimestamp(){let A=0;for(const e of Object.values(this.bindings))e instanceof r.X?A=Math.max(A,e.texture.updateTimestamp):e instanceof n.h||e instanceof i.g?A=Math.max(A,e.updateTimestamp):e instanceof s.L||(A=Math.max(A,e.buffer.updateTimestamp));return A}_setGeometryAttributes(A){const e={...A.attributes};for(const[t]of Object.entries(e))this.pipeline.shaderLayout.attributes.find((A=>A.name===t))||"positions"===t||delete e[t];this.vertexCount=A.vertexCount,this.setIndexBuffer(A.indices||null),this.setAttributes(A.attributes,{disableWarnings:!0}),this.setAttributes(e,{disableWarnings:this.props.disableWarnings}),this.setNeedsRedraw("geometry attributes")}_setPipelineNeedsUpdate(A){this._pipelineNeedsUpdate||=A,this.setNeedsRedraw(A)}_updatePipeline(){if(this._pipelineNeedsUpdate){let A=null,e=null;this.pipeline&&(p.R.log(1,`Model ${this.id}: Recreating pipeline because "${this._pipelineNeedsUpdate}".`)(),A=this.pipeline.vs,e=this.pipeline.fs),this._pipelineNeedsUpdate=!1;const t=this.shaderFactory.createShader({id:`${this.id}-vertex`,stage:"vertex",source:this.source||this.vs,debug:this.props.debugShaders});let r=null;this.source?r=t:this.fs&&(r=this.shaderFactory.createShader({id:`${this.id}-fragment`,stage:"fragment",source:this.source||this.fs,debug:this.props.debugShaders})),this.pipeline=this.pipelineFactory.createRenderPipeline({...this.props,bufferLayout:this.bufferLayout,topology:this.topology,parameters:this.parameters,vs:t,fs:r}),this._attributeInfos=(0,C.PV)(this.pipeline.shaderLayout,this.bufferLayout),A&&this.shaderFactory.release(A),e&&this.shaderFactory.release(e)}return this.pipeline}_lastLogTime=0;_logOpen=!1;_logDrawCallStart(){const A=p.R.level>3?0:1e4;p.R.level<2||Date.now()-this._lastLogTime<A||(this._lastLogTime=Date.now(),this._logOpen=!0,p.R.group(2,`>>> DRAWING MODEL ${this.id}`,{collapsed:p.R.level<=2})())}_logDrawCallEnd(){if(this._logOpen){const A=function(A,e){const t={},r="Values";if(0===A.attributes.length&&!A.varyings?.length)return{"No attributes or varyings":{[r]:"N/A"}};for(const n of A.attributes)n&&(t[`in ${n.location} ${n.name}: ${n.type}`]={[r]:n.stepMode||"vertex"});for(const n of A.varyings||[])t[`out ${n.location} ${n.name}`]={[r]:JSON.stringify(n.accessor)};return t}(this.pipeline.shaderLayout,this.id);p.R.table(2,A)();const e=this.shaderInputs.getDebugTable();for(const[r,n]of Object.entries(this.uniforms))e[r]={value:n};p.R.table(2,e)();const t=this._getAttributeDebugTable();p.R.table(2,this._attributeInfos)(),p.R.table(2,t)(),p.R.groupEnd(2)(),this._logOpen=!1}}_drawCount=0;_logFramebuffer(A){const e=p.R.get("framebuffer");if(this._drawCount++,!e||this._drawCount++>3&&this._drawCount%60)return;const t=A.props.framebuffer;t&&function(A,{id:e,minimap:t,opaque:r,top:n="0",left:i="0",rgbaScale:s=1}){ee||(ee=document.createElement("canvas"),ee.id=e,ee.title=e,ee.style.zIndex="100",ee.style.position="absolute",ee.style.top=n,ee.style.left=i,ee.style.border="blue 1px solid",ee.style.transform="scaleY(-1)",document.body.appendChild(ee),te=ee.getContext("2d")),ee.width===A.width&&ee.height===A.height||(ee.width=A.width/2,ee.height=A.height/2,ee.style.width="400px",ee.style.height="400px");const o=A.device.readPixelsToArrayWebGL(A),a=te.createImageData(A.width,A.height);for(let c=0;c<o.length;c+=4)a.data[0+c+0]=o[c+0]*s,a.data[0+c+1]=o[c+1]*s,a.data[0+c+2]=o[c+2]*s,a.data[0+c+3]=r?255:o[c+3]*s;te.putImageData(a,0,0)}(t,{id:t.id,minimap:!0})}_getAttributeDebugTable(){const A={};for(const[e,t]of Object.entries(this._attributeInfos))A[t.location]={name:e,type:t.shaderType,values:this._getBufferOrConstantValues(this.vertexArray.attributes[t.location],t.bufferDataType)};if(this.vertexArray.indexBuffer){const{indexBuffer:e}=this.vertexArray,t="uint32"===e.indexType?new Uint32Array(e.debugData):new Uint16Array(e.debugData);A.indices={name:"indices",type:e.indexType,values:t.toString()}}return A}_getBufferOrConstantValues(A,e){const t=(0,R.Y0)(e);return(A instanceof n.h?new t(A.debugData):A).toString()}}function ne(A,e){const t=[...A];for(const r of e){const A=t.findIndex((A=>A.name===r.name));A<0?t.push(r):t[A]=r}return t}function ie(A){return A.attributes?A.attributes?.map((A=>A.attribute)):[A.name]}},9404:(A,e,t)=>{"use strict";t.d(e,{_:()=>w});var r=t(6745);function n(A){if(A.source&&"webgpu"===A.platformInfo.type){return{...A,vs:void 0,fs:void 0}}if(!A.vs)throw new Error("no vertex shader");const e=i(A.platformInfo,A.vs);let t;return A.fs&&(t=i(A.platformInfo,A.fs)),{...A,vs:e,fs:t}}function i(A,e){if("string"==typeof e)return e;if("webgpu"===A.type){if(e?.wgsl)return e.wgsl;throw new Error("WebGPU does not support GLSL shaders")}if(e?.glsl)return e.glsl;throw new Error("WebGL does not support WGSL shaders")}var s=t(5833);var o=t(2414);const a=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],c=[...a,[h("attribute"),"in $1"],[h("varying"),"out $1"]],l=[...a,[h("varying"),"in $1"]];function u(A,e){for(const[t,r]of e)A=A.replace(t,r);return A}function h(A){return new RegExp(`\\b${A}[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)`,"g")}function f(A,e){let t="";for(const r in A){const n=A[r];if(t+=`void ${n.signature} {\n`,n.header&&(t+=`  ${n.header}`),e[r]){const A=e[r];A.sort(((A,e)=>A.order-e.order));for(const e of A)t+=`  ${e.injection}\n`}n.footer&&(t+=`  ${n.footer}`),t+="}\n"}return t}function d(A){const e={vertex:{},fragment:{}};for(const t of A){let A,r;"string"!=typeof t?(A=t,r=A.hook):(A={},r=t),r=r.trim();const[n,i]=r.split(":"),s=r.replace(/\(.+/,""),o=Object.assign(A,{signature:i});switch(n){case"vs":e.vertex[s]=o;break;case"fs":e.fragment[s]=o;break;default:throw new Error(n)}}return e}var p=t(568);function g(A,e="unnamed"){const t=/#define[^\S\r\n]*SHADER_NAME[^\S\r\n]*([A-Za-z0-9_-]+)\s*/.exec(A);return t?t[1]:e}function _(A){let e=100;const t=A.match(/[^\s]+/g);if(t&&t.length>=2&&"#version"===t[0]){const A=parseInt(t[1],10);Number.isFinite(A)&&(e=A)}if(100!==e&&300!==e)throw new Error(`Invalid GLSL version ${e}`);return e}const m=`\n\n${o.O_}\n`;function v(A,e){const{source:t,stage:r,modules:n,hookFunctions:i=[],inject:s={},log:a}=e;(0,p.v)("string"==typeof t,"shader source must be a string");const c=t;let l="";const u=d(i),h={},g={},_={};for(const o in s){const A="string"==typeof s[o]?{injection:s[o],order:0}:s[o],e=/^(v|f)s:(#)?([\w-]+)$/.exec(o);if(e){const t=e[2],r=e[3];t?"decl"===r?g[o]=[A]:_[o]=[A]:h[o]=[A]}else _[o]=[A]}const v="webgpu"!==A.type?n:[];for(const o of v){a&&o.checkDeprecations(c,a);l+=o.getModuleSource(r,"wgsl");const A=o.injections[r];for(const e in A){const t=/^(v|f)s:#([\w-]+)$/.exec(e);if(t){const r="decl"===t[2]?g:_;r[e]=r[e]||[],r[e].push(A[e])}else h[e]=h[e]||[],h[e].push(A[e])}}return l+=m,l=(0,o.bv)(l,r,g),l+=f(u[r],h),l+=c,l=(0,o.bv)(l,r,_),l}function E(A,e){const{id:t,source:r,stage:n,language:i="glsl",modules:s,defines:a={},hookFunctions:h=[],inject:v={},prologue:E=!0,log:b}=e;(0,p.v)("string"==typeof r,"shader source must be a string");const w="glsl"===i?function(A,e){return{name:g(A,e),language:"glsl",version:_(A)}}(r).version:-1,y=A.shaderLanguageVersion,T=100===w?"#version 100":"#version 300 es",S=r.split("\n").slice(1).join("\n"),C={};s.forEach((A=>{Object.assign(C,A.getDefines())})),Object.assign(C,a);let R="";switch(i){case"wgsl":break;case"glsl":R=E?`${T}\n\n// ----- PROLOGUE -------------------------\n${function(A){const{id:e,source:t,stage:r}=A;return e&&-1===t.indexOf("SHADER_NAME")?`\n#define SHADER_NAME ${e}_${r}\n\n`:""}({id:t,source:r,stage:n})}\n#define SHADER_TYPE_${n.toUpperCase()}\n${function(A){switch(A?.gpu.toLowerCase()){case"apple":return"#define APPLE_GPU\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"nvidia":return"#define NVIDIA_GPU\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(A)}\n${"fragment"===n?"precision highp float;\n":""}\n\n// ----- APPLICATION DEFINES -------------------------\n\n${function(A={}){let e="";for(const t in A){const r=A[t];(r||Number.isFinite(r))&&(e+=`#define ${t.toUpperCase()} ${A[t]}\n`)}return e}(C)}\n\n`:`${T}\n`}const P=d(h),x={},M={},k={};for(const o in v){const A="string"==typeof v[o]?{injection:v[o],order:0}:v[o],e=/^(v|f)s:(#)?([\w-]+)$/.exec(o);if(e){const t=e[2],r=e[3];t?"decl"===r?M[o]=[A]:k[o]=[A]:x[o]=[A]}else k[o]=[A]}for(const o of s){b&&o.checkDeprecations(S,b);R+=o.getModuleSource(n);const A=o.injections[n];for(const e in A){const t=/^(v|f)s:#([\w-]+)$/.exec(e);if(t){const r="decl"===t[2]?M:k;r[e]=r[e]||[],r[e].push(A[e])}else x[e]=x[e]||[],x[e].push(A[e])}}return R+="// ----- MAIN SHADER SOURCE -------------------------",R+=m,R=(0,o.bv)(R,n,M),R+=f(P[n],x),R+=S,R=(0,o.bv)(R,n,k),"glsl"===i&&w!==y&&(R=function(A,e){if(300!==Number(A.match(/^#version[ \t]+(\d+)/m)?.[1]||100))throw new Error("luma.gl v9 only supports GLSL 3.00 shader sources");switch(e){case"vertex":return u(A,c);case"fragment":return u(A,l);default:throw new Error(e)}}(R,n)),R.trim()}function b(A){return function(e){const t={};for(const r of A){const A=r.getUniforms(e,t);Object.assign(t,A)}return t}}class w{static defaultShaderAssembler;_hookFunctions=[];_defaultModules=[];static getDefaultShaderAssembler(){return w.defaultShaderAssembler=w.defaultShaderAssembler||new w,w.defaultShaderAssembler}addDefaultModule(A){this._defaultModules.find((e=>e.name===("string"==typeof A?A:A.name)))||this._defaultModules.push(A)}removeDefaultModule(A){const e="string"==typeof A?A:A.name;this._defaultModules=this._defaultModules.filter((A=>A.name!==e))}addShaderHook(A,e){e&&(A=Object.assign(e,{hook:A})),this._hookFunctions.push(A)}assembleShader(A){const e=this._getModuleList(A.modules),t=this._hookFunctions,r=n(A),i=function(A){const e=(0,s.KC)(A.modules||[]);return{source:v(A.platformInfo,{...A,source:A.source,stage:"vertex",modules:e}),getUniforms:b(e)}}({platformInfo:A.platformInfo,...r,modules:e,hookFunctions:t});return{...i,modules:e}}assembleShaderPair(A){const e=n(A),t=this._getModuleList(A.modules),r=this._hookFunctions,{platformInfo:i}=A,o="wgsl"===A.platformInfo.shaderLanguage?function(A){const e=(0,s.KC)(A.modules||[]);return{vs:v(A.platformInfo,{...A,source:A.vs,stage:"vertex",modules:e}),fs:v(A.platformInfo,{...A,source:A.fs,stage:"fragment",modules:e}),getUniforms:b(e)}}({platformInfo:i,...e,modules:t,hookFunctions:r}):function(A){const{vs:e,fs:t}=A,r=(0,s.KC)(A.modules||[]);return{vs:E(A.platformInfo,{...A,source:e,stage:"vertex",modules:r}),fs:E(A.platformInfo,{...A,source:t,stage:"fragment",modules:r}),getUniforms:b(r)}}({platformInfo:i,...e,modules:t,hookFunctions:r});return{...o,modules:t}}_getModuleList(A=[]){const e=new Array(this._defaultModules.length+A.length),t={};let n=0;for(let r=0,i=this._defaultModules.length;r<i;++r){const A=this._defaultModules[r],i=A.name;e[n++]=A,t[i]=!0}for(let r=0,i=A.length;r<i;++r){const i=A[r],s=i.name;t[s]||(e[n++]=i,t[s]=!0)}return e.length=n,r.z.instantiateModules(e)}}},5833:(A,e,t)=>{"use strict";t.d(e,{KC:()=>n});var r=t(6745);function n(A){return i(r.z.instantiateModules(A))}function i(A){const e={},t={};return s({modules:A,level:0,moduleMap:e,moduleDepth:t}),Object.keys(t).sort(((A,e)=>t[e]-t[A])).map((A=>e[A]))}function s(A){const{modules:e,level:t,moduleMap:r,moduleDepth:n}=A;if(t>=5)throw new Error("Possible loop in shader dependency graph");for(const i of e)r[i.name]=i,(void 0===n[i.name]||n[i.name]<t)&&(n[i.name]=t);for(const i of e)i.dependencies&&s({modules:i.dependencies,level:t+1,moduleMap:r,moduleDepth:n})}},2414:(A,e,t)=>{"use strict";t.d(e,{O_:()=>o,bv:()=>l,Uu:()=>a});const r={vertex:"#ifdef MODULE_LOGDEPTH\nlogdepth_adjustPosition(gl_Position);\n#endif\n",fragment:"#ifdef MODULE_MATERIAL\ngl_FragColor = material_filterColor(gl_FragColor);\n#endif\n#ifdef MODULE_LIGHTING\ngl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n#ifdef MODULE_FOG\ngl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n#ifdef MODULE_PICKING\ngl_FragColor = picking_filterHighlightColor(gl_FragColor);\ngl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n#ifdef MODULE_LOGDEPTH\nlogdepth_setFragDepth();\n#endif\n"},n=/void\s+main\s*\([^)]*\)\s*\{\n?/,i=/}\n?[^{}]*$/,s=[],o="__LUMA_INJECT_DECLARATIONS__";function a(A){const e={vertex:{},fragment:{}};for(const t in A){let r=A[t];const n=c(t);"string"==typeof r&&(r={order:0,injection:r}),e[n][t]=r}return e}function c(A){const e=A.slice(0,2);switch(e){case"vs":return"vertex";case"fs":return"fragment";default:throw new Error(e)}}function l(A,e,t,a=!1){const c="vertex"===e;for(const r in t){const e=t[r];e.sort(((A,e)=>A.order-e.order)),s.length=e.length;for(let A=0,t=e.length;A<t;++A)s[A]=e[A].injection;const a=`${s.join("\n")}\n`;switch(r){case"vs:#decl":c&&(A=A.replace(o,a));break;case"vs:#main-start":c&&(A=A.replace(n,(A=>A+a)));break;case"vs:#main-end":c&&(A=A.replace(i,(A=>a+A)));break;case"fs:#decl":c||(A=A.replace(o,a));break;case"fs:#main-start":c||(A=A.replace(n,(A=>A+a)));break;case"fs:#main-end":c||(A=A.replace(i,(A=>a+A)));break;default:A=A.replace(r,(A=>A+a))}}return A=A.replace(o,""),a&&(A=A.replace(/\}\s*$/,(A=>A+r[e]))),A}},6745:(A,e,t)=>{"use strict";t.d(e,{z:()=>c});var r=t(568);const n={number:{type:"number",validate:(A,e)=>Number.isFinite(A)&&"object"==typeof e&&(void 0===e.max||A<=e.max)&&(void 0===e.min||A>=e.min)},array:{type:"array",validate:(A,e)=>Array.isArray(A)||ArrayBuffer.isView(A)}};function i(A){let e=s(A);if("object"!==e)return{value:A,...n[e],type:e};if("object"==typeof A)return A?void 0!==A.type?{...A,...n[A.type],type:A.type}:void 0===A.value?{type:"object",value:A}:(e=s(A.value),{...A,...n[e],type:e}):{type:"object",value:null};throw new Error("props")}function s(A){return Array.isArray(A)||ArrayBuffer.isView(A)?"array":typeof A}var o=t(2414);let a=1;class c{name;vs;fs;getModuleUniforms;dependencies;deprecations;defines;injections;uniforms={};uniformTypes={};static instantiateModules(A){return A.map((A=>{if(A instanceof c)return A;(0,r.v)("string"!=typeof A,`Shader module use by name is deprecated. Import shader module '${JSON.stringify(A)}' and use it directly.`),A.name||(console.warn("shader module has no name"),A.name="shader-module-"+a++);const e=new c(A);return e.dependencies=c.instantiateModules(A.dependencies||[]),e}))}constructor(A){const{name:e,vs:t,fs:n,dependencies:s=[],uniformTypes:a={},uniformPropTypes:l={},getUniforms:u,deprecations:h=[],defines:f={},inject:d={}}=A;(0,r.v)("string"==typeof e),this.name=e,this.vs=t,this.fs=n,this.getModuleUniforms=u,this.dependencies=c.instantiateModules(s),this.deprecations=this._parseDeprecationDefinitions(h),this.defines=f,this.injections=(0,o.Uu)(d),this.uniformTypes=a,l&&(this.uniforms=function(A){const e={};for(const[t,r]of Object.entries(A))e[t]=i(r);return e}(l))}getModuleSource(A){let e;switch(A){case"vertex":e=this.vs||"";break;case"fragment":e=this.fs||"";break;default:(0,r.v)(!1)}const t=this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_");return`// ----- MODULE ${this.name} ---------------\n\n#define MODULE_${t}\n${e}\n\n`}getUniforms(A,e){return this.getModuleUniforms?this.getModuleUniforms(A,e):function(A,e,t){const n={};for(const[i,s]of Object.entries(e))A&&i in A&&!s.private?(s.validate&&(0,r.v)(s.validate(A[i],s),`${t}: invalid ${i}`),n[i]=A[i]):n[i]=s.value;return n}(A,this.uniforms,this.name)}getDefines(){return this.defines}checkDeprecations(A,e){this.deprecations.forEach((t=>{t.regex?.test(A)&&(t.deprecated?e.deprecated(t.old,t.new)():e.removed(t.old,t.new)())}))}_parseDeprecationDefinitions(A){return A.forEach((A=>{if("function"===A.type)A.regex=new RegExp(`\\b${A.old}\\(`);else A.regex=new RegExp(`${A.type} ${A.old};`)})),A}_defaultGetUniforms(A={}){const e={},t=this.uniforms;for(const n in t){const i=t[n];n in A&&!i.private?(i.validate&&(0,r.v)(i.validate(A[n],i),`${this.name}: invalid ${n}`),e[n]=A[n]):e[n]=i.value}return e}}},568:(A,e,t)=>{"use strict";function r(A,e){if(!A)throw new Error(e||"shadertools: assertion failed.")}t.d(e,{v:()=>r})},3683:(A,e,t)=>{"use strict";t.d(e,{a:()=>n});var r=t(4315);class n extends Array{clone(){return(new this.constructor).copy(this)}fromArray(A,e=0){for(let t=0;t<this.ELEMENTS;++t)this[t]=A[t+e];return this.check()}toArray(A=[],e=0){for(let t=0;t<this.ELEMENTS;++t)A[e+t]=this[t];return A}toObject(A){return A}from(A){return Array.isArray(A)?this.copy(A):this.fromObject(A)}to(A){return A===this?this:(0,r.cy)(A)?this.toArray(A):this.toObject(A)}toTarget(A){return A?this.to(A):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(r.$W)}formatString(A){let e="";for(let t=0;t<this.ELEMENTS;++t)e+=(t>0?", ":"")+(0,r.Fl)(this[t],A);return`${A.printTypes?this.constructor.name:""}[${e}]`}equals(A){if(!A||this.length!==A.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(!(0,r.aI)(this[e],A[e]))return!1;return!0}exactEquals(A){if(!A||this.length!==A.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(this[e]!==A[e])return!1;return!0}negate(){for(let A=0;A<this.ELEMENTS;++A)this[A]=-this[A];return this.check()}lerp(A,e,t){if(void 0===t)return this.lerp(this,A,e);for(let r=0;r<this.ELEMENTS;++r){const n=A[r],i="number"==typeof e?e:e[r];this[r]=n+t*(i-n)}return this.check()}min(A){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.min(A[e],this[e]);return this.check()}max(A){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.max(A[e],this[e]);return this.check()}clamp(A,e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(Math.max(this[t],A[t]),e[t]);return this.check()}add(...A){for(const e of A)for(let A=0;A<this.ELEMENTS;++A)this[A]+=e[A];return this.check()}subtract(...A){for(const e of A)for(let A=0;A<this.ELEMENTS;++A)this[A]-=e[A];return this.check()}scale(A){if("number"==typeof A)for(let e=0;e<this.ELEMENTS;++e)this[e]*=A;else for(let e=0;e<this.ELEMENTS&&e<A.length;++e)this[e]*=A[e];return this.check()}multiplyByScalar(A){for(let e=0;e<this.ELEMENTS;++e)this[e]*=A;return this.check()}check(){if(r.$W.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let A=this.length===this.ELEMENTS;for(let e=0;e<this.ELEMENTS;++e)A=A&&Number.isFinite(this[e]);return A}sub(A){return this.subtract(A)}setScalar(A){for(let e=0;e<this.ELEMENTS;++e)this[e]=A;return this.check()}addScalar(A){for(let e=0;e<this.ELEMENTS;++e)this[e]+=A;return this.check()}subScalar(A){return this.addScalar(-A)}multiplyScalar(A){for(let e=0;e<this.ELEMENTS;++e)this[e]*=A;return this.check()}divideScalar(A){return this.multiplyByScalar(1/A)}clampScalar(A,e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(Math.max(this[t],A),e);return this.check()}get elements(){return this}}},2879:(A,e,t)=>{"use strict";t.d(e,{k:()=>m});var r=t(3683),n=t(1697),i=t(4315);class s extends r.a{toString(){let A="[";if(i.$W.printRowMajor){A+="row-major:";for(let e=0;e<this.RANK;++e)for(let t=0;t<this.RANK;++t)A+=` ${this[t*this.RANK+e]}`}else{A+="column-major:";for(let e=0;e<this.ELEMENTS;++e)A+=` ${this[e]}`}return A+="]",A}getElementIndex(A,e){return e*this.RANK+A}getElement(A,e){return this[e*this.RANK+A]}setElement(A,e,t){return this[e*this.RANK+A]=(0,n.ws)(t),this}getColumn(A,e=new Array(this.RANK).fill(-0)){const t=A*this.RANK;for(let r=0;r<this.RANK;++r)e[r]=this[t+r];return e}setColumn(A,e){const t=A*this.RANK;for(let r=0;r<this.RANK;++r)this[t+r]=e[r];return this}}var o,a=t(7919),c=t(3348),l=t(9210),u=t(6425),h=t(7964);!function(A){A[A.COL0ROW0=0]="COL0ROW0",A[A.COL0ROW1=1]="COL0ROW1",A[A.COL0ROW2=2]="COL0ROW2",A[A.COL0ROW3=3]="COL0ROW3",A[A.COL1ROW0=4]="COL1ROW0",A[A.COL1ROW1=5]="COL1ROW1",A[A.COL1ROW2=6]="COL1ROW2",A[A.COL1ROW3=7]="COL1ROW3",A[A.COL2ROW0=8]="COL2ROW0",A[A.COL2ROW1=9]="COL2ROW1",A[A.COL2ROW2=10]="COL2ROW2",A[A.COL2ROW3=11]="COL2ROW3",A[A.COL3ROW0=12]="COL3ROW0",A[A.COL3ROW1=13]="COL3ROW1",A[A.COL3ROW2=14]="COL3ROW2",A[A.COL3ROW3=15]="COL3ROW3"}(o||(o={}));const f=45*Math.PI/180,d=1,p=.1,g=500,_=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class m extends s{static get IDENTITY(){return function(){E||(E=new m,Object.freeze(E));return E}()}static get ZERO(){return function(){v||(v=new m([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(v));return v}()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return o}constructor(A){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(A)?this.copy(A):this.identity()}copy(A){return this[0]=A[0],this[1]=A[1],this[2]=A[2],this[3]=A[3],this[4]=A[4],this[5]=A[5],this[6]=A[6],this[7]=A[7],this[8]=A[8],this[9]=A[9],this[10]=A[10],this[11]=A[11],this[12]=A[12],this[13]=A[13],this[14]=A[14],this[15]=A[15],this.check()}set(A,e,t,r,n,i,s,o,a,c,l,u,h,f,d,p){return this[0]=A,this[1]=e,this[2]=t,this[3]=r,this[4]=n,this[5]=i,this[6]=s,this[7]=o,this[8]=a,this[9]=c,this[10]=l,this[11]=u,this[12]=h,this[13]=f,this[14]=d,this[15]=p,this.check()}setRowMajor(A,e,t,r,n,i,s,o,a,c,l,u,h,f,d,p){return this[0]=A,this[1]=n,this[2]=a,this[3]=h,this[4]=e,this[5]=i,this[6]=c,this[7]=f,this[8]=t,this[9]=s,this[10]=l,this[11]=d,this[12]=r,this[13]=o,this[14]=u,this[15]=p,this.check()}toRowMajor(A){return A[0]=this[0],A[1]=this[4],A[2]=this[8],A[3]=this[12],A[4]=this[1],A[5]=this[5],A[6]=this[9],A[7]=this[13],A[8]=this[2],A[9]=this[6],A[10]=this[10],A[11]=this[14],A[12]=this[3],A[13]=this[7],A[14]=this[11],A[15]=this[15],A}identity(){return this.copy(_)}fromObject(A){return this.check()}fromQuaternion(A){return(0,c.I0)(this,A),this.check()}frustum(A){const{left:e,right:t,bottom:r,top:n,near:i=p,far:s=g}=A;return s===1/0?function(A,e,t,r,n,i){const s=2*i/(t-e),o=2*i/(n-r),a=(t+e)/(t-e),c=(n+r)/(n-r),l=-1,u=-1,h=-2*i;A[0]=s,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=o,A[6]=0,A[7]=0,A[8]=a,A[9]=c,A[10]=l,A[11]=u,A[12]=0,A[13]=0,A[14]=h,A[15]=0}(this,e,t,r,n,i):(0,c.$h)(this,e,t,r,n,i,s),this.check()}lookAt(A){const{eye:e,center:t=[0,0,0],up:r=[0,1,0]}=A;return(0,c.t5)(this,e,t,r),this.check()}ortho(A){const{left:e,right:t,bottom:r,top:n,near:i=p,far:s=g}=A;return(0,c.v3)(this,e,t,r,n,i,s),this.check()}orthographic(A){const{fovy:e=f,aspect:t=d,focalDistance:r=1,near:n=p,far:i=g}=A;b(e);const s=e/2,o=r*Math.tan(s),a=o*t;return this.ortho({left:-a,right:a,bottom:-o,top:o,near:n,far:i})}perspective(A){const{fovy:e=45*Math.PI/180,aspect:t=1,near:r=.1,far:n=500}=A;return b(e),(0,c.fN)(this,e,t,r,n),this.check()}determinant(){return(0,c.a4)(this)}getScale(A=[-0,-0,-0]){return A[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),A[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),A[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),A}getTranslation(A=[-0,-0,-0]){return A[0]=this[12],A[1]=this[13],A[2]=this[14],A}getRotation(A,e){A=A||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],e=e||[-0,-0,-0];const t=this.getScale(e),r=1/t[0],n=1/t[1],i=1/t[2];return A[0]=this[0]*r,A[1]=this[1]*n,A[2]=this[2]*i,A[3]=0,A[4]=this[4]*r,A[5]=this[5]*n,A[6]=this[6]*i,A[7]=0,A[8]=this[8]*r,A[9]=this[9]*n,A[10]=this[10]*i,A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,A}getRotationMatrix3(A,e){A=A||[-0,-0,-0,-0,-0,-0,-0,-0,-0],e=e||[-0,-0,-0];const t=this.getScale(e),r=1/t[0],n=1/t[1],i=1/t[2];return A[0]=this[0]*r,A[1]=this[1]*n,A[2]=this[2]*i,A[3]=this[4]*r,A[4]=this[5]*n,A[5]=this[6]*i,A[6]=this[8]*r,A[7]=this[9]*n,A[8]=this[10]*i,A}transpose(){return(0,c.mg)(this,this),this.check()}invert(){return(0,c.B8)(this,this),this.check()}multiplyLeft(A){return(0,c.lw)(this,A,this),this.check()}multiplyRight(A){return(0,c.lw)(this,this,A),this.check()}rotateX(A){return(0,c.eL)(this,this,A),this.check()}rotateY(A){return(0,c.Z8)(this,this,A),this.check()}rotateZ(A){return(0,c.Qr)(this,this,A),this.check()}rotateXYZ(A){return this.rotateX(A[0]).rotateY(A[1]).rotateZ(A[2])}rotateAxis(A,e){return(0,c.e$)(this,this,A,e),this.check()}scale(A){return(0,c.hs)(this,this,Array.isArray(A)?A:[A,A,A]),this.check()}translate(A){return(0,c.Tl)(this,this,A),this.check()}transform(A,e){return 4===A.length?(e=(0,h.Z0)(e||[-0,-0,-0,-0],A,this),(0,n.qk)(e,4),e):this.transformAsPoint(A,e)}transformAsPoint(A,e){const{length:t}=A;let r;switch(t){case 2:r=(0,l.Z0)(e||[-0,-0],A,this);break;case 3:r=(0,u.Z0)(e||[-0,-0,-0],A,this);break;default:throw new Error("Illegal vector")}return(0,n.qk)(r,A.length),r}transformAsVector(A,e){let t;switch(A.length){case 2:t=(0,a.B$)(e||[-0,-0],A,this);break;case 3:t=(0,a.cL)(e||[-0,-0,-0],A,this);break;default:throw new Error("Illegal vector")}return(0,n.qk)(t,A.length),t}transformPoint(A,e){return this.transformAsPoint(A,e)}transformVector(A,e){return this.transformAsPoint(A,e)}transformDirection(A,e){return this.transformAsVector(A,e)}makeRotationX(A){return this.identity().rotateX(A)}makeTranslation(A,e,t){return this.identity().translate([A,e,t])}}let v,E;function b(A){if(A>2*Math.PI)throw Error("expected radians")}},5427:(A,e,t)=>{"use strict";t.d(e,{P:()=>h});var r=t(3683),n=t(1697);function i(A,e){if(!A)throw new Error(`math.gl assertion ${e}`)}class s extends r.a{get x(){return this[0]}set x(A){this[0]=(0,n.ws)(A)}get y(){return this[1]}set y(A){this[1]=(0,n.ws)(A)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let A=0;for(let e=0;e<this.ELEMENTS;++e)A+=this[e]*this[e];return A}magnitudeSquared(){return this.lengthSquared()}distance(A){return Math.sqrt(this.distanceSquared(A))}distanceSquared(A){let e=0;for(let t=0;t<this.ELEMENTS;++t){const r=this[t]-A[t];e+=r*r}return(0,n.ws)(e)}dot(A){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*A[t];return(0,n.ws)(e)}normalize(){const A=this.magnitude();if(0!==A)for(let e=0;e<this.ELEMENTS;++e)this[e]/=A;return this.check()}multiply(...A){for(const e of A)for(let A=0;A<this.ELEMENTS;++A)this[A]*=e[A];return this.check()}divide(...A){for(const e of A)for(let A=0;A<this.ELEMENTS;++A)this[A]/=e[A];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(A){return this.distance(A)}distanceToSquared(A){return this.distanceSquared(A)}getComponent(A){return i(A>=0&&A<this.ELEMENTS,"index is out of range"),(0,n.ws)(this[A])}setComponent(A,e){return i(A>=0&&A<this.ELEMENTS,"index is out of range"),this[A]=e,this.check()}addVectors(A,e){return this.copy(A).add(e)}subVectors(A,e){return this.copy(A).subtract(e)}multiplyVectors(A,e){return this.copy(A).multiply(e)}addScaledVector(A,e){return this.add(new this.constructor(A).multiplyScalar(e))}}var o=t(4315),a=t(6425),c=t(7919);const l=[0,0,0];let u;class h extends s{static get ZERO(){return u||(u=new h(0,0,0),Object.freeze(u)),u}constructor(A=0,e=0,t=0){super(-0,-0,-0),1===arguments.length&&(0,o.cy)(A)?this.copy(A):(o.$W.debug&&((0,n.ws)(A),(0,n.ws)(e),(0,n.ws)(t)),this[0]=A,this[1]=e,this[2]=t)}set(A,e,t){return this[0]=A,this[1]=e,this[2]=t,this.check()}copy(A){return this[0]=A[0],this[1]=A[1],this[2]=A[2],this.check()}fromObject(A){return o.$W.debug&&((0,n.ws)(A.x),(0,n.ws)(A.y),(0,n.ws)(A.z)),this[0]=A.x,this[1]=A.y,this[2]=A.z,this.check()}toObject(A){return A.x=this[0],A.y=this[1],A.z=this[2],A}get ELEMENTS(){return 3}get z(){return this[2]}set z(A){this[2]=(0,n.ws)(A)}angle(A){return(0,a.g7)(this,A)}cross(A){return(0,a.$A)(this,this,A),this.check()}rotateX({radians:A,origin:e=l}){return(0,a.eL)(this,this,e,A),this.check()}rotateY({radians:A,origin:e=l}){return(0,a.Z8)(this,this,e,A),this.check()}rotateZ({radians:A,origin:e=l}){return(0,a.x6)(this,this,e,A),this.check()}transform(A){return this.transformAsPoint(A)}transformAsPoint(A){return(0,a.Z0)(this,this,A),this.check()}transformAsVector(A){return(0,c.cL)(this,this,A),this.check()}transformByMatrix3(A){return(0,a.ei)(this,this,A),this.check()}transformByMatrix2(A){return(0,c.J4)(this,this,A),this.check()}transformByQuaternion(A){return(0,a.gL)(this,this,A),this.check()}}},7055:(A,e,t)=>{"use strict";t.d(e,{p8:()=>r,tb:()=>n});const r=1e-6;let n="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI},3348:(A,e,t)=>{"use strict";t.d(e,{$h:()=>p,B8:()=>i,I0:()=>d,Qr:()=>f,Tl:()=>a,Z8:()=>h,a4:()=>s,e$:()=>l,eL:()=>u,fN:()=>g,hs:()=>c,lw:()=>o,mg:()=>n,t5:()=>m,v3:()=>_});var r=t(7055);function n(A,e){if(A===e){const t=e[1],r=e[2],n=e[3],i=e[6],s=e[7],o=e[11];A[1]=e[4],A[2]=e[8],A[3]=e[12],A[4]=t,A[6]=e[9],A[7]=e[13],A[8]=r,A[9]=i,A[11]=e[14],A[12]=n,A[13]=s,A[14]=o}else A[0]=e[0],A[1]=e[4],A[2]=e[8],A[3]=e[12],A[4]=e[1],A[5]=e[5],A[6]=e[9],A[7]=e[13],A[8]=e[2],A[9]=e[6],A[10]=e[10],A[11]=e[14],A[12]=e[3],A[13]=e[7],A[14]=e[11],A[15]=e[15];return A}function i(A,e){const t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],o=e[5],a=e[6],c=e[7],l=e[8],u=e[9],h=e[10],f=e[11],d=e[12],p=e[13],g=e[14],_=e[15],m=t*o-r*s,v=t*a-n*s,E=t*c-i*s,b=r*a-n*o,w=r*c-i*o,y=n*c-i*a,T=l*p-u*d,S=l*g-h*d,C=l*_-f*d,R=u*g-h*p,P=u*_-f*p,x=h*_-f*g;let M=m*x-v*P+E*R+b*C-w*S+y*T;return M?(M=1/M,A[0]=(o*x-a*P+c*R)*M,A[1]=(n*P-r*x-i*R)*M,A[2]=(p*y-g*w+_*b)*M,A[3]=(h*w-u*y-f*b)*M,A[4]=(a*C-s*x-c*S)*M,A[5]=(t*x-n*C+i*S)*M,A[6]=(g*E-d*y-_*v)*M,A[7]=(l*y-h*E+f*v)*M,A[8]=(s*P-o*C+c*T)*M,A[9]=(r*C-t*P-i*T)*M,A[10]=(d*w-p*E+_*m)*M,A[11]=(u*E-l*w-f*m)*M,A[12]=(o*S-s*R-a*T)*M,A[13]=(t*R-r*S+n*T)*M,A[14]=(p*v-d*b-g*m)*M,A[15]=(l*b-u*v+h*m)*M,A):null}function s(A){const e=A[0],t=A[1],r=A[2],n=A[3],i=A[4],s=A[5],o=A[6],a=A[7],c=A[8],l=A[9],u=A[10],h=A[11],f=A[12],d=A[13],p=A[14],g=e*s-t*i,_=e*o-r*i,m=t*o-r*s,v=c*d-l*f,E=c*p-u*f,b=l*p-u*d;return a*(e*b-t*E+r*v)-n*(i*b-s*E+o*v)+A[15]*(c*m-l*_+u*g)-h*(f*m-d*_+p*g)}function o(A,e,t){const r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8],h=e[9],f=e[10],d=e[11],p=e[12],g=e[13],_=e[14],m=e[15];let v=t[0],E=t[1],b=t[2],w=t[3];return A[0]=v*r+E*o+b*u+w*p,A[1]=v*n+E*a+b*h+w*g,A[2]=v*i+E*c+b*f+w*_,A[3]=v*s+E*l+b*d+w*m,v=t[4],E=t[5],b=t[6],w=t[7],A[4]=v*r+E*o+b*u+w*p,A[5]=v*n+E*a+b*h+w*g,A[6]=v*i+E*c+b*f+w*_,A[7]=v*s+E*l+b*d+w*m,v=t[8],E=t[9],b=t[10],w=t[11],A[8]=v*r+E*o+b*u+w*p,A[9]=v*n+E*a+b*h+w*g,A[10]=v*i+E*c+b*f+w*_,A[11]=v*s+E*l+b*d+w*m,v=t[12],E=t[13],b=t[14],w=t[15],A[12]=v*r+E*o+b*u+w*p,A[13]=v*n+E*a+b*h+w*g,A[14]=v*i+E*c+b*f+w*_,A[15]=v*s+E*l+b*d+w*m,A}function a(A,e,t){const r=t[0],n=t[1],i=t[2];let s,o,a,c,l,u,h,f,d,p,g,_;return e===A?(A[12]=e[0]*r+e[4]*n+e[8]*i+e[12],A[13]=e[1]*r+e[5]*n+e[9]*i+e[13],A[14]=e[2]*r+e[6]*n+e[10]*i+e[14],A[15]=e[3]*r+e[7]*n+e[11]*i+e[15]):(s=e[0],o=e[1],a=e[2],c=e[3],l=e[4],u=e[5],h=e[6],f=e[7],d=e[8],p=e[9],g=e[10],_=e[11],A[0]=s,A[1]=o,A[2]=a,A[3]=c,A[4]=l,A[5]=u,A[6]=h,A[7]=f,A[8]=d,A[9]=p,A[10]=g,A[11]=_,A[12]=s*r+l*n+d*i+e[12],A[13]=o*r+u*n+p*i+e[13],A[14]=a*r+h*n+g*i+e[14],A[15]=c*r+f*n+_*i+e[15]),A}function c(A,e,t){const r=t[0],n=t[1],i=t[2];return A[0]=e[0]*r,A[1]=e[1]*r,A[2]=e[2]*r,A[3]=e[3]*r,A[4]=e[4]*n,A[5]=e[5]*n,A[6]=e[6]*n,A[7]=e[7]*n,A[8]=e[8]*i,A[9]=e[9]*i,A[10]=e[10]*i,A[11]=e[11]*i,A[12]=e[12],A[13]=e[13],A[14]=e[14],A[15]=e[15],A}function l(A,e,t,n){let i,s,o,a,c,l,u,h,f,d,p,g,_,m,v,E,b,w,y,T,S,C,R,P,x=n[0],M=n[1],k=n[2],B=Math.sqrt(x*x+M*M+k*k);return B<r.p8?null:(B=1/B,x*=B,M*=B,k*=B,s=Math.sin(t),i=Math.cos(t),o=1-i,a=e[0],c=e[1],l=e[2],u=e[3],h=e[4],f=e[5],d=e[6],p=e[7],g=e[8],_=e[9],m=e[10],v=e[11],E=x*x*o+i,b=M*x*o+k*s,w=k*x*o-M*s,y=x*M*o-k*s,T=M*M*o+i,S=k*M*o+x*s,C=x*k*o+M*s,R=M*k*o-x*s,P=k*k*o+i,A[0]=a*E+h*b+g*w,A[1]=c*E+f*b+_*w,A[2]=l*E+d*b+m*w,A[3]=u*E+p*b+v*w,A[4]=a*y+h*T+g*S,A[5]=c*y+f*T+_*S,A[6]=l*y+d*T+m*S,A[7]=u*y+p*T+v*S,A[8]=a*C+h*R+g*P,A[9]=c*C+f*R+_*P,A[10]=l*C+d*R+m*P,A[11]=u*C+p*R+v*P,e!==A&&(A[12]=e[12],A[13]=e[13],A[14]=e[14],A[15]=e[15]),A)}function u(A,e,t){const r=Math.sin(t),n=Math.cos(t),i=e[4],s=e[5],o=e[6],a=e[7],c=e[8],l=e[9],u=e[10],h=e[11];return e!==A&&(A[0]=e[0],A[1]=e[1],A[2]=e[2],A[3]=e[3],A[12]=e[12],A[13]=e[13],A[14]=e[14],A[15]=e[15]),A[4]=i*n+c*r,A[5]=s*n+l*r,A[6]=o*n+u*r,A[7]=a*n+h*r,A[8]=c*n-i*r,A[9]=l*n-s*r,A[10]=u*n-o*r,A[11]=h*n-a*r,A}function h(A,e,t){const r=Math.sin(t),n=Math.cos(t),i=e[0],s=e[1],o=e[2],a=e[3],c=e[8],l=e[9],u=e[10],h=e[11];return e!==A&&(A[4]=e[4],A[5]=e[5],A[6]=e[6],A[7]=e[7],A[12]=e[12],A[13]=e[13],A[14]=e[14],A[15]=e[15]),A[0]=i*n-c*r,A[1]=s*n-l*r,A[2]=o*n-u*r,A[3]=a*n-h*r,A[8]=i*r+c*n,A[9]=s*r+l*n,A[10]=o*r+u*n,A[11]=a*r+h*n,A}function f(A,e,t){const r=Math.sin(t),n=Math.cos(t),i=e[0],s=e[1],o=e[2],a=e[3],c=e[4],l=e[5],u=e[6],h=e[7];return e!==A&&(A[8]=e[8],A[9]=e[9],A[10]=e[10],A[11]=e[11],A[12]=e[12],A[13]=e[13],A[14]=e[14],A[15]=e[15]),A[0]=i*n+c*r,A[1]=s*n+l*r,A[2]=o*n+u*r,A[3]=a*n+h*r,A[4]=c*n-i*r,A[5]=l*n-s*r,A[6]=u*n-o*r,A[7]=h*n-a*r,A}function d(A,e){const t=e[0],r=e[1],n=e[2],i=e[3],s=t+t,o=r+r,a=n+n,c=t*s,l=r*s,u=r*o,h=n*s,f=n*o,d=n*a,p=i*s,g=i*o,_=i*a;return A[0]=1-u-d,A[1]=l+_,A[2]=h-g,A[3]=0,A[4]=l-_,A[5]=1-c-d,A[6]=f+p,A[7]=0,A[8]=h+g,A[9]=f-p,A[10]=1-c-u,A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,A}function p(A,e,t,r,n,i,s){const o=1/(t-e),a=1/(n-r),c=1/(i-s);return A[0]=2*i*o,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=2*i*a,A[6]=0,A[7]=0,A[8]=(t+e)*o,A[9]=(n+r)*a,A[10]=(s+i)*c,A[11]=-1,A[12]=0,A[13]=0,A[14]=s*i*2*c,A[15]=0,A}const g=function(A,e,t,r,n){const i=1/Math.tan(e/2);if(A[0]=i/t,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=i,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[11]=-1,A[12]=0,A[13]=0,A[15]=0,null!=n&&n!==1/0){const e=1/(r-n);A[10]=(n+r)*e,A[14]=2*n*r*e}else A[10]=-1,A[14]=-2*r;return A};const _=function(A,e,t,r,n,i,s){const o=1/(e-t),a=1/(r-n),c=1/(i-s);return A[0]=-2*o,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=-2*a,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=2*c,A[11]=0,A[12]=(e+t)*o,A[13]=(n+r)*a,A[14]=(s+i)*c,A[15]=1,A};function m(A,e,t,n){let i,s,o,a,c,l,u,h,f,d;const p=e[0],g=e[1],_=e[2],m=n[0],v=n[1],E=n[2],b=t[0],w=t[1],y=t[2];return Math.abs(p-b)<r.p8&&Math.abs(g-w)<r.p8&&Math.abs(_-y)<r.p8?function(A){return A[0]=1,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=1,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=1,A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,A}(A):(h=p-b,f=g-w,d=_-y,i=1/Math.sqrt(h*h+f*f+d*d),h*=i,f*=i,d*=i,s=v*d-E*f,o=E*h-m*d,a=m*f-v*h,i=Math.sqrt(s*s+o*o+a*a),i?(i=1/i,s*=i,o*=i,a*=i):(s=0,o=0,a=0),c=f*a-d*o,l=d*s-h*a,u=h*o-f*s,i=Math.sqrt(c*c+l*l+u*u),i?(i=1/i,c*=i,l*=i,u*=i):(c=0,l=0,u=0),A[0]=s,A[1]=c,A[2]=h,A[3]=0,A[4]=o,A[5]=l,A[6]=f,A[7]=0,A[8]=a,A[9]=u,A[10]=d,A[11]=0,A[12]=-(s*p+o*g+a*_),A[13]=-(c*p+l*g+u*_),A[14]=-(h*p+f*g+d*_),A[15]=1,A)}},9210:(A,e,t)=>{"use strict";t.d(e,{Bw:()=>s,Cc:()=>a,WQ:()=>n,Z0:()=>c,hs:()=>i,jb:()=>l,ze:()=>o});var r=t(7055);function n(A,e,t){return A[0]=e[0]+t[0],A[1]=e[1]+t[1],A}function i(A,e,t){return A[0]=e[0]*t,A[1]=e[1]*t,A}function s(A){const e=A[0],t=A[1];return Math.sqrt(e*e+t*t)}function o(A,e){return A[0]=-e[0],A[1]=-e[1],A}function a(A,e,t,r){const n=e[0],i=e[1];return A[0]=n+r*(t[0]-n),A[1]=i+r*(t[1]-i),A}function c(A,e,t){const r=e[0],n=e[1];return A[0]=t[0]*r+t[4]*n+t[12],A[1]=t[1]*r+t[5]*n+t[13],A}const l=function(A,e,t){return A[0]=e[0]-t[0],A[1]=e[1]-t[1],A};!function(){const A=function(){const A=new r.tb(2);return r.tb!=Float32Array&&(A[0]=0,A[1]=0),A}()}()},6425:(A,e,t)=>{"use strict";t.d(e,{$A:()=>s,Z0:()=>o,Z8:()=>u,eL:()=>l,ei:()=>a,g7:()=>f,gL:()=>c,jb:()=>d,x6:()=>h,xg:()=>p,ze:()=>n});var r=t(7055);function n(A,e){return A[0]=-e[0],A[1]=-e[1],A[2]=-e[2],A}function i(A,e){return A[0]*e[0]+A[1]*e[1]+A[2]*e[2]}function s(A,e,t){const r=e[0],n=e[1],i=e[2],s=t[0],o=t[1],a=t[2];return A[0]=n*a-i*o,A[1]=i*s-r*a,A[2]=r*o-n*s,A}function o(A,e,t){const r=e[0],n=e[1],i=e[2];let s=t[3]*r+t[7]*n+t[11]*i+t[15];return s=s||1,A[0]=(t[0]*r+t[4]*n+t[8]*i+t[12])/s,A[1]=(t[1]*r+t[5]*n+t[9]*i+t[13])/s,A[2]=(t[2]*r+t[6]*n+t[10]*i+t[14])/s,A}function a(A,e,t){const r=e[0],n=e[1],i=e[2];return A[0]=r*t[0]+n*t[3]+i*t[6],A[1]=r*t[1]+n*t[4]+i*t[7],A[2]=r*t[2]+n*t[5]+i*t[8],A}function c(A,e,t){const r=t[0],n=t[1],i=t[2],s=t[3],o=e[0],a=e[1],c=e[2];let l=n*c-i*a,u=i*o-r*c,h=r*a-n*o,f=n*h-i*u,d=i*l-r*h,p=r*u-n*l;const g=2*s;return l*=g,u*=g,h*=g,f*=2,d*=2,p*=2,A[0]=o+l+f,A[1]=a+u+d,A[2]=c+h+p,A}function l(A,e,t,r){const n=[],i=[];return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],i[0]=n[0],i[1]=n[1]*Math.cos(r)-n[2]*Math.sin(r),i[2]=n[1]*Math.sin(r)+n[2]*Math.cos(r),A[0]=i[0]+t[0],A[1]=i[1]+t[1],A[2]=i[2]+t[2],A}function u(A,e,t,r){const n=[],i=[];return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],i[0]=n[2]*Math.sin(r)+n[0]*Math.cos(r),i[1]=n[1],i[2]=n[2]*Math.cos(r)-n[0]*Math.sin(r),A[0]=i[0]+t[0],A[1]=i[1]+t[1],A[2]=i[2]+t[2],A}function h(A,e,t,r){const n=[],i=[];return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],i[0]=n[0]*Math.cos(r)-n[1]*Math.sin(r),i[1]=n[0]*Math.sin(r)+n[1]*Math.cos(r),i[2]=n[2],A[0]=i[0]+t[0],A[1]=i[1]+t[1],A[2]=i[2]+t[2],A}function f(A,e){const t=A[0],r=A[1],n=A[2],s=e[0],o=e[1],a=e[2],c=Math.sqrt((t*t+r*r+n*n)*(s*s+o*o+a*a)),l=c&&i(A,e)/c;return Math.acos(Math.min(Math.max(l,-1),1))}const d=function(A,e,t){return A[0]=e[0]-t[0],A[1]=e[1]-t[1],A[2]=e[2]-t[2],A},p=function(A,e){const t=e[0]-A[0],r=e[1]-A[1],n=e[2]-A[2];return Math.sqrt(t*t+r*r+n*n)};!function(){const A=function(){const A=new r.tb(3);return r.tb!=Float32Array&&(A[0]=0,A[1]=0,A[2]=0),A}()}()},7964:(A,e,t)=>{"use strict";t.d(e,{Z0:()=>i,hs:()=>n});var r=t(7055);function n(A,e,t){return A[0]=e[0]*t,A[1]=e[1]*t,A[2]=e[2]*t,A[3]=e[3]*t,A}function i(A,e,t){const r=e[0],n=e[1],i=e[2],s=e[3];return A[0]=t[0]*r+t[4]*n+t[8]*i+t[12]*s,A[1]=t[1]*r+t[5]*n+t[9]*i+t[13]*s,A[2]=t[2]*r+t[6]*n+t[10]*i+t[14]*s,A[3]=t[3]*r+t[7]*n+t[11]*i+t[15]*s,A}!function(){const A=function(){const A=new r.tb(4);return r.tb!=Float32Array&&(A[0]=0,A[1]=0,A[2]=0,A[3]=0),A}()}()},4315:(A,e,t)=>{"use strict";t.d(e,{$W:()=>r,Cc:()=>o,Fl:()=>n,aI:()=>a,cy:()=>i,qE:()=>s});Math.PI,Math.PI;globalThis.mathgl=globalThis.mathgl||{config:{EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1}};const r=globalThis.mathgl.config;function n(A,{precision:e=r.precision}={}){return A=function(A){return Math.round(A/r.EPSILON)*r.EPSILON}(A),`${parseFloat(A.toPrecision(e))}`}function i(A){return Array.isArray(A)||ArrayBuffer.isView(A)&&!(A instanceof DataView)}function s(A,e,t){return c(A,(A=>Math.max(e,Math.min(t,A))))}function o(A,e,t){return i(A)?A.map(((A,r)=>o(A,e[r],t))):t*e+(1-t)*A}function a(A,e,t){const n=r.EPSILON;t&&(r.EPSILON=t);try{if(A===e)return!0;if(i(A)&&i(e)){if(A.length!==e.length)return!1;for(let t=0;t<A.length;++t)if(!a(A[t],e[t]))return!1;return!0}return A&&A.equals?A.equals(e):e&&e.equals?e.equals(A):"number"==typeof A&&"number"==typeof e&&Math.abs(A-e)<=r.EPSILON*Math.max(1,Math.abs(A),Math.abs(e))}finally{r.EPSILON=n}}function c(A,e,t){if(i(A)){const r=A;t=t||function(A){return A.clone?A.clone():new Array(A.length)}(r);for(let n=0;n<t.length&&n<r.length;++n){const r="number"==typeof A?A:A[n];t[n]=e(r,n,t)}return t}return e(A)}},7919:(A,e,t)=>{"use strict";function r(A,e,t){const r=e[0],n=e[1],i=t[3]*r+t[7]*n||1;return A[0]=(t[0]*r+t[4]*n)/i,A[1]=(t[1]*r+t[5]*n)/i,A}function n(A,e,t){const r=e[0],n=e[1],i=e[2],s=t[3]*r+t[7]*n+t[11]*i||1;return A[0]=(t[0]*r+t[4]*n+t[8]*i)/s,A[1]=(t[1]*r+t[5]*n+t[9]*i)/s,A[2]=(t[2]*r+t[6]*n+t[10]*i)/s,A}function i(A,e,t){const r=e[0],n=e[1];return A[0]=t[0]*r+t[2]*n,A[1]=t[1]*r+t[3]*n,A[2]=e[2],A}t.d(e,{B$:()=>r,J4:()=>i,cL:()=>n})},1697:(A,e,t)=>{"use strict";t.d(e,{qk:()=>i,ws:()=>n});var r=t(4315);function n(A){if(!Number.isFinite(A))throw new Error(`Invalid number ${JSON.stringify(A)}`);return A}function i(A,e,t=""){if(r.$W.debug&&!function(A,e){if(A.length!==e)return!1;for(let t=0;t<A.length;++t)if(!Number.isFinite(A[t]))return!1;return!0}(A,e))throw new Error(`math.gl: ${t} some fields set to invalid numbers'`);return A}},9451:(A,e,t)=>{"use strict";t.d(e,{dT:()=>R,Os:()=>M,Fe:()=>L,rj:()=>z,wZ:()=>k,gW:()=>O,nI:()=>C,v7:()=>V,fO:()=>T,om:()=>x,rY:()=>P,Gw:()=>w,CK:()=>N,xJ:()=>I,mY:()=>S,iV:()=>y,VJ:()=>B});var r=t(7964);function n(A,e){const t=r.Z0([],e,A);return r.hs(t,t,1/t[3]),t}function i(A,e){const t=A%e;return t<0?e+t:t}function s(A,e,t){return A<e?e:A>t?t:A}const o=Math.log2||function(A){return Math.log(A)*Math.LOG2E};var a=t(3348),c=t(6425),l=t(9210);function u(A,e){if(!A)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const h=Math.PI,f=h/4,d=h/180,p=180/h,g=512,_=4003e4,m=85.051129,v=1.5;function E(A){return Math.pow(2,A)}function b(A){return o(A)}function w(A){const[e,t]=A;u(Number.isFinite(e)),u(Number.isFinite(t)&&t>=-90&&t<=90,"invalid latitude");const r=t*d;return[g*(e*d+h)/(2*h),g*(h+Math.log(Math.tan(f+.5*r)))/(2*h)]}function y(A){const[e,t]=A,r=e/g*(2*h)-h,n=2*(Math.atan(Math.exp(t/g*(2*h)-h))-f);return[r*p,n*p]}function T(A){const{latitude:e}=A;u(Number.isFinite(e));const t=Math.cos(e*d);return b(_*t)-9}function S(A){return 12790407194604047e-21/Math.cos(A*d)}function C(A){const{latitude:e,longitude:t,highPrecision:r=!1}=A;u(Number.isFinite(e)&&Number.isFinite(t));const n=Math.cos(e*d),i=512/360,s=i/n,o=12790407194604047e-21/n,a={unitsPerMeter:[o,o,o],metersPerUnit:[1/o,1/o,1/o],unitsPerDegree:[i,s,o],degreesPerUnit:[.703125,1/s,1/o]};if(r){const A=d*Math.tan(e*d)/n,t=i*A/2,r=12790407194604047e-21*A,c=r/s*o;a.unitsPerDegree2=[0,t,r],a.unitsPerMeter2=[c,0,c]}return a}function R(A,e){const[t,r,n]=A,[i,s,o]=e,{unitsPerMeter:a,unitsPerMeter2:c}=C({longitude:t,latitude:r,highPrecision:!0}),l=w(A);l[0]+=i*(a[0]+c[0]*s),l[1]+=s*(a[1]+c[1]*s);const u=y(l),h=(n||0)+(o||0);return Number.isFinite(n)||Number.isFinite(o)?[u[0],u[1],h]:u}function P(A){const{height:e,pitch:t,bearing:r,altitude:n,scale:i,center:s}=A,o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];a.Tl(o,o,[0,0,-n]),a.eL(o,o,-t*d),a.Qr(o,o,r*d);const l=i/e;return a.hs(o,o,[l,l,l]),s&&a.Tl(o,o,c.ze([],s)),o}function x(A){const{width:e,height:t,altitude:r,pitch:n=0,offset:i,center:o,scale:a,nearZMultiplier:c=1,farZMultiplier:l=1}=A;let{fovy:u=M(v)}=A;void 0!==r&&(u=M(r));const h=u*d,f=n*d,p=k(u);let g=p;o&&(g+=o[2]*a/Math.cos(f)/t);const _=h*(.5+(i?i[1]:0)/t),m=Math.sin(_)*g/Math.sin(s(Math.PI/2-f-_,.01,Math.PI-.01)),E=Math.sin(f)*m+g,b=10*g;return{fov:h,aspect:e/t,focalDistance:p,near:c,far:Math.min(E*l,b)}}function M(A){return 2*Math.atan(.5/A)*p}function k(A){return.5/Math.tan(.5*A*d)}function B(A,e){const[t,r,i=0]=A;return u(Number.isFinite(t)&&Number.isFinite(r)&&Number.isFinite(i)),n(e,[t,r,i,1])}function I(A,e,t=0){const[r,i,s]=A;if(u(Number.isFinite(r)&&Number.isFinite(i),"invalid pixel coordinate"),Number.isFinite(s)){return n(e,[r,i,s,1])}const o=n(e,[r,i,0,1]),a=n(e,[r,i,1,1]),c=o[2],h=a[2],f=c===h?0:((t||0)-c)/(h-c);return l.Cc([],o,a,f)}function L(A){const{width:e,height:t,bounds:r,minExtent:n=0,maxZoom:i=24,offset:a=[0,0]}=A,[[c,l],[h,f]]=r,d=function(A=0){if("number"==typeof A)return{top:A,bottom:A,left:A,right:A};return u(Number.isFinite(A.top)&&Number.isFinite(A.bottom)&&Number.isFinite(A.left)&&Number.isFinite(A.right)),A}(A.padding),p=w([c,s(f,-85.051129,m)]),g=w([h,s(l,-85.051129,m)]),_=[Math.max(Math.abs(g[0]-p[0]),n),Math.max(Math.abs(g[1]-p[1]),n)],v=[e-d.left-d.right-2*Math.abs(a[0]),t-d.top-d.bottom-2*Math.abs(a[1])];u(v[0]>0&&v[1]>0);const E=v[0]/_[0],b=v[1]/_[1],T=(d.right-d.left)/2/E,S=(d.top-d.bottom)/2/b,C=y([(g[0]+p[0])/2+T,(g[1]+p[1])/2+S]),R=Math.min(i,o(Math.abs(Math.min(E,b))));return u(Number.isFinite(R)),{longitude:C[0],latitude:C[1],zoom:R}}const D=Math.PI/180;function O(A,e=0){const{width:t,height:r,unproject:n}=A,i={targetZ:e},s=n([0,r],i),o=n([t,r],i);let a,c;return(A.fovy?.5*A.fovy*D:Math.atan(.5/A.altitude))>(90-A.pitch)*D-.01?(a=F(A,0,e),c=F(A,t,e)):(a=n([0,0],i),c=n([t,0],i)),[s,o,c,a]}function F(A,e,t){const{pixelUnprojectionMatrix:r}=A,i=n(r,[e,0,1,1]),s=n(r,[e,A.height,1,1]),o=(t*A.distanceScales.unitsPerMeter[2]-i[2])/(s[2]-i[2]),a=y(l.Cc([],i,s,o));return a.push(t),a}function N(A){const{width:e,height:t,pitch:r=0}=A;let{longitude:n,latitude:s,zoom:a,bearing:c=0}=A;(n<-180||n>180)&&(n=i(n+180,360)-180),(c<-180||c>180)&&(c=i(c+180,360)-180);const l=o(t/512);if(a<=l)a=l,s=0;else{const A=t/2/Math.pow(2,a),e=y([0,A])[1];if(s<e)s=e;else{const e=y([0,512-A])[1];s>e&&(s=e)}}return{width:e,height:t,longitude:n,latitude:s,zoom:a,pitch:r,bearing:c}}const U=["longitude","latitude","zoom"],G={curve:1.414,speed:1.2};function z(A,e,t,r){const{startZoom:n,startCenterXY:i,uDelta:s,w0:o,u1:a,S:c,rho:u,rho2:h,r0:f}=Q(A,e,r);if(a<.01){const r={};for(const n of U){const i=A[n],s=e[n];r[n]=(d=t)*s+(1-d)*i}return r}var d;const p=t*c,g=Math.cosh(f)/Math.cosh(f+u*p),_=o*((Math.cosh(f)*Math.tanh(f+u*p)-Math.sinh(f))/h)/a,m=n+b(1/g),v=l.hs([],s,_);l.WQ(v,v,i);const E=y(v);return{longitude:E[0],latitude:E[1],zoom:m}}function V(A,e,t){const r={...G,...t},{screenSpeed:n,speed:i,maxDuration:s}=r,{S:o,rho:a}=Q(A,e,r),c=1e3*o;let l;return l=Number.isFinite(n)?c/(n/a):c/i,Number.isFinite(s)&&l>s?0:l}function Q(A,e,t){const r=(t=Object.assign({},G,t)).curve,n=A.zoom,i=[A.longitude,A.latitude],s=E(n),o=e.zoom,a=[e.longitude,e.latitude],c=E(o-n),u=w(i),h=w(a),f=l.jb([],h,u),d=Math.max(A.width,A.height),p=d/c,g=l.Bw(f)*s,_=Math.max(g,.01),m=r*r,v=(p*p-d*d+m*m*_*_)/(2*d*m*_),b=(p*p-d*d-m*m*_*_)/(2*p*m*_),y=Math.log(Math.sqrt(v*v+1)-v),T=Math.log(Math.sqrt(b*b+1)-b);return{startZoom:n,startCenterXY:u,uDelta:f,w0:d,u1:g,S:(T-y)/r,rho:r,rho2:m,r0:y,r1:T}}},3640:(A,e,t)=>{"use strict";t.d(e,{eh:()=>n,gM:()=>i,x:()=>r});const r=globalThis,n=(globalThis.document,globalThis.process||{}),i=(globalThis.console,globalThis.navigator||{})},4003:(A,e,t)=>{"use strict";t.d(e,{B:()=>n});var r=t(7989);function n(){return!("object"==typeof process&&"[object process]"===String(process)&&!process?.browser)||(0,r.b)()}},7989:(A,e,t)=>{"use strict";function r(A){if("undefined"!=typeof window&&"renderer"===window.process?.type)return!0;if("undefined"!=typeof process&&Boolean(process.versions?.electron))return!0;const e="undefined"!=typeof navigator&&navigator.userAgent,t=A||e;return Boolean(t&&t.indexOf("Electron")>=0)}t.d(e,{b:()=>r})},5335:(A,e,t)=>{"use strict";t.d(e,{t:()=>g});var r=t(4003);const n="4.0.7";class i{constructor(A,e,t="sessionStorage"){this.storage=function(A){try{const e=window[A],t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch(e){return null}}(t),this.id=A,this.config=e,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(A){if(Object.assign(this.config,A),this.storage){const A=JSON.stringify(this.config);this.storage.setItem(this.id,A)}}_loadConfiguration(){let A={};if(this.storage){const e=this.storage.getItem(this.id);A=e?JSON.parse(e):{}}return Object.assign(this.config,A),this}}var s;!function(A){A[A.BLACK=30]="BLACK",A[A.RED=31]="RED",A[A.GREEN=32]="GREEN",A[A.YELLOW=33]="YELLOW",A[A.BLUE=34]="BLUE",A[A.MAGENTA=35]="MAGENTA",A[A.CYAN=36]="CYAN",A[A.WHITE=37]="WHITE",A[A.BRIGHT_BLACK=90]="BRIGHT_BLACK",A[A.BRIGHT_RED=91]="BRIGHT_RED",A[A.BRIGHT_GREEN=92]="BRIGHT_GREEN",A[A.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",A[A.BRIGHT_BLUE=94]="BRIGHT_BLUE",A[A.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",A[A.BRIGHT_CYAN=96]="BRIGHT_CYAN",A[A.BRIGHT_WHITE=97]="BRIGHT_WHITE"}(s||(s={}));function o(A){return"string"!=typeof A?A:(A=A.toUpperCase(),s[A]||s.WHITE)}function a(A,e){if(!A)throw new Error(e||"Assertion failed")}var c=t(3640);function l(){let A;if((0,r.B)()&&c.x.performance)A=c.x?.performance?.now?.();else if("hrtime"in c.eh){const e=c.eh?.hrtime?.();A=1e3*e[0]+e[1]/1e6}else A=Date.now();return A}const u={debug:(0,r.B)()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},h={enabled:!0,level:0};function f(){}const d={},p={once:!0};class g{constructor({id:A}={id:""}){this.VERSION=n,this._startTs=l(),this._deltaTs=l(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=A,this.userData={},this._storage=new i(`__probe-${this.id}__`,h),this.timeStamp(`${this.id} started`),function(A,e=["constructor"]){const t=Object.getPrototypeOf(A),r=Object.getOwnPropertyNames(t),n=A;for(const i of r){const t=n[i];"function"==typeof t&&(e.find((A=>i===A))||(n[i]=t.bind(A)))}}(this),Object.seal(this)}set level(A){this.setLevel(A)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((l()-this._startTs).toPrecision(10))}getDelta(){return Number((l()-this._deltaTs).toPrecision(10))}set priority(A){this.level=A}get priority(){return this.level}getPriority(){return this.level}enable(A=!0){return this._storage.setConfiguration({enabled:A}),this}setLevel(A){return this._storage.setConfiguration({level:A}),this}get(A){return this._storage.config[A]}set(A,e){this._storage.setConfiguration({[A]:e})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(A,e){if(!A)throw new Error(e||"Assertion failed")}warn(A){return this._getLogFunction(0,A,u.warn,arguments,p)}error(A){return this._getLogFunction(0,A,u.error,arguments)}deprecated(A,e){return this.warn(`\`${A}\` is deprecated and will be removed in a later version. Use \`${e}\` instead`)}removed(A,e){return this.error(`\`${A}\` has been removed. Use \`${e}\` instead`)}probe(A,e){return this._getLogFunction(A,e,u.log,arguments,{time:!0,once:!0})}log(A,e){return this._getLogFunction(A,e,u.debug,arguments)}info(A,e){return this._getLogFunction(A,e,console.info,arguments)}once(A,e){return this._getLogFunction(A,e,u.debug||u.info,arguments,p)}table(A,e,t){return e?this._getLogFunction(A,e,console.table||f,t&&[t],{tag:v(e)}):f}time(A,e){return this._getLogFunction(A,e,console.time?console.time:console.info)}timeEnd(A,e){return this._getLogFunction(A,e,console.timeEnd?console.timeEnd:console.info)}timeStamp(A,e){return this._getLogFunction(A,e,console.timeStamp||f)}group(A,e,t={collapsed:!1}){const r=m({logLevel:A,message:e,opts:t}),{collapsed:n}=t;return r.method=(n?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}groupCollapsed(A,e,t={}){return this.group(A,e,Object.assign({},t,{collapsed:!0}))}groupEnd(A){return this._getLogFunction(A,"",console.groupEnd||f)}withGroup(A,e,t){this.group(A,e)();try{t()}finally{this.groupEnd(A)()}}trace(){console.trace&&console.trace()}_shouldLog(A){return this.isEnabled()&&this.getLevel()>=_(A)}_getLogFunction(A,e,t,n,i){if(this._shouldLog(A)){i=m({logLevel:A,message:e,args:n,opts:i}),a(t=t||i.method),i.total=this.getTotal(),i.delta=this.getDelta(),this._deltaTs=l();const s=i.tag||i.message;if(i.once&&s){if(d[s])return f;d[s]=l()}return e=function(A,e,t){if("string"==typeof e){const n=t.time?function(A,e=8){const t=Math.max(e-A.length,0);return`${" ".repeat(t)}${A}`}(function(A){let e;return e=A<10?`${A.toFixed(2)}ms`:A<100?`${A.toFixed(1)}ms`:A<1e3?`${A.toFixed(0)}ms`:`${(A/1e3).toFixed(2)}s`,e}(t.total)):"";e=function(A,e,t){r.B||"string"!=typeof A||(e&&(A=`\x1b[${o(e)}m${A}\x1b[39m`),t&&(A=`\x1b[${o(t)+10}m${A}\x1b[49m`));return A}(e=t.time?`${A}: ${n}  ${e}`:`${A}: ${e}`,t.color,t.background)}return e}(this.id,i.message,i),t.bind(console,e,...i.args)}return f}}function _(A){if(!A)return 0;let e;switch(typeof A){case"number":e=A;break;case"object":e=A.logLevel||A.priority||0;break;default:return 0}return a(Number.isFinite(e)&&e>=0),e}function m(A){const{logLevel:e,message:t}=A;A.logLevel=_(e);const r=A.args?Array.from(A.args):[];for(;r.length&&r.shift()!==t;);switch(typeof e){case"string":case"function":void 0!==t&&r.unshift(t),A.message=e;break;case"object":Object.assign(A,e)}"function"==typeof A.message&&(A.message=A.message());const n=typeof A.message;return a("string"===n||"object"===n),Object.assign(A,{args:r},A.opts)}function v(A){for(const e in A)for(const t in A[e])return t||"untitled";return"empty"}g.VERSION=n}}]);